/* Author: Evgeny Blokhin, Tilde Materials Informatics, 2016-2021 */
(function($){$.extend({tablesorter:new function(){var parsers=[],widgets=[];this.defaults={cssHeader:"header",cssAsc:"headerSortUp",cssDesc:"headerSortDown",cssChildRow:"expand-child",sortInitialOrder:"asc",sortMultiSortKey:"shiftKey",sortForce:null,sortAppend:null,sortLocaleCompare:true,textExtraction:"simple",parsers:{},widgets:[],headers:{},widthFixed:false,cancelSelection:true,sortList:[],headerList:[],dateFormat:"us",decimal:"/.|,/g",onRenderHeader:null,selectorHeaders:"#dataheader_entries > thead > tr > th",
selectorHeaderParent:"dataheader_entries",debug:false};function benchmark(s,d){log(s+","+((new Date).getTime()-d.getTime())+"ms")}this.benchmark=benchmark;function log(s){if(typeof console!="undefined"&&typeof console.debug!="undefined")console.log(s);else alert(s)}function buildParserCache(table,$headers){if(table.config.debug)var parsersDebug="";if(table.tBodies.length==0)return;var rows=table.tBodies[0].rows;if(rows[0]){var list=[],cells=rows[0].cells,l=cells.length;for(var i=0;i<l;i++){var p=
false;if($.metadata&&($($headers[i]).metadata()&&$($headers[i]).metadata().sorter))p=getParserById($($headers[i]).metadata().sorter);else if(table.config.headers[i]&&table.config.headers[i].sorter)p=getParserById(table.config.headers[i].sorter);if(!p)p=detectParserForColumn(table,rows,-1,i);if(table.config.debug)parsersDebug+="column:"+i+" parser:"+p.id+"\n";list.push(p)}}if(table.config.debug)log(parsersDebug);return list}function detectParserForColumn(table,rows,rowIndex,cellIndex){var l=parsers.length,
node=false,nodeValue=false,keepLooking=true;while(nodeValue==""&&keepLooking){rowIndex++;if(rows[rowIndex]){node=getNodeFromRowAndCellIndex(rows,rowIndex,cellIndex);nodeValue=trimAndGetNodeText(table.config,node);if(table.config.debug)log("Checking if value was empty on row:"+rowIndex)}else keepLooking=false}for(var i=1;i<l;i++)if(parsers[i].is(nodeValue,table,node))return parsers[i];return parsers[0]}function getNodeFromRowAndCellIndex(rows,rowIndex,cellIndex){return rows[rowIndex].cells[cellIndex]}
function trimAndGetNodeText(config,node){return $.trim(getElementText(config,node))}function getParserById(name){var l=parsers.length;for(var i=0;i<l;i++)if(parsers[i].id.toLowerCase()==name.toLowerCase())return parsers[i];return false}function buildCache(table){if(table.config.debug)var cacheTime=new Date;var totalRows=table.tBodies[0]&&table.tBodies[0].rows.length||0,totalCells=table.tBodies[0].rows[0]&&table.tBodies[0].rows[0].cells.length||0,parsers=table.config.parsers,cache={row:[],normalized:[]};
for(var i=0;i<totalRows;++i){var c=$(table.tBodies[0].rows[i]),cols=[];if(c.hasClass(table.config.cssChildRow)){cache.row[cache.row.length-1]=cache.row[cache.row.length-1].add(c);continue}cache.row.push(c);for(var j=0;j<totalCells;++j)cols.push(parsers[j].format(getElementText(table.config,c[0].cells[j]),table,c[0].cells[j]));cols.push(cache.normalized.length);cache.normalized.push(cols);cols=null}if(table.config.debug)benchmark("Building cache for "+totalRows+" rows:",cacheTime);return cache}function getElementText(config,
node){if(!node)return"";var $node=$(node),data=$node.attr("data-sort-value");if(data!==undefined)return data;var text="";if(!config.supportsTextContent)config.supportsTextContent=node.textContent||false;if(config.textExtraction=="simple")if(config.supportsTextContent)text=node.textContent;else if(node.childNodes[0]&&node.childNodes[0].hasChildNodes())text=node.childNodes[0].innerHTML;else text=node.innerHTML;else if(typeof config.textExtraction=="function")text=config.textExtraction(node);else text=
$(node).text();return text}function appendToTable(table,cache){if(table.config.debug)var appendTime=new Date;var c=cache,r=c.row,n=c.normalized,totalRows=n.length,checkCell=n[0].length-1,tableBody=$(table.tBodies[0]),rows=[];for(var i=0;i<totalRows;i++){var pos=n[i][checkCell];rows.push(r[pos]);if(!table.config.appender){var l=r[pos].length;for(var j=0;j<l;j++)tableBody[0].appendChild(r[pos][j])}}if(table.config.appender)table.config.appender(table,rows);rows=null;if(table.config.debug)benchmark("Rebuilt table:",
appendTime);setTimeout((function(){$(table).trigger("sortEnd")}),0)}function buildHeaders(table){if(table.config.debug)var time=new Date;var meta=$.metadata?true:false;var header_index=computeTableHeaderCellIndexes(document.getElementById(table.config.selectorHeaderParent));var $tableHeaders=$(table.config.selectorHeaders).each((function(index){this.column=header_index[this.parentNode.rowIndex+"-"+this.cellIndex];this.order=formatSortingOrder(table.config.sortInitialOrder);this.count=this.order;if(checkHeaderMetadata(this)||
checkHeaderOptions(table,index))this.sortDisabled=true;if(checkHeaderOptionsSortingLocked(table,index))this.order=this.lockedOrder=checkHeaderOptionsSortingLocked(table,index);if(!this.sortDisabled){var $th=$(this).addClass(table.config.cssHeader);if(table.config.onRenderHeader)table.config.onRenderHeader.apply($th)}table.config.headerList[index]=this}));if(table.config.debug){benchmark("Built headers:",time);log($tableHeaders)}return $tableHeaders}function computeTableHeaderCellIndexes(t){var matrix=
[];var lookup={};var thead=t.getElementsByTagName("THEAD")[0];var trs=thead.getElementsByTagName("TR");for(var i=0;i<trs.length;i++){var cells=trs[i].cells;for(var j=0;j<cells.length;j++){var c=cells[j];var rowIndex=c.parentNode.rowIndex;var cellId=rowIndex+"-"+c.cellIndex;var rowSpan=c.rowSpan||1;var colSpan=c.colSpan||1;var firstAvailCol;if(typeof matrix[rowIndex]=="undefined")matrix[rowIndex]=[];for(var k=0;k<matrix[rowIndex].length+1;k++)if(typeof matrix[rowIndex][k]=="undefined"){firstAvailCol=
k;break}lookup[cellId]=firstAvailCol;for(var k=rowIndex;k<rowIndex+rowSpan;k++){if(typeof matrix[k]=="undefined")matrix[k]=[];var matrixrow=matrix[k];for(var l=firstAvailCol;l<firstAvailCol+colSpan;l++)matrixrow[l]="x"}}}return lookup}function checkCellColSpan(table,rows,row){var arr=[],r=document.getElementById(table.config.selectorHeaderParent).tHead.rows,c=r[row].cells;for(var i=0;i<c.length;i++){var cell=c[i];if(cell.colSpan>1)arr=arr.concat(checkCellColSpan(table,headerArr,row++));else if(table.tHead.length==
1||(cell.rowSpan>1||!r[row+1]))arr.push(cell)}return arr}function checkHeaderMetadata(cell){if($.metadata&&$(cell).metadata().sorter===false)return true;return false}function checkHeaderOptions(table,i){if(table.config.headers[i]&&table.config.headers[i].sorter===false)return true;return false}function checkHeaderOptionsSortingLocked(table,i){if(table.config.headers[i]&&table.config.headers[i].lockedOrder)return table.config.headers[i].lockedOrder;return false}function formatSortingOrder(v){if(typeof v!=
"Number")return v.toLowerCase()=="desc"?1:0;else return v==1?1:0}function isValueInArray(v,a){var i=0,l=a.length;for(i;i<l;i++)if(a[i][0]==v)return true;return false}function setHeadersCss(table,$headers,list,css){$headers.removeClass(css[0]).removeClass(css[1]);var h=[];$headers.each((function(offset){if(!this.sortDisabled)h[this.column]=$(this)}));var i=0,l=list.length;for(i;i<l;i++)h[list[i][0]].addClass(css[list[i][1]])}function fixColumnWidth(table,$headers){var c=table.config;if(c.widthFixed){var colgroup=
$("<colgroup>");$("tr:first td",table.tBodies[0]).each((function(){colgroup.append($("<col>").css("width",$(this).width()))}));$(table).prepend(colgroup)}}function updateHeaderSortCount(table,sortList){var c=table.config,l=sortList.length;for(var i=0;i<l;i++){var s=sortList[i],o=c.headerList[s[0]];o.count=s[1];o.count++}}var sortWrapper;function multisort(table,sortList,cache){if(table.config.debug)var sortTime=new Date;var dynamicExp="sortWrapper = function(a,b) {",l=sortList.length;for(var i=0;i<
l;i++){var c=sortList[i][0];var order=sortList[i][1];var s=table.config.parsers[c].type=="text"?order==0?makeSortFunction("text","asc",c):makeSortFunction("text","desc",c):order==0?makeSortFunction("numeric","asc",c):makeSortFunction("numeric","desc",c);var e="e"+i;dynamicExp+="var "+e+" = "+s;dynamicExp+="if("+e+") { return "+e+"; } ";dynamicExp+="else { "}var orgOrderCol=cache.normalized[0].length-1;dynamicExp+="return a["+orgOrderCol+"]-b["+orgOrderCol+"];";for(var i=0;i<l;i++)dynamicExp+="}; ";
dynamicExp+="return 0; ";dynamicExp+="}; ";if(table.config.debug)benchmark("Evaling expression:"+dynamicExp,new Date);eval(dynamicExp);cache.normalized.sort(sortWrapper);if(table.config.debug)benchmark("Sorting on "+sortList.toString()+" and dir "+order+" time:",sortTime);return cache}function makeSortFunction(type,direction,index){var a="a["+index+"]",b="b["+index+"]";if(type=="text"&&direction=="asc")return"("+a+" == "+b+" ? 0 : ("+a+" === null ? Number.POSITIVE_INFINITY : ("+b+" === null ? Number.NEGATIVE_INFINITY : ("+
a+" < "+b+") ? -1 : 1 )));";else if(type=="text"&&direction=="desc")return"("+a+" == "+b+" ? 0 : ("+a+" === null ? Number.POSITIVE_INFINITY : ("+b+" === null ? Number.NEGATIVE_INFINITY : ("+b+" < "+a+") ? -1 : 1 )));";else if(type=="numeric"&&direction=="asc")return"("+a+" === null && "+b+" === null) ? 0 :("+a+" === null ? Number.POSITIVE_INFINITY : ("+b+" === null ? Number.NEGATIVE_INFINITY : "+a+" - "+b+"));";else if(type=="numeric"&&direction=="desc")return"("+a+" === null && "+b+" === null) ? 0 :("+
a+" === null ? Number.POSITIVE_INFINITY : ("+b+" === null ? Number.NEGATIVE_INFINITY : "+b+" - "+a+"));"}function makeSortText(i){return"((a["+i+"] < b["+i+"]) ? -1 : ((a["+i+"] > b["+i+"]) ? 1 : 0));"}function makeSortTextDesc(i){return"((b["+i+"] < a["+i+"]) ? -1 : ((b["+i+"] > a["+i+"]) ? 1 : 0));"}function makeSortNumeric(i){return"a["+i+"]-b["+i+"];"}function makeSortNumericDesc(i){return"b["+i+"]-a["+i+"];"}function sortText(a,b){if(table.config.sortLocaleCompare)return a.localeCompare(b);return a<
b?-1:a>b?1:0}function sortTextDesc(a,b){if(table.config.sortLocaleCompare)return b.localeCompare(a);return b<a?-1:b>a?1:0}function sortNumeric(a,b){return a-b}function sortNumericDesc(a,b){return b-a}function getCachedSortType(parsers,i){return parsers[i].type}this.construct=function(settings){return this.each((function(){if(!this.tBodies)return;var $this,$document,$headers,cache,config,shiftDown=0,sortOrder;this.config={};config=$.extend(this.config,$.tablesorter.defaults,settings);$this=$(this);
$.data(this,"tablesorter",config);$headers=buildHeaders(this);this.config.parsers=buildParserCache(this,$headers);cache=buildCache(this);var sortCSS=[config.cssDesc,config.cssAsc];fixColumnWidth(this);$headers.unbind();$headers.click((function(e){if(window.iframe)return false;var totalRows=$this[0].tBodies[0]&&$this[0].tBodies[0].rows.length||0;if(!this.sortDisabled&&totalRows>0){$this.trigger("sortStart");var $cell=$(this);var i=this.column;this.order=this.count++%2;if(this.lockedOrder)this.order=
this.lockedOrder;if(!e[config.sortMultiSortKey]){config.sortList=[];if(config.sortForce!=null){var a=config.sortForce;for(var j=0;j<a.length;j++)if(a[j][0]!=i)config.sortList.push(a[j])}config.sortList.push([i,this.order])}else if(isValueInArray(i,config.sortList))for(var j=0;j<config.sortList.length;j++){var s=config.sortList[j],o=config.headerList[s[0]];if(s[0]==i){o.count=s[1];o.count++;s[1]=o.count%2}}else config.sortList.push([i,this.order]);setTimeout((function(){setHeadersCss($this[0],$headers,
config.sortList,sortCSS);appendToTable($this[0],multisort($this[0],config.sortList,cache))}),1);return false}})).mousedown((function(){if(config.cancelSelection){this.onselectstart=function(){return false};return false}}));$this.unbind("update updateCell sorton appendCache");$this.bind("update",(function(){var me=this;setTimeout((function(){me.config.parsers=buildParserCache(me,$headers);cache=buildCache(me)}),1)})).bind("updateCell",(function(e,cell){var config=this.config;var pos=[cell.parentNode.rowIndex-
1,cell.cellIndex];cache.normalized[pos[0]][pos[1]]=config.parsers[pos[1]].format(getElementText(config,cell),cell)})).bind("sorton",(function(e,list){$(this).trigger("sortStart");config.sortList=list;var sortList=config.sortList;updateHeaderSortCount(this,sortList);setHeadersCss(this,$headers,sortList,sortCSS);appendToTable(this,multisort(this,sortList,cache))})).bind("appendCache",(function(){appendToTable(this,cache)}));if($.metadata&&($(this).metadata()&&$(this).metadata().sortlist))config.sortList=
$(this).metadata().sortlist;if(config.sortList.length>0)$this.trigger("sorton",[config.sortList])}))};this.addParser=function(parser){var l=parsers.length,a=true;for(var i=0;i<l;i++)if(parsers[i].id.toLowerCase()==parser.id.toLowerCase())a=false;if(a)parsers.push(parser)};this.formatFloat=function(s){var i=parseFloat(s);return isNaN(i)?0:i};this.formatInt=function(s){var i=parseInt(s);return isNaN(i)?0:i};this.isDigit=function(s,config){return/^[-+]?\d*$/.test($.trim(s.replace(/[,.']/g,"")))}}});$.fn.extend({tablesorter:$.tablesorter.construct});
var ts=$.tablesorter;ts.addParser({id:"text",is:function(s){return true},format:function(s){return $.trim(s.toLocaleLowerCase())},type:"text"});ts.addParser({id:"chemical",is:function(s){return true},format:function(s){return $.trim(s.replace("[","").replace("(",""))},type:"text"});ts.addParser({id:"digit",is:function(s,table){var c=table.config;return $.tablesorter.isDigit(s,c)},format:function(s){return $.tablesorter.formatFloat(s)},type:"numeric"});ts.addParser({id:"url",is:function(s){return/^(https?|ftp|file):\/\/$/.test(s)},
format:function(s){return jQuery.trim(s.replace(new RegExp(/(https?|ftp|file):\/\//),""))},type:"text"});ts.addParser({id:"doi",is:function(s){return true},format:function(s){return $.tablesorter.formatInt(s.replace("[","").replace("]",""))},type:"numeric"});ts.addParser({id:"metadata",is:function(s){return false},format:function(s,table,cell){var c=table.config,p=!c.parserMetadataName?"sortValue":c.parserMetadataName;return $(cell).metadata()[p]},type:"numeric"})})(jQuery);
(function(k){"function"===typeof define&&define.amd?define([],k):"object"===typeof exports?module.exports=k():window.wNumb=k()})((function(){function k(a,d){return a.substring(0,d.length)===d}function l(a,d,e){if((a[d]||a[e])&&a[d]===a[e])throw Error(d);}function u(a,d,e,c,f,g,k,r,n,m,p,b){k=b;var h=p="";g&&(b=g(b));if("number"!==typeof b||!isFinite(b))return!1;!1!==a&&0===parseFloat(b.toFixed(a))&&(b=0);if(0>b){var l=!0;b=Math.abs(b)}!1!==a&&(g=b.toString().split("e"),g=Math.round(+(g[0]+"e"+(g[1]?
+g[1]+a:a))),g=g.toString().split("e"),b=(+(g[0]+"e"+(g[1]?+g[1]-a:-a))).toFixed(a));b=b.toString();-1!==b.indexOf(".")?(a=b.split("."),g=a[0],e&&(p=e+a[1])):g=b;d&&(g=g.split("").reverse().join("").match(/.{1,3}/g),g=g.join(d.split("").reverse().join("")).split("").reverse().join(""));l&&r&&(h+=r);c&&(h+=c);l&&n&&(h+=n);h=h+g+p;f&&(h+=f);m&&(h=m(h,k));return h}function v(a,d,e,c,f,g,m,l,n,q,p,b){a="";p&&(b=p(b));if(!b||"string"!==typeof b)return!1;if(l&&k(b,l)){b=b.replace(l,"");var h=!0}c&&k(b,
c)&&(b=b.replace(c,""));n&&k(b,n)&&(b=b.replace(n,""),h=!0);if(c=f)c=b.slice(-1*f.length)===f;c&&(b=b.slice(0,-1*f.length));d&&(b=b.split(d).join(""));e&&(b=b.replace(e,"."));h&&(a+="-");a=(a+b).replace(/[^0-9\.\-.]/g,"");if(""===a)return!1;a=Number(a);m&&(a=m(a));return"number"===typeof a&&isFinite(a)?a:!1}function w(a){var d,e={};void 0===a.suffix&&(a.suffix=a.postfix);for(d=0;d<m.length;d+=1){var c=m[d];var f=a[c];if(void 0===f)e[c]="negative"!==c||e.negativeBefore?"mark"===c&&"."!==e.thousand?
".":!1:"-";else if("decimals"===c)if(0<=f&&8>f)e[c]=f;else throw Error(c);else if("encoder"===c||"decoder"===c||"edit"===c||"undo"===c)if("function"===typeof f)e[c]=f;else throw Error(c);else if("string"===typeof f)e[c]=f;else throw Error(c);}l(e,"mark","thousand");l(e,"prefix","negative");l(e,"prefix","negativeBefore");return e}function t(a,d,e){var c,f=[];for(c=0;c<m.length;c+=1)f.push(a[m[c]]);f.push(e);return d.apply("",f)}function q(a){if(!(this instanceof q))return new q(a);"object"===typeof a&&
(a=w(a),this.to=function(d){return t(a,u,d)},this.from=function(d){return t(a,v,d)})}var m="decimals thousand mark prefix suffix encoder decoder negativeBefore negative edit undo".split(" ");return q}));
/*
 nouislider - 14.6.3 - 11/19/2020 */
(function(x){"function"===typeof define&&define.amd?define([],x):"object"===typeof exports?module.exports=x():window.noUiSlider=x()})((function(){function x(b){return null!==b&&void 0!==b}function ra(b){b.preventDefault()}function Ca(b){return b.filter((function(a){return this[a]?!1:this[a]=!0}),{})}function q(b){return"number"===typeof b&&!isNaN(b)&&isFinite(b)}function sa(b,a,c){0<c&&(h(b,a),setTimeout((function(){U(b,a)}),c))}function ca(b){return Array.isArray(b)?b:[b]}function da(b){b=String(b);b=
b.split(".");return 1<b.length?b[1].length:0}function h(b,a){b.classList&&!/\s/.test(a)?b.classList.add(a):b.className+=" "+a}function U(b,a){b.classList&&!/\s/.test(a)?b.classList.remove(a):b.className=b.className.replace(new RegExp("(^|\\b)"+a.split(" ").join("|")+"(\\b|$)","gi")," ")}function ta(b){var a=void 0!==window.pageXOffset,c="CSS1Compat"===(b.compatMode||"");return{x:a?window.pageXOffset:c?b.documentElement.scrollLeft:b.body.scrollLeft,y:a?window.pageYOffset:c?b.documentElement.scrollTop:
b.body.scrollTop}}function Da(){var b=!1;try{var a=Object.defineProperty({},"passive",{get:function(){b=!0}});window.addEventListener("test",null,a)}catch(c){}return b}function E(b,a,c){return 100*a/(b[c+1]-b[c])}function F(b,a){for(var c=1;b>=a[c];)c+=1;return c}function ea(b,a,c){"number"===typeof a&&(a=[a]);if(!Array.isArray(a))throw Error("noUiSlider (14.6.3): 'range' contains invalid value.");b="min"===b?0:"max"===b?100:parseFloat(b);if(!q(b)||!q(a[0]))throw Error("noUiSlider (14.6.3): 'range' value isn't numeric.");
c.xPct.push(b);c.xVal.push(a[0]);b?c.xSteps.push(isNaN(a[1])?!1:a[1]):isNaN(a[1])||(c.xSteps[0]=a[1]);c.xHighestCompleteStep.push(0)}function fa(b,a,c){a&&(c.xVal[b]===c.xVal[b+1]?c.xSteps[b]=c.xHighestCompleteStep[b]=c.xVal[b]:(c.xSteps[b]=E([c.xVal[b],c.xVal[b+1]],a,0)/(100/(c.xPct[b+1]-c.xPct[b])),a=Math.ceil(Number(((c.xVal[b+1]-c.xVal[b])/c.xNumSteps[b]).toFixed(3))-1),c.xHighestCompleteStep[b]=c.xVal[b]+c.xNumSteps[b]*a))}function v(b,a,c){this.xPct=[];this.xVal=[];this.xSteps=[c||!1];this.xNumSteps=
[!1];this.xHighestCompleteStep=[];this.snap=a;var e;a=[];for(e in b)b.hasOwnProperty(e)&&a.push([b[e],e]);a.length&&"object"===typeof a[0][0]?a.sort((function(a,b){return a[0][0]-b[0][0]})):a.sort((function(a,b){return a[0]-b[0]}));for(e=0;e<a.length;e++)ea(a[e][1],a[e][0],this);this.xNumSteps=this.xSteps.slice(0);for(e=0;e<this.xNumSteps.length;e++)fa(e,this.xNumSteps[e],this)}function O(b){if("object"===typeof b&&"function"===typeof b.to&&"function"===typeof b.from)return!0;throw Error("noUiSlider (14.6.3): 'format' requires 'to' and 'from' methods.");
}function ha(b,a){if(!q(a))throw Error("noUiSlider (14.6.3): 'step' is not numeric.");b.singleStep=a}function ia(b,a){if(!q(a))throw Error("noUiSlider (14.6.3): 'keyboardPageMultiplier' is not numeric.");b.keyboardPageMultiplier=a}function ja(b,a){if(!q(a))throw Error("noUiSlider (14.6.3): 'keyboardDefaultStep' is not numeric.");b.keyboardDefaultStep=a}function Ea(b,a){if("object"!==typeof a||Array.isArray(a))throw Error("noUiSlider (14.6.3): 'range' is not an object.");if(void 0===a.min||void 0===
a.max)throw Error("noUiSlider (14.6.3): Missing 'min' or 'max' in 'range'.");if(a.min===a.max)throw Error("noUiSlider (14.6.3): 'range' 'min' and 'max' cannot be equal.");b.spectrum=new v(a,b.snap,b.singleStep)}function Fa(b,a){a=ca(a);if(!Array.isArray(a)||!a.length)throw Error("noUiSlider (14.6.3): 'start' option is incorrect.");b.handles=a.length;b.start=a}function Ga(b,a){b.snap=a;if("boolean"!==typeof a)throw Error("noUiSlider (14.6.3): 'snap' option must be a boolean.");}function Ha(b,a){b.animate=
a;if("boolean"!==typeof a)throw Error("noUiSlider (14.6.3): 'animate' option must be a boolean.");}function Ia(b,a){b.animationDuration=a;if("number"!==typeof a)throw Error("noUiSlider (14.6.3): 'animationDuration' option must be a number.");}function Ja(b,a){var c=[!1],e;"lower"===a?a=[!0,!1]:"upper"===a&&(a=[!1,!0]);if(!0===a||!1===a){for(e=1;e<b.handles;e++)c.push(a);c.push(!1)}else if(Array.isArray(a)&&a.length&&a.length===b.handles+1)c=a;else throw Error("noUiSlider (14.6.3): 'connect' option doesn't match handle count.");
b.connect=c}function Ka(b,a){switch(a){case "horizontal":b.ort=0;break;case "vertical":b.ort=1;break;default:throw Error("noUiSlider (14.6.3): 'orientation' option is invalid.");}}function V(b,a){if(!q(a))throw Error("noUiSlider (14.6.3): 'margin' option must be numeric.");0!==a&&(b.margin=b.spectrum.getDistance(a))}function La(b,a){if(!q(a))throw Error("noUiSlider (14.6.3): 'limit' option must be numeric.");b.limit=b.spectrum.getDistance(a);if(!b.limit||2>b.handles)throw Error("noUiSlider (14.6.3): 'limit' option is only supported on linear sliders with 2 or more handles.");
}function Ma(b,a){var c;if(!q(a)&&!Array.isArray(a))throw Error("noUiSlider (14.6.3): 'padding' option must be numeric or array of exactly 2 numbers.");if(Array.isArray(a)&&2!==a.length&&!q(a[0])&&!q(a[1]))throw Error("noUiSlider (14.6.3): 'padding' option must be numeric or array of exactly 2 numbers.");if(0!==a){Array.isArray(a)||(a=[a,a]);b.padding=[b.spectrum.getDistance(a[0]),b.spectrum.getDistance(a[1])];for(c=0;c<b.spectrum.xNumSteps.length-1;c++)if(0>b.padding[0][c]||0>b.padding[1][c])throw Error("noUiSlider (14.6.3): 'padding' option must be a positive number(s).");
if(1<(a[0]+a[1])/(b.spectrum.xVal[b.spectrum.xVal.length-1]-b.spectrum.xVal[0]))throw Error("noUiSlider (14.6.3): 'padding' option must not exceed 100% of the range.");}}function Na(b,a){switch(a){case "ltr":b.dir=0;break;case "rtl":b.dir=1;break;default:throw Error("noUiSlider (14.6.3): 'direction' option was not recognized.");}}function Oa(b,a){if("string"!==typeof a)throw Error("noUiSlider (14.6.3): 'behaviour' must be a string containing options.");var c=0<=a.indexOf("tap"),e=0<=a.indexOf("drag"),
g=0<=a.indexOf("fixed"),h=0<=a.indexOf("snap"),P=0<=a.indexOf("hover");a=0<=a.indexOf("unconstrained");if(g){if(2!==b.handles)throw Error("noUiSlider (14.6.3): 'fixed' behaviour must be used with 2 handles");V(b,b.start[1]-b.start[0])}if(a&&(b.margin||b.limit))throw Error("noUiSlider (14.6.3): 'unconstrained' behaviour cannot be used with margin or limit");b.events={tap:c||h,drag:e,fixed:g,snap:h,hover:P,unconstrained:a}}function Pa(b,a){if(!1!==a)if(!0===a)for(b.tooltips=[],a=0;a<b.handles;a++)b.tooltips.push(!0);
else{b.tooltips=ca(a);if(b.tooltips.length!==b.handles)throw Error("noUiSlider (14.6.3): must pass a formatter for all handles.");b.tooltips.forEach((function(a){if("boolean"!==typeof a&&("object"!==typeof a||"function"!==typeof a.to))throw Error("noUiSlider (14.6.3): 'tooltips' must be passed a formatter or 'false'.");}))}}function Qa(b,a){b.ariaFormat=a;O(a)}function Ra(b,a){b.format=a;O(a)}function Sa(b,a){b.keyboardSupport=a;if("boolean"!==typeof a)throw Error("noUiSlider (14.6.3): 'keyboardSupport' option must be a boolean.");
}function Ta(b,a){b.documentElement=a}function Ua(b,a){if("string"!==typeof a&&!1!==a)throw Error("noUiSlider (14.6.3): 'cssPrefix' must be a string or `false`.");b.cssPrefix=a}function Va(b,a){if("object"!==typeof a)throw Error("noUiSlider (14.6.3): 'cssClasses' must be an object.");if("string"===typeof b.cssPrefix){b.cssClasses={};for(var c in a)a.hasOwnProperty(c)&&(b.cssClasses[c]=b.cssPrefix+a[c])}else b.cssClasses=a}function ua(b){var a={margin:0,limit:0,padding:0,animate:!0,animationDuration:300,
ariaFormat:Q,format:Q},c={step:{r:!1,t:ha},keyboardPageMultiplier:{r:!1,t:ia},keyboardDefaultStep:{r:!1,t:ja},start:{r:!0,t:Fa},connect:{r:!0,t:Ja},direction:{r:!0,t:Na},snap:{r:!1,t:Ga},animate:{r:!1,t:Ha},animationDuration:{r:!1,t:Ia},range:{r:!0,t:Ea},orientation:{r:!1,t:Ka},margin:{r:!1,t:V},limit:{r:!1,t:La},padding:{r:!1,t:Ma},behaviour:{r:!0,t:Oa},ariaFormat:{r:!1,t:Qa},format:{r:!1,t:Ra},tooltips:{r:!1,t:Pa},keyboardSupport:{r:!0,t:Sa},documentElement:{r:!1,t:Ta},cssPrefix:{r:!0,t:Ua},cssClasses:{r:!0,
t:Va}},e={connect:!1,direction:"ltr",behaviour:"tap",orientation:"horizontal",keyboardSupport:!0,cssPrefix:"noUi-",cssClasses:W,keyboardPageMultiplier:5,keyboardDefaultStep:10};b.format&&!b.ariaFormat&&(b.ariaFormat=b.format);Object.keys(c).forEach((function(g){if(!x(b[g])&&void 0===e[g]){if(c[g].r)throw Error("noUiSlider (14.6.3): '"+g+"' is required.");return!0}c[g].t(a,x(b[g])?b[g]:e[g])}));a.pips=b.pips;var g=document.createElement("div"),h=void 0!==g.style.msTransform;a.transformRule=void 0!==
g.style.transform?"transform":h?"msTransform":"webkitTransform";a.style=[["left","top"],["right","bottom"]][a.dir][a.ort];return a}function Wa(b,a,c){function e(a,b){var d=K.createElement("div");b&&h(d,b);a.appendChild(d);return d}function g(b,f){b=e(b,a.cssClasses.origin);var d=e(b,a.cssClasses.handle);e(d,a.cssClasses.touchArea);d.setAttribute("data-handle",f);a.keyboardSupport&&(d.setAttribute("tabindex","0"),d.addEventListener("keydown",(function(a){return ia(a,f)})));d.setAttribute("role","slider");
d.setAttribute("aria-orientation",a.ort?"vertical":"horizontal");0===f?h(d,a.cssClasses.handleLower):f===a.handles-1&&h(d,a.cssClasses.handleUpper);return b}function v(b,f){return a.tooltips[f]?e(b.firstChild,a.cssClasses.tooltip):!1}function P(a){return p[a].hasAttribute("disabled")}function q(){G&&(R("update"+C.tooltips),G.forEach((function(a){a&&a.parentElement.removeChild(a)})),G=null)}function y(){q();G=p.map(v);ka("update"+C.tooltips,(function(b,f,l){G[f]&&(b=b[f],!0!==a.tooltips[f]&&(b=a.tooltips[f].to(l[f])),
G[f].innerHTML=b)}))}function Xa(a,b,l){if("range"===a||"steps"===a)return m.xVal;if("count"===a){if(2>b)throw Error("noUiSlider (14.6.3): 'values' (>= 2) required for mode 'count'.");a=b-1;var d=100/a;for(b=[];a--;)b[a]=a*d;b.push(100);a="positions"}if("positions"===a)return b.map((function(a){return m.fromStepping(l?m.getStep(a):a)}));if("values"===a)return l?b.map((function(a){return m.fromStepping(m.getStep(m.toStepping(a)))})):b}function x(a,b,l){var d={},f=m.xVal[0],c=m.xVal[m.xVal.length-1],e=!1,
g=!1,S=0;l=Ca(l.slice().sort((function(a,b){return a-b})));l[0]!==f&&(l.unshift(f),e=!0);l[l.length-1]!==c&&(l.push(c),g=!0);l.forEach((function(f,c){var t,z=l[c+1],k="steps"===b;k&&(t=m.xNumSteps[c]);t||(t=z-f);if(!1!==f)for(void 0===z&&(z=f),t=Math.max(t,1E-7);f<=z;f=(f+t).toFixed(7)/1){var n=m.toStepping(f);var L=n-S;var h=L/a;h=Math.round(h);var p=L/h;for(L=1;L<=h;L+=1){var va=S+L*p;d[va.toFixed(5)]=[m.fromStepping(va),0]}h=-1<l.indexOf(f)?1:k?2:0;!c&&e&&f!==z&&(h=0);f===z&&g||(d[n.toFixed(5)]=[f,
h]);S=n}}));return d}function F(b,f,l){function d(b,d){var f=d===a.cssClasses.value;return d+" "+(f?g:S)[a.ort]+" "+(f?k:n)[b]}var c=K.createElement("div"),k=[];k[0]=a.cssClasses.valueNormal;k[1]=a.cssClasses.valueLarge;k[2]=a.cssClasses.valueSub;var n=[];n[0]=a.cssClasses.markerNormal;n[1]=a.cssClasses.markerLarge;n[2]=a.cssClasses.markerSub;var g=[a.cssClasses.valueHorizontal,a.cssClasses.valueVertical],S=[a.cssClasses.markerHorizontal,a.cssClasses.markerVertical];h(c,a.cssClasses.pips);h(c,0===
a.ort?a.cssClasses.pipsHorizontal:a.cssClasses.pipsVertical);Object.keys(b).forEach((function(t){var z=b[t][0],k=b[t][1];k=f?f(z,k):k;if(-1!==k){var n=e(c,!1);n.className=d(k,a.cssClasses.marker);n.style[a.style]=t+"%";0<k&&(n=e(c,!1),n.className=d(k,a.cssClasses.value),n.setAttribute("data-value",z),n.style[a.style]=t+"%",n.innerHTML=l.to(z))}}));return c}function E(){T&&(T.parentElement.removeChild(T),T=null)}function la(a){E();var b=a.mode,d=a.density||1,c=a.filter||!1,e=Xa(b,a.values||!1,a.stepped||
!1);b=x(d,b,e);return T=w.appendChild(F(b,c,a.format||{to:Math.round}))}function O(){var b=H.getBoundingClientRect(),f="offset"+["Width","Height"][a.ort];return 0===a.ort?b.width||H[f]:b.height||H[f]}function I(b,f,l,c){var d=function(d){d=V(d,c.pageOffset,c.target||f);if(!d||w.hasAttribute("disabled")&&!c.doNotReject)return!1;var t=w,e=a.cssClasses.tap;if((t.classList?t.classList.contains(e):(new RegExp("\\b"+e+"\\b")).test(t.className))&&!c.doNotReject||b===J.start&&void 0!==d.buttons&&1<d.buttons||
c.hover&&d.buttons)return!1;wa||d.preventDefault();d.calcPoint=d.points[a.ort];l(d,c)},t=[];b.split(" ").forEach((function(a){f.addEventListener(a,d,wa?{passive:!0}:!1);t.push([a,d])}));return t}function V(a,b,l){var d=0===a.type.indexOf("touch"),f=0===a.type.indexOf("mouse"),c=0===a.type.indexOf("pointer");0===a.type.indexOf("MSPointer")&&(c=!0);if("mousedown"===a.type&&!a.buttons&&!a.touches)return!1;if(d){var e=function(a){return a.target===l||l.contains(a.target)||a.target.shadowRoot&&a.target.shadowRoot.contains(l)};
if("touchstart"===a.type){d=Array.prototype.filter.call(a.touches,e);if(1<d.length)return!1;e=d[0].pageX;var g=d[0].pageY}else{d=Array.prototype.find.call(a.changedTouches,e);if(!d)return!1;e=d.pageX;g=d.pageY}}b=b||ta(K);if(f||c)e=a.clientX+b.x,g=a.clientY+b.y;a.pageOffset=b;a.points=[e,g];a.cursor=f||c;return a}function Q(b){var d=H,l=a.ort,c=d.getBoundingClientRect(),e=d.ownerDocument;d=e.documentElement;e=ta(e);/webkit.*Chrome.*Mobile/i.test(navigator.userAgent)&&(e.x=0);b=100*(b-(l?c.top+e.y-
d.clientTop:c.left+e.x-d.clientLeft))/O();b=Math.max(Math.min(b,100),0);return a.dir?100-b:b}function W(a){var b=100,d=!1;p.forEach((function(f,l){if(!P(l)){var c=u[l];f=Math.abs(c-a);var e=100===f&&100===b;c=f<=b&&a>c;if(f<b||c||e)d=l,b=f}}));return d}function da(a,b){"mouseout"===a.type&&"HTML"===a.target.nodeName&&null===a.relatedTarget&&ma(a,b)}function ea(b,f){if(-1===navigator.appVersion.indexOf("MSIE 9")&&0===b.buttons&&0!==f.buttonsProperty)return ma(b,f);b=(a.dir?-1:1)*(b.calcPoint-f.startCalcPoint);
xa(0<b,100*b/f.baseSize,f.locations,f.handleNumbers)}function ma(b,f){f.handle&&(U(f.handle,a.cssClasses.active),--na);f.listeners.forEach((function(a){X.removeEventListener(a[0],a[1])}));0===na&&(U(w,a.cssClasses.drag),oa(),b.cursor&&(Y.style.cursor="",Y.removeEventListener("selectstart",ra)));f.handleNumbers.forEach((function(a){r("change",a);r("set",a);r("end",a)}))}function pa(b,f){if(f.handleNumbers.some(P))return!1;if(1===f.handleNumbers.length){var d=p[f.handleNumbers[0]].children[0];na+=1;h(d,
a.cssClasses.active)}b.stopPropagation();var c=[],e=I(J.move,X,ea,{target:b.target,handle:d,listeners:c,startCalcPoint:b.calcPoint,baseSize:O(),pageOffset:b.pageOffset,handleNumbers:f.handleNumbers,buttonsProperty:b.buttons,locations:u.slice()}),k=I(J.end,X,ma,{target:b.target,handle:d,listeners:c,doNotReject:!0,handleNumbers:f.handleNumbers});d=I("mouseout",X,da,{target:b.target,handle:d,listeners:c,doNotReject:!0,handleNumbers:f.handleNumbers});c.push.apply(c,e.concat(k,d));b.cursor&&(Y.style.cursor=
getComputedStyle(b.target).cursor,1<p.length&&h(w,a.cssClasses.drag),Y.addEventListener("selectstart",ra,!1));f.handleNumbers.forEach((function(a){r("start",a)}))}function fa(b){b.stopPropagation();var d=Q(b.calcPoint),c=W(d);if(!1===c)return!1;a.events.snap||sa(w,a.cssClasses.tap,a.animationDuration);M(c,d,!0,!0);oa();r("slide",c,!0);r("update",c,!0);r("change",c,!0);r("set",c,!0);a.events.snap&&pa(b,{handleNumbers:[c]})}function ha(a){a=Q(a.calcPoint);a=m.getStep(a);var b=m.fromStepping(a);Object.keys(B).forEach((function(a){"hover"===
a.split(".")[0]&&B[a].forEach((function(a){a.call(Z,b)}))}))}function ia(b,f){if(w.hasAttribute("disabled")||P(f))return!1;var d=["Left","Right"],c=["Down","Up"],e=["PageDown","PageUp"],k=["Home","End"];a.dir&&!a.ort?d.reverse():a.ort&&!a.dir&&(c.reverse(),e.reverse());var n=b.key.replace("Arrow",""),g=n===e[0];e=n===e[1];var h=n===c[0]||n===d[0]||g;d=n===c[1]||n===d[1]||e;c=n===k[0];k=n===k[1];if(!(h||d||c||k))return!0;b.preventDefault();if(d||h){b=a.keyboardPageMultiplier;k=h?0:1;k=ya(f)[k];if(null===
k)return!1;!1===k&&(k=m.getDefaultStep(u[f],h,a.keyboardDefaultStep));if(e||g)k*=b;k=Math.max(k,1E-7);g=N[f]+(h?-1:1)*k}else g=k?a.spectrum.xVal[a.spectrum.xVal.length-1]:a.spectrum.xVal[0];M(f,m.toStepping(g),!0,!0);r("slide",f);r("update",f);r("change",f);r("set",f);return!1}function ka(a,b){B[a]=B[a]||[];B[a].push(b);"update"===a.split(".")[0]&&p.forEach((function(a,b){r("update",b)}))}function R(a){var b=a&&a.split(".")[0],d=b?a.substring(b.length):a;Object.keys(B).forEach((function(a){var f=a.split(".")[0],
c=a.substring(f.length);b&&b!==f||d&&d!==c||(c!==C.aria&&c!==C.tooltips||d===c)&&delete B[a]}))}function r(b,f,c){Object.keys(B).forEach((function(d){var e=d.split(".")[0];b===e&&B[d].forEach((function(b){b.call(Z,N.map(a.format.to),f,N.slice(),c||!1,u.slice(),Z)}))}))}function aa(b,f,c,e,g,k){if(1<p.length&&!a.events.unconstrained){if(e&&0<f){var d=m.getAbsoluteDistance(b[f-1],a.margin,0);c=Math.max(c,d)}g&&f<p.length-1&&(d=m.getAbsoluteDistance(b[f+1],a.margin,1),c=Math.min(c,d))}1<p.length&&a.limit&&
(e&&0<f&&(d=m.getAbsoluteDistance(b[f-1],a.limit,0),c=Math.min(c,d)),g&&f<p.length-1&&(d=m.getAbsoluteDistance(b[f+1],a.limit,1),c=Math.max(c,d)));a.padding&&(0===f&&(d=m.getAbsoluteDistance(0,a.padding[0],0),c=Math.max(c,d)),f===p.length-1&&(d=m.getAbsoluteDistance(100,a.padding[1],1),c=Math.min(c,d)));c=m.getStep(c);c=Math.max(Math.min(c,100),0);return c!==b[f]||k?c:!1}function qa(b,c){var d=a.ort;return(d?c:b)+", "+(d?b:c)}function xa(a,b,c,e){var d=c.slice(),f=[!a,a],l=[a,!a];e=e.slice();a&&e.reverse();
1<e.length?e.forEach((function(a,c){c=aa(d,a,d[a]+b,f[c],l[c],!1);!1===c?b=0:(b=c-d[a],d[a]=c)})):f=l=[!0];var g=!1;e.forEach((function(a,d){g=M(a,c[a]+b,f[d],l[d])||g}));g&&e.forEach((function(a){r("update",a);r("slide",a)}))}function oa(){A.forEach((function(a){p[a].style.zIndex=3+(p.length+(50<u[a]?-1:1)*a)}))}function M(b,c,e,g,h){h||(c=aa(u,b,c,e,g,!1));if(!1===c)return!1;u[b]=c;N[b]=m.fromStepping(c);c="translate("+qa(10*((a.dir?100-c:c)-ja)+"%","0")+")";p[b].style[a.transformRule]=c;za(b);za(b+1);
return!0}function za(b){if(D[b]){var c=0,d=100;0!==b&&(c=u[b-1]);b!==D.length-1&&(d=u[b]);d-=c;c="translate("+qa((a.dir?100-c-d:c)+"%","0")+")";d="scale("+qa(d/100,"1")+")";D[b].style[a.transformRule]=c+" "+d}}function Aa(b,c){if(null===b||!1===b||void 0===b)return u[c];"number"===typeof b&&(b=String(b));b=a.format.from(b);b=m.toStepping(b);return!1===b||isNaN(b)?u[c]:b}function ba(b,c,e){var d=ca(b);b=void 0===u[0];c=void 0===c?!0:!!c;a.animate&&!b&&sa(w,a.cssClasses.tap,a.animationDuration);A.forEach((function(a){M(a,
Aa(d[a],a),!0,!1,e)}));for(b=1===A.length?0:1;b<A.length;++b)A.forEach((function(a){M(a,u[a],!0,!0,e)}));oa();A.forEach((function(a){r("update",a);null!==d[a]&&c&&r("set",a)}))}function Ba(){var b=N.map(a.format.to);return 1===b.length?b[0]:b}function ya(b){var c=u[b],d=m.getNearbySteps(c),e=N[b];b=d.thisStep.step;if(a.snap)return[e-d.stepBefore.startValue||null,d.stepAfter.startValue-e||null];!1!==b&&e+b>d.stepAfter.startValue&&(b=d.stepAfter.startValue-e);d=e>d.thisStep.startValue?d.thisStep.step:!1===
d.stepBefore.step?!1:e-d.stepBefore.highestStep;100===c?b=null:0===c&&(d=null);c=m.countStepDecimals();null!==b&&!1!==b&&(b=Number(b.toFixed(c)));null!==d&&!1!==d&&(d=Number(d.toFixed(c)));return[d,b]}var J=window.navigator.pointerEnabled?{start:"pointerdown",move:"pointermove",end:"pointerup"}:window.navigator.msPointerEnabled?{start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp"}:{start:"mousedown touchstart",move:"mousemove touchmove",end:"mouseup touchend"},wa=window.CSS&&CSS.supports&&
CSS.supports("touch-action","none")&&Da(),w=b,p,D,T,G,m=a.spectrum,N=[],u=[],A=[],na=0,B={},Z,K=b.ownerDocument,X=a.documentElement||K.documentElement,Y=K.body,ja="rtl"===K.dir||1===a.ort?0:100;var H=(function(b){h(b,a.cssClasses.target);0===a.dir?h(b,a.cssClasses.ltr):h(b,a.cssClasses.rtl);0===a.ort?h(b,a.cssClasses.horizontal):h(b,a.cssClasses.vertical);"rtl"===getComputedStyle(b).direction?h(b,a.cssClasses.textDirectionRtl):h(b,a.cssClasses.textDirectionLtr);return e(b,a.cssClasses.base)})(w);(function(b,
c){var d=e(c,a.cssClasses.connects);p=[];D=[];D.push(b[0]?e(d,a.cssClasses.connect):!1);for(var f=0;f<a.handles;f++)p.push(g(c,f)),A[f]=f,D.push(b[f+1]?e(d,a.cssClasses.connect):!1)})(a.connect,H);(function(b){b.fixed||p.forEach((function(a,b){I(J.start,a.children[0],pa,{handleNumbers:[b]})}));b.tap&&I(J.start,H,fa,{});b.hover&&I(J.move,H,ha,{hover:!0});b.drag&&D.forEach((function(c,d){if(!1!==c&&0!==d&&d!==D.length-1){var e=p[d-1],f=p[d],g=[c];h(c,a.cssClasses.draggable);b.fixed&&(g.push(e.children[0]),
g.push(f.children[0]));g.forEach((function(a){I(J.start,a,pa,{handles:[e,f],handleNumbers:[d-1,d]})}))}}))})(a.events);ba(a.start);a.pips&&la(a.pips);a.tooltips&&y();(function(){R("update"+C.aria);ka("update"+C.aria,(function(b,c,e,g,h){A.forEach((function(b){var c=p[b],d=aa(u,b,0,!0,!0,!0),f=aa(u,b,100,!0,!0,!0),g=h[b];b=a.ariaFormat.to(e[b]);d=m.fromStepping(d).toFixed(1);f=m.fromStepping(f).toFixed(1);g=m.fromStepping(g).toFixed(1);c.children[0].setAttribute("aria-valuemin",d);c.children[0].setAttribute("aria-valuemax",
f);c.children[0].setAttribute("aria-valuenow",g);c.children[0].setAttribute("aria-valuetext",b)}))}))})();return Z={destroy:function(){R(C.aria);R(C.tooltips);for(var b in a.cssClasses)a.cssClasses.hasOwnProperty(b)&&U(w,a.cssClasses[b]);for(;w.firstChild;)w.removeChild(w.firstChild);delete w.noUiSlider},steps:function(){return A.map(ya)},on:ka,off:R,get:Ba,set:ba,setHandle:function(a,b,c,e){a=Number(a);if(!(0<=a&&a<A.length))throw Error("noUiSlider (14.6.3): invalid handle number, got: "+a);M(a,Aa(b,
a),!0,!0,e);r("update",a);c&&r("set",a)},reset:function(b){ba(a.start,b)},__moveHandles:function(a,b,c){xa(a,b,u,c)},options:c,updateOptions:function(b,e){var d=Ba(),f="margin limit padding range animate snap step format pips tooltips".split(" ");f.forEach((function(a){void 0!==b[a]&&(c[a]=b[a])}));var g=ua(c);f.forEach((function(c){void 0!==b[c]&&(a[c]=g[c])}));m=g.spectrum;a.margin=g.margin;a.limit=g.limit;a.padding=g.padding;a.pips?la(a.pips):E();a.tooltips?y():q();u=[];ba(b.start||d,e)},target:w,
removePips:E,removeTooltips:q,getTooltips:function(){return G},getOrigins:function(){return p},pips:la}}v.prototype.getDistance=function(b){var a,c=[];for(a=0;a<this.xNumSteps.length-1;a++){var e=this.xNumSteps[a];if(e&&0!==b/e%1)throw Error("noUiSlider (14.6.3): 'limit', 'margin' and 'padding' of "+this.xPct[a]+"% range must be divisible by step.");c[a]=E(this.xVal,b,a)}return c};v.prototype.getAbsoluteDistance=function(b,a,c){var e=0;if(b<this.xPct[this.xPct.length-1])for(;b>this.xPct[e+1];)e++;
else b===this.xPct[this.xPct.length-1]&&(e=this.xPct.length-2);c||b!==this.xPct[e+1]||e++;var g,h=1,q=a[e],v=0,y=0;for(g=c?(b-this.xPct[e])/(this.xPct[e+1]-this.xPct[e]):(this.xPct[e+1]-b)/(this.xPct[e+1]-this.xPct[e]);0<q;){var x=this.xPct[e+1+y]-this.xPct[e+y];100<a[e+y]*h+100-100*g?(x*=g,h=(q-100*g)/a[e+y],g=1):(x=a[e+y]*x/100*h,h=0);c?(v-=x,1<=this.xPct.length+y&&y--):(v+=x,1<=this.xPct.length-y&&y++);q=a[e+y]*h}return b+v};v.prototype.toStepping=function(b){var a=this.xVal,c=this.xPct,e=b;if(e>=
a.slice(-1)[0])b=100;else{var g=F(e,a);b=c[g-1];c=c[g];a=[a[g-1],a[g]];a=E(a,0>a[0]?e+Math.abs(a[0]):e-a[0],0);b+=a/(100/(c-b))}return b};v.prototype.fromStepping=function(b){var a=this.xVal,c=this.xPct;if(100<=b)b=a.slice(-1)[0];else{var e=F(b,c),g=c[e-1];a=[a[e-1],a[e]];b=100/(c[e]-g)*(b-g)*(a[1]-a[0])/100+a[0]}return b};v.prototype.getStep=function(b){var a=this.xPct,c=this.xSteps,e=this.snap;if(100!==b){var g=F(b,a),h=a[g-1],q=a[g];e?a=b-h>(q-h)/2?q:h:c[g-1]?(c=c[g-1],a=a[g-1]+Math.round((b-a[g-
1])/c)*c):a=b;b=a}return b};v.prototype.getDefaultStep=function(b,a,c){var e=F(b,this.xPct);if(100===b||a&&b===this.xPct[e-1])e=Math.max(e-1,1);return(this.xVal[e]-this.xVal[e-1])/c};v.prototype.getNearbySteps=function(b){b=F(b,this.xPct);return{stepBefore:{startValue:this.xVal[b-2],step:this.xNumSteps[b-2],highestStep:this.xHighestCompleteStep[b-2]},thisStep:{startValue:this.xVal[b-1],step:this.xNumSteps[b-1],highestStep:this.xHighestCompleteStep[b-1]},stepAfter:{startValue:this.xVal[b],step:this.xNumSteps[b],
highestStep:this.xHighestCompleteStep[b]}}};v.prototype.countStepDecimals=function(){var b=this.xNumSteps.map(da);return Math.max.apply(null,b)};v.prototype.convert=function(b){return this.getStep(this.toStepping(b))};var Q={to:function(b){return void 0!==b&&b.toFixed(2)},from:Number},W={target:"target",base:"base",origin:"origin",handle:"handle",handleLower:"handle-lower",handleUpper:"handle-upper",touchArea:"touch-area",horizontal:"horizontal",vertical:"vertical",background:"background",connect:"connect",
connects:"connects",ltr:"ltr",rtl:"rtl",textDirectionLtr:"txt-dir-ltr",textDirectionRtl:"txt-dir-rtl",draggable:"draggable",drag:"state-drag",tap:"state-tap",active:"active",tooltip:"tooltip",pips:"pips",pipsHorizontal:"pips-horizontal",pipsVertical:"pips-vertical",marker:"marker",markerHorizontal:"marker-horizontal",markerVertical:"marker-vertical",markerNormal:"marker-normal",markerLarge:"marker-large",markerSub:"marker-sub",value:"value",valueHorizontal:"value-horizontal",valueVertical:"value-vertical",
valueNormal:"value-normal",valueLarge:"value-large",valueSub:"value-sub"},C={tooltips:".__tooltips",aria:".__aria"};return{__spectrum:v,version:"14.6.3",cssClasses:W,create:function(b,a){if(!b||!b.nodeName)throw Error("noUiSlider (14.6.3): create requires a single element, got: "+b);if(b.noUiSlider)throw Error("noUiSlider (14.6.3): Slider was already initialized.");var c=ua(a,b);a=Wa(b,c,a);return b.noUiSlider=a}}}));
(function(d,k){"function"===typeof define&&define.amd?define("sifter",k):"object"===typeof exports?module.exports=k():d.Sifter=k()})(this,(function(){var d=function(d,f){this.items=d;this.settings=f||{diacritics:!0}};d.prototype.tokenize=function(d){d=(String(d||"").toLowerCase()+"").replace(/^\s+|\s+$|/g,"");if(!d||!d.length)return[];var f,m,u=[],h=d.split(/ +/);d=0;for(f=h.length;d<f;d++){var k=(h[d]+"").replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1");if(this.settings.diacritics)for(m in l)l.hasOwnProperty(m)&&
(k=k.replace(new RegExp(m,"g"),l[m]));u.push({string:h[d],regex:new RegExp(k,"i")})}return u};d.prototype.iterator=function(d,f){(p(d)?Array.prototype.forEach||function(d){for(var f=0,m=this.length;f<m;f++)d(this[f],f,this)}:function(d){for(var f in this)this.hasOwnProperty(f)&&d(this[f],f,this)}).apply(d,[f])};d.prototype.getScoreFunction=function(d,f){d=this.prepareSearch(d,f);var m=d.tokens;var u=d.options.fields;var h=m.length;var k=d.options.nesting;var l=function(d,f){if(!d)return 0;d=String(d||
"");var m=d.search(f.regex);if(-1===m)return 0;d=f.string.length/d.length;0===m&&(d+=.5);return d},v=(function(){var d=u.length;return d?1===d?function(d,f){return l(x(f,u[0],k),d)}:function(f,m){for(var h=0,t=0;h<d;h++)t+=l(x(m,u[h],k),f);return t/d}:function(){return 0}})();return h?1===h?function(d){return v(m[0],d)}:"and"===d.options.conjunction?function(d){for(var f,t=0,u=0;t<h;t++){f=v(m[t],d);if(0>=f)return 0;u+=f}return u/h}:function(d){for(var f=0,t=0;f<h;f++)t+=v(m[f],d);return t/h}:function(){return 0}};
d.prototype.getSortFunction=function(d,f){var m,h;var l=this;d=l.prepareSearch(d,f);var p=!d.query&&f.sort_empty||f.sort;var z=function(d,a){return"$score"===d?a.score:x(l.items[a.id],d,f.nesting)};var v=[];if(p){var q=0;for(m=p.length;q<m;q++)(d.query||"$score"!==p[q].field)&&v.push(p[q])}if(d.query){d=!0;q=0;for(m=v.length;q<m;q++)if("$score"===v[q].field){d=!1;break}d&&v.unshift({field:"$score",direction:"desc"})}else for(q=0,m=v.length;q<m;q++)if("$score"===v[q].field){v.splice(q,1);break}var B=
[];q=0;for(m=v.length;q<m;q++)B.push("desc"===v[q].direction?-1:1);if(h=v.length){if(1===h){var A=v[0].field;var E=B[0];return function(d,a){return E*k(z(A,d),z(A,a))}}return function(d,a){var b;for(b=0;b<h;b++){var c=v[b].field;if(c=B[b]*k(z(c,d),z(c,a)))return c}return 0}}return null};d.prototype.prepareSearch=function(d,f){if("object"===typeof d)return d;f=h({},f);var m=f.fields,u=f.sort,k=f.sort_empty;m&&!p(m)&&(f.fields=[m]);u&&!p(u)&&(f.sort=[u]);k&&!p(k)&&(f.sort_empty=[k]);return{options:f,
query:String(d||"").toLowerCase(),tokens:this.tokenize(d),total:0,items:[]}};d.prototype.search=function(d,f){var m;var h=this.prepareSearch(d,f);f=h.options;d=h.query;var k=f.score||this.getScoreFunction(h);d.length?this.iterator(this.items,(function(d,l){m=k(d);(!1===f.filter||0<m)&&h.items.push({score:m,id:l})})):this.iterator(this.items,(function(d,f){h.items.push({score:1,id:f})}));(d=this.getSortFunction(h,f))&&h.items.sort(d);h.total=h.items.length;"number"===typeof f.limit&&(h.items=h.items.slice(0,
f.limit));return h};var k=function(d,f){if("number"===typeof d&&"number"===typeof f)return d>f?1:d<f?-1:0;d=A(String(d||""));f=A(String(f||""));return d>f?1:f>d?-1:0},h=function(d,f){var h,m,k;var l=1;for(h=arguments.length;l<h;l++)if(k=arguments[l])for(m in k)k.hasOwnProperty(m)&&(d[m]=k[m]);return d},x=function(d,f,h){if(d&&f){if(!h)return d[f];for(f=f.split(".");f.length&&(d=d[f.shift()]););return d}},p=Array.isArray||"undefined"!==typeof $&&$.isArray||function(d){return"[object Array]"===Object.prototype.toString.call(d)},
l={a:"[a\u1e00\u1e01\u0102\u0103\u00c2\u00e2\u01cd\u01ce\u023a\u2c65\u0226\u0227\u1ea0\u1ea1\u00c4\u00e4\u00c0\u00e0\u00c1\u00e1\u0100\u0101\u00c3\u00e3\u00c5\u00e5\u0105\u0104\u00c3\u0105\u0104]",b:"[b\u2422\u03b2\u0392B\u0e3f\ud800\udf01\u16d2]",c:"[c\u0106\u0107\u0108\u0109\u010c\u010d\u010a\u010bC\u0304c\u0304\u00c7\u00e7\u1e08\u1e09\u023b\u023c\u0187\u0188\u0255\u1d04\uff23\uff43]",d:"[d\u010e\u010f\u1e0a\u1e0b\u1e10\u1e11\u1e0c\u1e0d\u1e12\u1e13\u1e0e\u1e0f\u0110\u0111D\u0326d\u0326\u0189\u0256\u018a\u0257\u018b\u018c\u1d6d\u1d81\u1d91\u0221\u1d05\uff24\uff44\u00f0]",
e:"[e\u00c9\u00e9\u00c8\u00e8\u00ca\u00ea\u1e18\u1e19\u011a\u011b\u0114\u0115\u1ebc\u1ebd\u1e1a\u1e1b\u1eba\u1ebb\u0116\u0117\u00cb\u00eb\u0112\u0113\u0228\u0229\u0118\u0119\u1d92\u0246\u0247\u0204\u0205\u1ebe\u1ebf\u1ec0\u1ec1\u1ec4\u1ec5\u1ec2\u1ec3\u1e1c\u1e1d\u1e16\u1e17\u1e14\u1e15\u0206\u0207\u1eb8\u1eb9\u1ec6\u1ec7\u2c78\u1d07\uff25\uff45\u0258\u01dd\u018f\u0190\u03b5]",f:"[f\u0191\u0192\u1e1e\u1e1f]",g:"[g\u0262\u20b2\u01e4\u01e5\u011c\u011d\u011e\u011f\u0122\u0123\u0193\u0260\u0120\u0121]",
h:"[h\u0124\u0125\u0126\u0127\u1e28\u1e29\u1e96\u1e96\u1e24\u1e25\u1e22\u1e23\u0266\u02b0\u01f6\u0195]",i:"[i\u00cd\u00ed\u00cc\u00ec\u012c\u012d\u00ce\u00ee\u01cf\u01d0\u00cf\u00ef\u1e2e\u1e2f\u0128\u0129\u012e\u012f\u012a\u012b\u1ec8\u1ec9\u0208\u0209\u020a\u020b\u1eca\u1ecb\u1e2c\u1e2d\u0197\u0268\u0268\u0306\u1d7b\u1d96\u0130iI\u0131\u026a\uff29\uff49]",j:"[j\u0237\u0134\u0135\u0248\u0249\u029d\u025f\u02b2]",k:"[k\u0198\u0199\ua740\ua741\u1e30\u1e31\u01e8\u01e9\u1e32\u1e33\u1e34\u1e35\u03ba\u03f0\u20ad]",
l:"[l\u0141\u0142\u013d\u013e\u013b\u013c\u0139\u013a\u1e36\u1e37\u1e38\u1e39\u1e3c\u1e3d\u1e3a\u1e3b\u013f\u0140\u023d\u019a\u2c60\u2c61\u2c62\u026b\u026c\u1d85\u026d\u0234\u029f\uff2c\uff4c]",n:"[n\u0143\u0144\u01f8\u01f9\u0147\u0148\u00d1\u00f1\u1e44\u1e45\u0145\u0146\u1e46\u1e47\u1e4a\u1e4b\u1e48\u1e49N\u0308n\u0308\u019d\u0272\u0220\u019e\u1d70\u1d87\u0273\u0235\u0274\uff2e\uff4e\u014a\u014b]",o:"[o\u00d8\u00f8\u00d6\u00f6\u00d3\u00f3\u00d2\u00f2\u00d4\u00f4\u01d1\u01d2\u0150\u0151\u014e\u014f\u022e\u022f\u1ecc\u1ecd\u019f\u0275\u01a0\u01a1\u1ece\u1ecf\u014c\u014d\u00d5\u00f5\u01ea\u01eb\u020c\u020d\u0555\u0585]",
p:"[p\u1e54\u1e55\u1e56\u1e57\u2c63\u1d7d\u01a4\u01a5\u1d71]",q:"[q\ua756\ua757\u02a0\u024a\u024b\ua758\ua759q\u0303]",r:"[r\u0154\u0155\u024c\u024d\u0158\u0159\u0156\u0157\u1e58\u1e59\u0210\u0211\u0212\u0213\u1e5a\u1e5b\u2c64\u027d]",s:"[s\u015a\u015b\u1e60\u1e61\u1e62\u1e63\ua7a8\ua7a9\u015c\u015d\u0160\u0161\u015e\u015f\u0218\u0219S\u0308s\u0308]",t:"[t\u0164\u0165\u1e6a\u1e6b\u0162\u0163\u1e6c\u1e6d\u01ae\u0288\u021a\u021b\u1e70\u1e71\u1e6e\u1e6f\u01ac\u01ad]",u:"[u\u016c\u016d\u0244\u0289\u1ee4\u1ee5\u00dc\u00fc\u00da\u00fa\u00d9\u00f9\u00db\u00fb\u01d3\u01d4\u0170\u0171\u016c\u016d\u01af\u01b0\u1ee6\u1ee7\u016a\u016b\u0168\u0169\u0172\u0173\u0214\u0215\u222a]",
v:"[v\u1e7c\u1e7d\u1e7e\u1e7f\u01b2\u028b\ua75e\ua75f\u2c71\u028b]",w:"[w\u1e82\u1e83\u1e80\u1e81\u0174\u0175\u1e84\u1e85\u1e86\u1e87\u1e88\u1e89]",x:"[x\u1e8c\u1e8d\u1e8a\u1e8b\u03c7]",y:"[y\u00dd\u00fd\u1ef2\u1ef3\u0176\u0177\u0178\u00ff\u1ef8\u1ef9\u1e8e\u1e8f\u1ef4\u1ef5\u024e\u024f\u01b3\u01b4]",z:"[z\u0179\u017a\u1e90\u1e91\u017d\u017e\u017b\u017c\u1e92\u1e93\u1e94\u1e95\u01b5\u01b6]"},A=(function(){var d,f,h="",k={};for(f in l)if(l.hasOwnProperty(f)){var p=l[f].substring(2,l[f].length-1);h+=
p;var x=0;for(d=p.length;x<d;x++)k[p.charAt(x)]=f}var z=new RegExp("["+h+"]","g");return function(d){return d.replace(z,(function(d){return k[d]})).toLowerCase()}})();return d}));
(function(d,k){"function"===typeof define&&define.amd?define("microplugin",k):"object"===typeof exports?module.exports=k():d.MicroPlugin=k()})(this,(function(){var d={isArray:Array.isArray||function(d){return"[object Array]"===Object.prototype.toString.call(d)}};return{mixin:function(k){k.plugins={};k.prototype.initializePlugins=function(h){var k,p=[];this.plugins={names:[],settings:{},requested:{},loaded:{}};if(d.isArray(h)){var l=0;for(k=h.length;l<k;l++)"string"===typeof h[l]?p.push(h[l]):(this.plugins.settings[h[l].name]=
h[l].options,p.push(h[l].name))}else if(h)for(l in h)h.hasOwnProperty(l)&&(this.plugins.settings[l]=h[l],p.push(l));for(;p.length;)this.require(p.shift())};k.prototype.loadPlugin=function(d){var h=this.plugins,p=k.plugins[d];if(!k.plugins.hasOwnProperty(d))throw Error('Unable to find "'+d+'" plugin');h.requested[d]=!0;h.loaded[d]=p.fn.apply(this,[this.plugins.settings[d]||{}]);h.names.push(d)};k.prototype.require=function(d){var h=this.plugins;if(!this.plugins.loaded.hasOwnProperty(d)){if(h.requested[d])throw Error('Plugin has circular dependency ("'+
d+'")');this.loadPlugin(d)}return h.loaded[d]};k.define=function(d,x){k.plugins[d]={name:d,fn:x}}}}}));
(function(d,k){"function"===typeof define&&define.amd?define("selectize",["jquery","sifter","microplugin"],k):"object"===typeof exports?module.exports=k(require("jquery"),require("sifter"),require("microplugin")):d.Selectize=k(d.jQuery,d.Sifter,d.MicroPlugin)})(this,(function(d,k,h){var x=function(a,b){if("string"!==typeof b||b.length){var c="string"===typeof b?new RegExp(b,"i"):b,d=function(a){var b=0;if(3===a.nodeType){var g=a.data.search(c);if(0<=g&&0<a.data.length){var e=a.data.match(c);b=document.createElement("span");
b.className="highlight";a=a.splitText(g);a.splitText(e[0].length);g=a.cloneNode(!0);b.appendChild(g);a.parentNode.replaceChild(b,a);b=1}}else if(1===a.nodeType&&a.childNodes&&!/(script|style)/i.test(a.tagName)&&("highlight"!==a.className||"SPAN"!==a.tagName))for(g=0;g<a.childNodes.length;++g)g+=d(a.childNodes[g]);return b};return a.each((function(){d(this)}))}};d.fn.removeHighlight=function(){return this.find("span.highlight").each((function(){this.parentNode.firstChild.nodeName;var a=this.parentNode;
a.replaceChild(this.firstChild,this);a.normalize()})).end()};var p=function(){};p.prototype={on:function(a,b){this._events=this._events||{};this._events[a]=this._events[a]||[];this._events[a].push(b)},off:function(a,b){var c=arguments.length;if(0===c)return delete this._events;if(1===c)return delete this._events[a];this._events=this._events||{};!1!==a in this._events&&this._events[a].splice(this._events[a].indexOf(b),1)},trigger:function(a){this._events=this._events||{};if(!1!==a in this._events)for(var b=
0;b<this._events[a].length;b++)this._events[a][b].apply(this,Array.prototype.slice.call(arguments,1))}};p.mixin=function(a){for(var b=["on","off","trigger"],c=0;c<b.length;c++)a.prototype[b[c]]=p.prototype[b[c]]};var l=/Mac/.test(navigator.userAgent),A=l?91:17,m=l?18:17,f=!/android/i.test(window.navigator.userAgent)&&!!document.createElement("input").validity,t=function(a){return"undefined"===typeof a||null===a?null:"boolean"===typeof a?a?"1":"0":a+""},u=function(a){return(a+"").replace(/&/g,"&amp;").replace(/</g,
"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},F=function(a){var b=!1;return function(){b||(b=!0,a.apply(this,arguments))}},G=function(a,b){var c;return function(){var d=this,e=arguments;window.clearTimeout(c);c=window.setTimeout((function(){a.apply(d,e)}),b)}},z=function(a,b,c){var d,e=a.trigger,C={};a.trigger=function(){var c=arguments[0];if(-1!==b.indexOf(c))C[c]=arguments;else return e.apply(a,arguments)};c.apply(a,[]);a.trigger=e;for(d in C)C.hasOwnProperty(d)&&e.apply(a,C[d])},v=function(a,
b,c,d){a.on(b,c,(function(b){for(var c=b.target;c&&c.parentNode!==a[0];)c=c.parentNode;b.currentTarget=c;return d.apply(this,[b])}))},q=function(a){var b={};if("selectionStart"in a)b.start=a.selectionStart,b.length=a.selectionEnd-b.start;else if(document.selection){a.focus();var c=document.selection.createRange(),d=document.selection.createRange().text.length;c.moveStart("character",-a.value.length);b.start=c.text.length-d;b.length=d}return b},B=function(a){var b=null,c=function(c,e){c=c||window.event||
{};e=e||{};if(!c.metaKey&&!c.altKey&&(e.force||!1!==a.data("grow"))){e=a.val();if(c.type&&"keydown"===c.type.toLowerCase()){var g=c.keyCode;var f=48<=g&&57>=g||65<=g&&90>=g||96<=g&&111>=g||186<=g&&222>=g||32===g;46===g||8===g?(c=q(a[0]),c.length?e=e.substring(0,c.start)+e.substring(c.start+c.length):8===g&&c.start?e=e.substring(0,c.start-1)+e.substring(c.start+1):46===g&&"undefined"!==typeof c.start&&(e=e.substring(0,c.start)+e.substring(c.start+1))):f&&(g=c.shiftKey,c=String.fromCharCode(c.keyCode),
c=g?c.toUpperCase():c.toLowerCase(),e+=c)}c=a.attr("placeholder");!e&&c&&(e=c);if(e){r.$testInput||(r.$testInput=d("<span />").css({position:"absolute",top:-99999,left:-99999,width:"auto",padding:0,whiteSpace:"pre"}).appendTo("body"));r.$testInput.text(e);e=r.$testInput;c=["letterSpacing","fontSize","fontFamily","fontWeight","textTransform"];var h={};if(c)for(g=0,f=c.length;g<f;g++)h[c[g]]=a.css(c[g]);else h=a.css();e.css(h);e=r.$testInput.width()}else e=0;e+=4;e!==b&&(b=e,a.width(e),a.triggerHandler("resize"))}};
a.on("keydown keyup update blur",c);c()},H=function(a){var b=document.createElement("div");b.appendChild(a.cloneNode(!0));return b.innerHTML},E=function(a,b){b||(b={});console.error("Selectize: "+a);b.explanation&&(console.group&&console.group(),console.error(b.explanation),console.group&&console.groupEnd())},r=function(a,b){var c=a[0];c.selectize=this;var g=(g=(g=window.getComputedStyle&&window.getComputedStyle(c,null))?g.getPropertyValue("direction"):c.currentStyle&&c.currentStyle.direction)||a.parents("[dir]:first").attr("dir")||
"";d.extend(this,{order:0,settings:b,$input:a,tabIndex:a.attr("tabindex")||"",tagType:"select"===c.tagName.toLowerCase()?1:2,rtl:/rtl/i.test(g),eventNS:".selectize"+ ++r.count,highlightedValue:null,isBlurring:!1,isOpen:!1,isDisabled:!1,isRequired:a.is("[required]"),isInvalid:!1,isLocked:!1,isFocused:!1,isInputHidden:!1,isSetup:!1,isShiftDown:!1,isCmdDown:!1,isCtrlDown:!1,ignoreFocus:!1,ignoreBlur:!1,ignoreHover:!1,hasOptions:!1,currentResults:null,lastValue:"",caretPos:0,loading:0,loadedSearches:{},
$activeOption:null,$activeItems:[],optgroups:{},options:{},userOptions:{},items:[],renderCache:{},onSearchChange:null===b.loadThrottle?this.onSearchChange:G(this.onSearchChange,b.loadThrottle)});this.sifter=new k(this.options,{diacritics:b.diacritics});if(this.settings.options){a=0;for(b=this.settings.options.length;a<b;a++)this.registerOption(this.settings.options[a]);delete this.settings.options}if(this.settings.optgroups){a=0;for(b=this.settings.optgroups.length;a<b;a++)this.registerOptionGroup(this.settings.optgroups[a]);
delete this.settings.optgroups}this.settings.mode=this.settings.mode||(1===this.settings.maxItems?"single":"multi");"boolean"!==typeof this.settings.hideSelected&&(this.settings.hideSelected="multi"===this.settings.mode);this.initializePlugins(this.settings.plugins);this.setupCallbacks();this.setupTemplates();this.setup()};p.mixin(r);"undefined"!==typeof h?h.mixin(r):E("Dependency MicroPlugin is missing",{explanation:'Make sure you either: (1) are using the "standalone" version of Selectize, or (2) require MicroPlugin before you load Selectize.'});
d.extend(r.prototype,{setup:function(){var a=this,b=a.settings,c=a.eventNS,g=d(window),e=d(document),h=a.$input,k;var D=a.settings.mode;var y=h.attr("class")||"";var p=d("<div>").addClass(b.wrapperClass).addClass(y).addClass(D);var t=d("<div>").addClass(b.inputClass).addClass("items").appendTo(p);var w=d('<input type="text" autocomplete="off" />').appendTo(t).attr("tabindex",h.is(":disabled")?"-1":a.tabIndex);var n=d(b.dropdownParent||p);n=d("<div>").addClass(b.dropdownClass).addClass(D).hide().appendTo(n);
D=d("<div>").addClass(b.dropdownContentClass).appendTo(n);if(k=h.attr("id"))w.attr("id",k+"-selectized"),d("label[for='"+k+"']").attr("for",k+"-selectized");a.settings.copyClassesToDropdown&&n.addClass(y);p.css({width:h[0].style.width});a.plugins.names.length&&(y="plugin-"+a.plugins.names.join(" plugin-"),p.addClass(y),n.addClass(y));(null===b.maxItems||1<b.maxItems)&&1===a.tagType&&h.attr("multiple","multiple");a.settings.placeholder&&w.attr("placeholder",b.placeholder);!a.settings.splitOn&&a.settings.delimiter&&
(y=a.settings.delimiter.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"),a.settings.splitOn=new RegExp("\\s*"+y+"+\\s*"));h.attr("autocorrect")&&w.attr("autocorrect",h.attr("autocorrect"));h.attr("autocapitalize")&&w.attr("autocapitalize",h.attr("autocapitalize"));w[0].type=h[0].type;a.$wrapper=p;a.$control=t;a.$control_input=w;a.$dropdown=n;a.$dropdown_content=D;n.on("mouseenter mousedown click","[data-disabled]>[data-selectable]",(function(a){a.stopImmediatePropagation()}));n.on("mouseenter","[data-selectable]",
(function(){return a.onOptionHover.apply(a,arguments)}));n.on("mousedown click","[data-selectable]",(function(){return a.onOptionSelect.apply(a,arguments)}));v(t,"mousedown","*:not(input)",(function(){return a.onItemSelect.apply(a,arguments)}));B(w);t.on({mousedown:function(){return a.onMouseDown.apply(a,arguments)},click:function(){return a.onClick.apply(a,arguments)}});w.on({mousedown:function(a){a.stopPropagation()},keydown:function(){return a.onKeyDown.apply(a,arguments)},keyup:function(){return a.onKeyUp.apply(a,
arguments)},keypress:function(){return a.onKeyPress.apply(a,arguments)},resize:function(){a.positionDropdown.apply(a,[])},blur:function(){return a.onBlur.apply(a,arguments)},focus:function(){a.ignoreBlur=!1;return a.onFocus.apply(a,arguments)},paste:function(){return a.onPaste.apply(a,arguments)}});e.on("keydown"+c,(function(b){a.isCmdDown=b[l?"metaKey":"ctrlKey"];a.isCtrlDown=b[l?"altKey":"ctrlKey"];a.isShiftDown=b.shiftKey}));e.on("keyup"+c,(function(b){b.keyCode===m&&(a.isCtrlDown=!1);16===b.keyCode&&
(a.isShiftDown=!1);b.keyCode===A&&(a.isCmdDown=!1)}));e.on("mousedown"+c,(function(b){if(a.isFocused){if(b.target===a.$dropdown[0]||b.target.parentNode===a.$dropdown[0])return!1;a.$control.has(b.target).length||b.target===a.$control[0]||a.blur(b.target)}}));g.on(["scroll"+c,"resize"+c].join(" "),(function(){a.isOpen&&a.positionDropdown.apply(a,arguments)}));g.on("mousemove"+c,(function(){a.ignoreHover=!1}));this.revertSettings={$children:h.children().detach(),tabindex:h.attr("tabindex")};h.attr("tabindex",
-1).hide().after(a.$wrapper);d.isArray(b.items)&&(a.setValue(b.items),delete b.items);if(f)h.on("invalid"+c,(function(b){b.preventDefault();a.isInvalid=!0;a.refreshState()}));a.updateOriginalInput();a.refreshItems();a.refreshState();a.updatePlaceholder();a.isSetup=!0;h.is(":disabled")&&a.disable();a.on("change",this.onChange);h.data("selectize",a);h.addClass("selectized");a.trigger("initialize");if(!0===b.preload)a.onSearchChange("")},setupTemplates:function(){var a=this.settings.labelField,b=this.settings.optgroupLabelField;
this.settings.render=d.extend({},{optgroup:function(a){return'<div class="optgroup">'+a.html+"</div>"},optgroup_header:function(a,d){return'<div class="optgroup-header">'+d(a[b])+"</div>"},option:function(b,d){return'<div class="option">'+d(b[a])+"</div>"},item:function(b,d){return'<div class="item">'+d(b[a])+"</div>"},option_create:function(a,b){return'<div class="create">Add <strong>'+b(a.input)+"</strong>&hellip;</div>"}},this.settings.render)},setupCallbacks:function(){var a,b,c={initialize:"onInitialize",
change:"onChange",item_add:"onItemAdd",item_remove:"onItemRemove",clear:"onClear",option_add:"onOptionAdd",option_remove:"onOptionRemove",option_clear:"onOptionClear",optgroup_add:"onOptionGroupAdd",optgroup_remove:"onOptionGroupRemove",optgroup_clear:"onOptionGroupClear",dropdown_open:"onDropdownOpen",dropdown_close:"onDropdownClose",type:"onType",load:"onLoad",focus:"onFocus",blur:"onBlur"};for(a in c)if(c.hasOwnProperty(a)&&(b=this.settings[c[a]]))this.on(a,b)},onClick:function(a){this.isFocused&&
this.isOpen||(this.focus(),a.preventDefault())},onMouseDown:function(a){var b=this,c=a.isDefaultPrevented();d(a.target);if(b.isFocused){if(a.target!==b.$control_input[0])return"single"===b.settings.mode?b.isOpen?b.close():b.open():c||b.setActiveItem(null),!1}else c||window.setTimeout((function(){b.focus()}),0)},onChange:function(){this.$input.trigger("change")},onPaste:function(a){var b=this;b.isFull()||b.isInputHidden||b.isLocked?a.preventDefault():b.settings.splitOn&&setTimeout((function(){var a=b.$control_input.val();
if(a.match(b.settings.splitOn)){a=d.trim(a).split(b.settings.splitOn);for(var g=0,e=a.length;g<e;g++)b.createItem(a[g])}}),0)},onKeyPress:function(a){if(this.isLocked)return a&&a.preventDefault();var b=String.fromCharCode(a.keyCode||a.which);if(this.settings.create&&"multi"===this.settings.mode&&b===this.settings.delimiter)return this.createItem(),a.preventDefault(),!1},onKeyDown:function(a){if(this.isLocked)9!==a.keyCode&&a.preventDefault();else{switch(a.keyCode){case 65:if(this.isCmdDown){this.selectAll();
return}break;case 27:this.isOpen&&(a.preventDefault(),a.stopPropagation(),this.close());return;case 78:if(!a.ctrlKey||a.altKey)break;case 40:if(!this.isOpen&&this.hasOptions)this.open();else if(this.$activeOption){this.ignoreHover=!0;var b=this.getAdjacentOption(this.$activeOption,1);b.length&&this.setActiveOption(b,!0,!0)}a.preventDefault();return;case 80:if(!a.ctrlKey||a.altKey)break;case 38:this.$activeOption&&(this.ignoreHover=!0,b=this.getAdjacentOption(this.$activeOption,-1),b.length&&this.setActiveOption(b,
!0,!0));a.preventDefault();return;case 37:this.advanceSelection(-1,a);return;case 39:this.advanceSelection(1,a);return;case 9:this.settings.selectOnTab&&this.isOpen&&this.$activeOption&&(this.onOptionSelect({currentTarget:this.$activeOption}),this.isFull()||a.preventDefault());this.settings.create&&this.createItem()&&a.preventDefault();return;case 8:case 46:this.deleteSelection(a);return}!this.isFull()&&!this.isInputHidden||(l?a.metaKey:a.ctrlKey)||a.preventDefault()}},onKeyUp:function(a){if(this.isLocked)return a&&
a.preventDefault();a=this.$control_input.val()||"";this.lastValue!==a&&(this.lastValue=a,this.onSearchChange(a),this.refreshOptions(),this.trigger("type",a))},onSearchChange:function(a){var b=this,c=b.settings.load;c&&!b.loadedSearches.hasOwnProperty(a)&&(b.loadedSearches[a]=!0,b.load((function(d){c.apply(b,[a,d])})))},onFocus:function(a){var b=this.isFocused;if(this.isDisabled)return this.blur(),a&&a.preventDefault(),!1;if(!this.ignoreFocus){this.isFocused=!0;if("focus"===this.settings.preload)this.onSearchChange("");
b||this.trigger("focus");this.$activeItems.length||(this.showInput(),this.setActiveItem(null),this.refreshOptions(!!this.settings.openOnFocus));this.refreshState()}},onBlur:function(a,b){var c=this;c.isFocused&&(c.isFocused=!1,c.ignoreFocus||(c.ignoreBlur||document.activeElement!==c.$dropdown_content[0]?(a=function(){c.close();c.setTextboxValue("");c.setActiveItem(null);c.setActiveOption(null);c.setCaret(c.items.length);c.refreshState();b&&b.focus&&b.focus();c.isBlurring=!1;c.ignoreFocus=!1;c.trigger("blur")},
c.isBlurring=!0,c.ignoreFocus=!0,c.settings.create&&c.settings.createOnBlur?c.createItem(null,!1,a):a()):(c.ignoreBlur=!0,c.onFocus(a))))},onOptionHover:function(a){this.ignoreHover||this.setActiveOption(a.currentTarget,!1)},onOptionSelect:function(a){var b=this;a.preventDefault&&(a.preventDefault(),a.stopPropagation());var c=d(a.currentTarget);c.hasClass("create")?b.createItem(null,(function(){b.settings.closeAfterSelect&&b.close()})):(c=c.attr("data-value"),"undefined"!==typeof c&&(b.lastQuery=null,
b.setTextboxValue(""),b.addItem(c),b.settings.closeAfterSelect?b.close():!b.settings.hideSelected&&a.type&&/mouse/.test(a.type)&&b.setActiveOption(b.getOption(c))))},onItemSelect:function(a){this.isLocked||"multi"!==this.settings.mode||(a.preventDefault(),this.setActiveItem(a.currentTarget,a))},load:function(a){var b=this,c=b.$wrapper.addClass(b.settings.loadingClass);b.loading++;a.apply(b,[function(a){b.loading=Math.max(b.loading-1,0);a&&a.length&&(b.addOption(a),b.refreshOptions(b.isFocused&&!b.isInputHidden));
b.loading||c.removeClass(b.settings.loadingClass);b.trigger("load",a)}])},setTextboxValue:function(a){var b=this.$control_input;b.val()!==a&&(b.val(a).triggerHandler("update"),this.lastValue=a)},getValue:function(){return 1===this.tagType&&this.$input.attr("multiple")?this.items:this.items.join(this.settings.delimiter)},setValue:function(a,b){z(this,b?[]:["change"],(function(){this.clear(b);this.addItems(a,b)}))},setActiveItem:function(a,b){if("single"!==this.settings.mode)if(a=d(a),a.length){var c=
b&&b.type.toLowerCase();if("mousedown"===c&&this.isShiftDown&&this.$activeItems.length){c=this.$control.children(".active:last");c=Array.prototype.indexOf.apply(this.$control[0].childNodes,[c[0]]);a=Array.prototype.indexOf.apply(this.$control[0].childNodes,[a[0]]);if(c>a){var g=c;c=a;a=g}for(;c<=a;c++)g=this.$control[0].childNodes[c],-1===this.$activeItems.indexOf(g)&&(d(g).addClass("active"),this.$activeItems.push(g));b.preventDefault()}else"mousedown"===c&&this.isCtrlDown||"keydown"===c&&this.isShiftDown?
a.hasClass("active")?(b=this.$activeItems.indexOf(a[0]),this.$activeItems.splice(b,1),a.removeClass("active")):this.$activeItems.push(a.addClass("active")[0]):(d(this.$activeItems).removeClass("active"),this.$activeItems=[a.addClass("active")[0]]);this.hideInput();this.isFocused||this.focus()}else d(this.$activeItems).removeClass("active"),this.$activeItems=[],this.isFocused&&this.showInput()},setActiveOption:function(a,b,c){this.$activeOption&&this.$activeOption.removeClass("active");this.$activeOption=
null;a=d(a);if(a.length&&(this.$activeOption=a.addClass("active"),b||"undefined"===typeof b)){a=this.$dropdown_content.height();var g=this.$activeOption.outerHeight(!0);b=this.$dropdown_content.scrollTop()||0;var e=this.$activeOption.offset().top-this.$dropdown_content.offset().top+b;var f=e-a+g;e+g>a+b?this.$dropdown_content.stop().animate({scrollTop:f},c?this.settings.scrollDuration:0):e<b&&this.$dropdown_content.stop().animate({scrollTop:e},c?this.settings.scrollDuration:0)}},selectAll:function(){"single"!==
this.settings.mode&&(this.$activeItems=Array.prototype.slice.apply(this.$control.children(":not(input)").addClass("active")),this.$activeItems.length&&(this.hideInput(),this.close()),this.focus())},hideInput:function(){this.setTextboxValue("");this.$control_input.css({opacity:0,position:"absolute",left:this.rtl?1E4:-1E4});this.isInputHidden=!0},showInput:function(){this.$control_input.css({opacity:1,position:"relative",left:0});this.isInputHidden=!1},focus:function(){var a=this;a.isDisabled||(a.ignoreFocus=
!0,a.$control_input[0].focus(),window.setTimeout((function(){a.ignoreFocus=!1;a.onFocus()}),0))},blur:function(a){this.$control_input[0].blur();this.onBlur(null,a)},getScoreFunction:function(a){return this.sifter.getScoreFunction(a,this.getSearchOptions())},getSearchOptions:function(){var a=this.settings,b=a.sortField;"string"===typeof b&&(b=[{field:b}]);return{fields:a.searchField,conjunction:a.searchConjunction,sort:b,nesting:a.nesting}},search:function(a){var b=this.settings;var c=this.getSearchOptions();
if(b.score){var g=this.settings.score.apply(this,[a]);if("function"!==typeof g)throw Error('Selectize "score" setting must be a function that returns a function');}a!==this.lastQuery?(this.lastQuery=a,this.currentResults=a=this.sifter.search(a,d.extend(c,{score:g}))):a=d.extend(!0,{},this.currentResults);if(b.hideSelected)for(b=a.items.length-1;0<=b;b--)-1!==this.items.indexOf(t(a.items[b].id))&&a.items.splice(b,1);return a},refreshOptions:function(a){var b,c,g;"undefined"===typeof a&&(a=!0);var e=
this;var f=d.trim(e.$control_input.val());var h=e.search(f),k=e.$dropdown_content,m=e.$activeOption&&t(e.$activeOption.attr("data-value"));var l=h.items.length;"number"===typeof e.settings.maxOptions&&(l=Math.min(l,e.settings.maxOptions));var p={};var w=[];for(b=0;b<l;b++){var n=e.options[h.items[b].id];var q=e.render("option",n);n=n[e.settings.optgroupField]||"";var u=d.isArray(n)?n:[n];var r=0;for(c=u&&u.length;r<c;r++)n=u[r],e.optgroups.hasOwnProperty(n)||(n=""),p.hasOwnProperty(n)||(p[n]=document.createDocumentFragment(),
w.push(n)),p[n].appendChild(q)}this.settings.lockOptgroupOrder&&w.sort((function(a,b){return(e.optgroups[a].$order||0)-(e.optgroups[b].$order||0)}));q=document.createDocumentFragment();b=0;for(l=w.length;b<l;b++)n=w[b],e.optgroups.hasOwnProperty(n)&&p[n].childNodes.length?(r=document.createDocumentFragment(),r.appendChild(e.render("optgroup_header",e.optgroups[n])),r.appendChild(p[n]),q.appendChild(e.render("optgroup",d.extend({},e.optgroups[n],{html:H(r),dom:r})))):q.appendChild(p[n]);k.html(q);if(e.settings.highlight&&
(k.removeHighlight(),h.query.length&&h.tokens.length))for(b=0,l=h.tokens.length;b<l;b++)x(k,h.tokens[b].regex);if(!e.settings.hideSelected)for(b=0,l=e.items.length;b<l;b++)e.getOption(e.items[b]).addClass("selected");if(b=e.canCreate(f)){k.prepend(e.render("option_create",{input:f}));var v=d(k[0].childNodes[0])}e.hasOptions=0<h.items.length||b;e.hasOptions?(0<h.items.length?((f=m&&e.getOption(m))&&f.length?g=f:"single"===e.settings.mode&&e.items.length&&(g=e.getOption(e.items[0])),g&&g.length||(g=
v&&!e.settings.addPrecedence?e.getAdjacentOption(v,1):k.find("[data-selectable]:first"))):g=v,e.setActiveOption(g),a&&!e.isOpen&&e.open()):(e.setActiveOption(null),a&&e.isOpen&&e.close())},addOption:function(a){var b;if(d.isArray(a)){var c=0;for(b=a.length;c<b;c++)this.addOption(a[c])}else if(c=this.registerOption(a))this.userOptions[c]=!0,this.lastQuery=null,this.trigger("option_add",c,a)},registerOption:function(a){var b=t(a[this.settings.valueField]);if("undefined"===typeof b||null===b||this.options.hasOwnProperty(b))return!1;
a.$order=a.$order||++this.order;this.options[b]=a;return b},registerOptionGroup:function(a){var b=t(a[this.settings.optgroupValueField]);if(!b)return!1;a.$order=a.$order||++this.order;this.optgroups[b]=a;return b},addOptionGroup:function(a,b){b[this.settings.optgroupValueField]=a;(a=this.registerOptionGroup(b))&&this.trigger("optgroup_add",a,b)},removeOptionGroup:function(a){this.optgroups.hasOwnProperty(a)&&(delete this.optgroups[a],this.renderCache={},this.trigger("optgroup_remove",a))},clearOptionGroups:function(){this.optgroups=
{};this.renderCache={};this.trigger("optgroup_clear")},updateOption:function(a,b){a=t(a);var c=t(b[this.settings.valueField]);if(null!==a&&this.options.hasOwnProperty(a)){if("string"!==typeof c)throw Error("Value must be set in option data");var g=this.options[a].$order;if(c!==a){delete this.options[a];var e=this.items.indexOf(a);-1!==e&&this.items.splice(e,1,c)}b.$order=b.$order||g;this.options[c]=b;e=this.renderCache.item;g=this.renderCache.option;e&&(delete e[a],delete e[c]);g&&(delete g[a],delete g[c]);
-1!==this.items.indexOf(c)&&(a=this.getItem(a),b=d(this.render("item",b)),a.hasClass("active")&&b.addClass("active"),a.replaceWith(b));this.lastQuery=null;this.isOpen&&this.refreshOptions(!1)}},removeOption:function(a,b){a=t(a);var c=this.renderCache.item,d=this.renderCache.option;c&&delete c[a];d&&delete d[a];delete this.userOptions[a];delete this.options[a];this.lastQuery=null;this.trigger("option_remove",a);this.removeItem(a,b)},clearOptions:function(){var a=this;a.loadedSearches={};a.userOptions=
{};a.renderCache={};var b=a.options;d.each(a.options,(function(c,d){-1==a.items.indexOf(c)&&delete b[c]}));a.options=a.sifter.items=b;a.lastQuery=null;a.trigger("option_clear")},getOption:function(a){return this.getElementWithValue(a,this.$dropdown_content.find("[data-selectable]"))},getAdjacentOption:function(a,b){var c=this.$dropdown.find("[data-selectable]");a=c.index(a)+b;return 0<=a&&a<c.length?c.eq(a):d()},getElementWithValue:function(a,b){a=t(a);if("undefined"!==typeof a&&null!==a)for(var c=
0,g=b.length;c<g;c++)if(b[c].getAttribute("data-value")===a)return d(b[c]);return d()},getItem:function(a){return this.getElementWithValue(a,this.$control.children())},addItems:function(a,b){this.buffer=document.createDocumentFragment();for(var c=this.$control[0].childNodes,g=0;g<c.length;g++)this.buffer.appendChild(c[g]);a=d.isArray(a)?a:[a];g=0;for(c=a.length;g<c;g++)this.isPending=g<c-1,this.addItem(a[g],b);b=this.$control[0];b.insertBefore(this.buffer,b.firstChild);this.buffer=null},addItem:function(a,
b){z(this,b?[]:["change"],(function(){var c=this.settings.mode;a=t(a);if(-1!==this.items.indexOf(a))"single"===c&&this.close();else if(this.options.hasOwnProperty(a)&&("single"===c&&this.clear(b),"multi"!==c||!this.isFull())){var g=d(this.render("item",this.options[a]));var e=this.isFull();this.items.splice(this.caretPos,0,a);this.insertAtCaret(g);(!this.isPending||!e&&this.isFull())&&this.refreshState();if(this.isSetup){e=this.$dropdown_content.find("[data-selectable]");if(!this.isPending){var f=
this.getOption(a);f=this.getAdjacentOption(f,1).attr("data-value");this.refreshOptions(this.isFocused&&"single"!==c);f&&this.setActiveOption(this.getOption(f))}!e.length||this.isFull()?this.close():this.isPending||this.positionDropdown();this.updatePlaceholder();this.trigger("item_add",a,g);this.isPending||this.updateOriginalInput({silent:b})}}}))},removeItem:function(a,b){var c=a instanceof d?a:this.getItem(a);a=t(c.attr("data-value"));var g=this.items.indexOf(a);if(-1!==g){c.remove();if(c.hasClass("active")){var e=
this.$activeItems.indexOf(c[0]);this.$activeItems.splice(e,1)}this.items.splice(g,1);this.lastQuery=null;!this.settings.persist&&this.userOptions.hasOwnProperty(a)&&this.removeOption(a,b);g<this.caretPos&&this.setCaret(this.caretPos-1);this.refreshState();this.updatePlaceholder();this.updateOriginalInput({silent:b});this.positionDropdown();this.trigger("item_remove",a,c)}},createItem:function(a,b){var c=this,g=c.caretPos;a=a||d.trim(c.$control_input.val()||"");var e=arguments[arguments.length-1];
"function"!==typeof e&&(e=function(){});"boolean"!==typeof b&&(b=!0);if(!c.canCreate(a))return e(),!1;c.lock();var f="function"===typeof c.settings.create?this.settings.create:function(a){var b={};b[c.settings.labelField]=a;b[c.settings.valueField]=a;return b},h=F((function(a){c.unlock();if(!a||"object"!==typeof a)return e();var d=t(a[c.settings.valueField]);if("string"!==typeof d)return e();c.setTextboxValue("");c.addOption(a);c.setCaret(g);c.addItem(d);c.refreshOptions(b&&"single"!==c.settings.mode);
e(a)}));f=f.apply(this,[a,h]);"undefined"!==typeof f&&h(f);return!0},refreshItems:function(){this.lastQuery=null;this.isSetup&&this.addItem(this.items);this.refreshState();this.updateOriginalInput()},refreshState:function(){this.refreshValidityState();this.refreshClasses()},refreshValidityState:function(){if(!this.isRequired)return!1;var a=!this.items.length;this.isInvalid=a;this.$control_input.prop("required",a);this.$input.prop("required",!a)},refreshClasses:function(){var a=this.isFull(),b=this.isLocked;
this.$wrapper.toggleClass("rtl",this.rtl);this.$control.toggleClass("focus",this.isFocused).toggleClass("disabled",this.isDisabled).toggleClass("required",this.isRequired).toggleClass("invalid",this.isInvalid).toggleClass("locked",b).toggleClass("full",a).toggleClass("not-full",!a).toggleClass("input-active",this.isFocused&&!this.isInputHidden).toggleClass("dropdown-active",this.isOpen).toggleClass("has-options",!d.isEmptyObject(this.options)).toggleClass("has-items",0<this.items.length);this.$control_input.data("grow",
!a&&!b)},isFull:function(){return null!==this.settings.maxItems&&this.items.length>=this.settings.maxItems},updateOriginalInput:function(a){var b;a=a||{};if(1===this.tagType){var c=[];var d=0;for(b=this.items.length;d<b;d++){var e=this.options[this.items[d]][this.settings.labelField]||"";c.push('<option value="'+u(this.items[d])+'" selected="selected">'+u(e)+"</option>")}c.length||this.$input.attr("multiple")||c.push('<option value="" selected="selected"></option>');this.$input.html(c.join(""))}else this.$input.val(this.getValue()),
this.$input.attr("value",this.$input.val());this.isSetup&&(a.silent||this.trigger("change",this.$input.val()))},updatePlaceholder:function(){if(this.settings.placeholder){var a=this.$control_input;this.items.length?a.removeAttr("placeholder"):a.attr("placeholder",this.settings.placeholder);a.triggerHandler("update",{force:!0})}},open:function(){this.isLocked||this.isOpen||"multi"===this.settings.mode&&this.isFull()||(this.focus(),this.isOpen=!0,this.refreshState(),this.$dropdown.css({visibility:"hidden",
display:"block"}),this.positionDropdown(),this.$dropdown.css({visibility:"visible"}),this.trigger("dropdown_open",this.$dropdown))},close:function(){var a=this.isOpen;"single"===this.settings.mode&&this.items.length&&(this.hideInput(),this.isBlurring||this.$control_input.blur());this.isOpen=!1;this.$dropdown.hide();this.setActiveOption(null);this.refreshState();a&&this.trigger("dropdown_close",this.$dropdown)},positionDropdown:function(){var a=this.$control,b="body"===this.settings.dropdownParent?
a.offset():a.position();b.top+=a.outerHeight(!0);this.$dropdown.css({width:a[0].getBoundingClientRect().width,top:b.top,left:b.left})},clear:function(a){this.items.length&&(this.$control.children(":not(input)").remove(),this.items=[],this.lastQuery=null,this.setCaret(0),this.setActiveItem(null),this.updatePlaceholder(),this.updateOriginalInput({silent:a}),this.refreshState(),this.showInput(),this.trigger("clear"))},insertAtCaret:function(a){var b=Math.min(this.caretPos,this.items.length);a=a[0];var c=
this.buffer||this.$control[0];0===b?c.insertBefore(a,c.firstChild):c.insertBefore(a,c.childNodes[b]);this.setCaret(b+1)},deleteSelection:function(a){var b;var c=a&&8===a.keyCode?-1:1;var g=q(this.$control_input[0]);this.$activeOption&&!this.settings.hideSelected&&(b=this.getAdjacentOption(this.$activeOption,-1).attr("data-value"));var e=[];if(this.$activeItems.length){var f=this.$control.children(".active:"+(0<c?"last":"first"));f=this.$control.children(":not(input)").index(f);0<c&&f++;c=0;for(g=
this.$activeItems.length;c<g;c++)e.push(d(this.$activeItems[c]).attr("data-value"));a&&(a.preventDefault(),a.stopPropagation())}else(this.isFocused||"single"===this.settings.mode)&&this.items.length&&(0>c&&0===g.start&&0===g.length?e.push(this.items[this.caretPos-1]):0<c&&g.start===this.$control_input.val().length&&e.push(this.items[this.caretPos]));if(!e.length||"function"===typeof this.settings.onDelete&&!1===this.settings.onDelete.apply(this,[e]))return!1;for("undefined"!==typeof f&&this.setCaret(f);e.length;)this.removeItem(e.pop());
this.showInput();this.positionDropdown();this.refreshOptions(!0);b&&(a=this.getOption(b),a.length&&this.setActiveOption(a));return!0},advanceSelection:function(a,b){if(0!==a){this.rtl&&(a*=-1);var c=0<a?"last":"first";var d=q(this.$control_input[0]);this.isFocused&&!this.isInputHidden?(c=this.$control_input.val().length,(d=0>a?0===d.start&&0===d.length:d.start===c)&&!c&&this.advanceCaret(a,b)):(b=this.$control.children(".active:"+c),b.length&&(b=this.$control.children(":not(input)").index(b),this.setActiveItem(null),
this.setCaret(0<a?b+1:b)))}},advanceCaret:function(a,b){if(0!==a){var c=0<a?"next":"prev";this.isShiftDown?(a=this.$control_input[c](),a.length&&(this.hideInput(),this.setActiveItem(a),b&&b.preventDefault())):this.setCaret(this.caretPos+a)}},setCaret:function(a){a="single"===this.settings.mode?this.items.length:Math.max(0,Math.min(this.items.length,a));if(!this.isPending){var b;var c=this.$control.children(":not(input)");var g=0;for(b=c.length;g<b;g++){var e=d(c[g]).detach();g<a?this.$control_input.before(e):
this.$control.append(e)}}this.caretPos=a},lock:function(){this.close();this.isLocked=!0;this.refreshState()},unlock:function(){this.isLocked=!1;this.refreshState()},disable:function(){this.$input.prop("disabled",!0);this.$control_input.prop("disabled",!0).prop("tabindex",-1);this.isDisabled=!0;this.lock()},enable:function(){this.$input.prop("disabled",!1);this.$control_input.prop("disabled",!1).prop("tabindex",this.tabIndex);this.isDisabled=!1;this.unlock()},destroy:function(){var a=this.eventNS,
b=this.revertSettings;this.trigger("destroy");this.off();this.$wrapper.remove();this.$dropdown.remove();this.$input.html("").append(b.$children).removeAttr("tabindex").removeClass("selectized").attr({tabindex:b.tabindex}).show();this.$control_input.removeData("grow");this.$input.removeData("selectize");0==--r.count&&r.$testInput&&(r.$testInput.remove(),r.$testInput=void 0);d(window).off(a);d(document).off(a);d(document.body).off(a);delete this.$input[0].selectize},render:function(a,b){var c=!1;if("option"===
a||"item"===a){var g=t(b[this.settings.valueField]);c=!!g}if(c&&("undefined"===typeof this.renderCache[a]&&(this.renderCache[a]={}),this.renderCache[a].hasOwnProperty(g)))return this.renderCache[a][g];var e=d(this.settings.render[a].apply(this,[b,u]));if("option"===a||"option_create"===a)b[this.settings.disabledField]||e.attr("data-selectable","");else if("optgroup"===a){var f=b[this.settings.optgroupValueField]||"";e.attr("data-group",f);b[this.settings.disabledField]&&e.attr("data-disabled","")}"option"!==
a&&"item"!==a||e.attr("data-value",g||"");c&&(this.renderCache[a][g]=e[0]);return e[0]},clearCache:function(a){"undefined"===typeof a?this.renderCache={}:delete this.renderCache[a]},canCreate:function(a){if(!this.settings.create)return!1;var b=this.settings.createFilter;return a.length&&("function"!==typeof b||b.apply(this,[a]))&&("string"!==typeof b||(new RegExp(b)).test(a))&&(!(b instanceof RegExp)||b.test(a))}});r.count=0;r.defaults={options:[],optgroups:[],plugins:[],delimiter:",",splitOn:null,
persist:!0,diacritics:!0,create:!1,createOnBlur:!1,createFilter:null,highlight:!0,openOnFocus:!0,maxOptions:1E3,maxItems:null,hideSelected:null,addPrecedence:!1,selectOnTab:!1,preload:!1,allowEmptyOption:!1,closeAfterSelect:!1,scrollDuration:60,loadThrottle:300,loadingClass:"loading",dataAttr:"data-data",optgroupField:"optgroup",valueField:"value",labelField:"text",disabledField:"disabled",optgroupLabelField:"label",optgroupValueField:"value",lockOptgroupOrder:!1,sortField:"$order",searchField:["text"],
searchConjunction:"and",mode:null,wrapperClass:"selectize-control",inputClass:"selectize-input",dropdownClass:"selectize-dropdown",dropdownContentClass:"selectize-dropdown-content",dropdownParent:null,copyClassesToDropdown:!0,render:{}};d.fn.selectize=function(a){var b=d.fn.selectize.defaults,c=d.extend({},b,a),g=c.dataAttr,e=c.labelField,f=c.valueField,h=c.disabledField,k=c.optgroupField,l=c.optgroupLabelField,m=c.optgroupValueField,p=function(a,b){var n,p=b.options,r={},q=function(a){a=g&&a.attr(g);
return"string"===typeof a&&a.length?JSON.parse(a):null},u=function(a,g){a=d(a);var l=t(a.val());if(l||c.allowEmptyOption)if(r.hasOwnProperty(l))g&&((a=r[l][k])?d.isArray(a)?a.push(g):r[l][k]=[a,g]:r[l][k]=g);else{var n=q(a)||{};n[e]=n[e]||a.text();n[f]=n[f]||l;n[h]=n[h]||a.prop("disabled");n[k]=n[k]||g;r[l]=n;p.push(n);a.is(":selected")&&b.items.push(l)}},v=function(a){var c;a=d(a);if(c=a.attr("label")){var e=q(a)||{};e[l]=c;e[m]=c;e[h]=a.prop("disabled");b.optgroups.push(e)}var g=d("option",a);a=
0;for(e=g.length;a<e;a++)u(g[a],c)};b.maxItems=a.attr("multiple")?null:1;var w=a.children();a=0;for(n=w.length;a<n;a++){var y=w[a].tagName.toLowerCase();"optgroup"===y?v(w[a]):"option"===y&&u(w[a])}};return this.each((function(){if(!this.selectize){var h=d(this),k=this.tagName.toLowerCase(),l=h.attr("placeholder")||h.attr("data-placeholder");l||c.allowEmptyOption||(l=h.children('option[value=""]').text());l={placeholder:l,options:[],optgroups:[],items:[]};if("select"===k)p(h,l);else{var m;if(k=h.attr(g))for(l.options=
JSON.parse(k),k=0,m=l.options.length;k<m;k++)l.items.push(l.options[k][f]);else if(k=d.trim(h.val()||""),c.allowEmptyOption||k.length){var q=k.split(c.delimiter);k=0;for(m=q.length;k<m;k++){var t={};t[e]=q[k];t[f]=q[k];l.options.push(t)}l.items=q}}new r(h,d.extend(!0,{},b,l,a))}}))};d.fn.selectize.defaults=r.defaults;d.fn.selectize.support={validity:f};r.define("remove_button",(function(a){a=d.extend({label:"&times;",title:"Remove",className:"remove",append:!0},a);var b=function(a,b){b.className="remove-single";
var c='<a href="javascript:void(0)" class="'+b.className+'" tabindex="-1" title="'+u(b.title)+'">'+b.label+"</a>";a.setup=(function(){var e=a.setup;return function(){if(b.append){var g=d(a.$input.context).attr("id");d("#"+g);var f=a.settings.render.item;a.settings.render.item=function(b){var e=f.apply(a,arguments);return d("<span>").append(e).append(c)}}e.apply(a,arguments);a.$control.on("click","."+b.className,(function(b){b.preventDefault();a.isLocked||a.clear()}))}})()},c=function(a,b){var c='<a href="javascript:void(0)" class="'+
b.className+'" tabindex="-1" title="'+u(b.title)+'">'+b.label+"</a>";a.setup=(function(){var e=a.setup;return function(){if(b.append){var f=a.settings.render.item;a.settings.render.item=function(b){var d=f.apply(a,arguments),e=d.search(/(<\/[^>]+>\s*)$/);return d.substring(0,e)+c+d.substring(e)}}e.apply(a,arguments);a.$control.on("click","."+b.className,(function(b){b.preventDefault();a.isLocked||(b=d(b.currentTarget).parent(),a.setActiveItem(b),a.deleteSelection()&&a.setCaret(a.items.length))}))}})()};
"single"===this.settings.mode?b(this,a):c(this,a)}));return r}));
Selectize.define("preserve_on_blur",(function(a){var b=this;a.text=a.text||function(a){return a[this.settings.labelField]};this.onBlur=(function(a){var c=b.onBlur;return function(a){var b=this.$control_input.val();c.apply(this,a);this.setTextboxValue(b)}})()}));
String.prototype.matchAll=function(k){var e=[];this.replace(k,(function(){var q=[].slice.call(arguments,0),k=q.splice(-2);q.index=k[0];q.input=k[1];e.push(q)}));return e.length?e:null};String.prototype.replaceAll=function(k,e){return this.replace(new RegExp(k,"g"),e)};String.prototype.endswith=function(k,e){var q=this.toString();if(void 0===e||e>q.length)e=q.length;e-=k.length;k=q.indexOf(k,e);return-1!==k&&k===e};
"function"!==typeof String.prototype.trim&&(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")});Array.prototype.extend=function(k){k.forEach((function(e){this.push(e)}),this)};
var WMCORE=function(k,e,q){function u(a){return!isNaN(parseFloat(a))&&isFinite(a)}function m(a){return a[Math.floor(Math.random()*a.length)]}function n(a,b){if("elements"==a){a=0;var c=[],f=[2,3];for(b=b||m(f);a<b;)f=2>a?m(r):m(F),-1<c.indexOf(f)||(c.push(f),a++);b=c.join("-")}else if("formulae"==a)b=m(G);else if("anonymous"==a)b=m(H);else if("props"==a)b=m(I);else if("classes"==a)b=m(J);else if("lattices"==a)b=m(K);else return n(["elements","formulae","props","classes","lattices"][Math.floor(5*Math.random())]);
return b}function A(a,b){-1<a.indexOf("&#")&&(b=!0);var c=b?/&#x208(\d);/g:/%u208(\d)/g;a=b?a:escape(a);if(b=a.matchAll(c))for(c=0;c<b.length;c++)a=a.replace(b[c][0],b[c][1]);return unescape(a).replace(/^\(|\)$/g,"")}function L(a){var b=a.length;if(10<b)return!1;a=2==b?[[a.substr(0,1),a.substr(1,1)]]:3==b?[[a.substr(0,1),a.substr(1,1),a.substr(2,1)],[a.substr(0,1),a.substr(1,2)],[a.substr(0,2),a.substr(2,1)]]:4==b?[[a.substr(0,2),a.substr(2,2)],[a.substr(0,2),a.substr(2,1),a.substr(3,1)],[a.substr(0,
1),a.substr(1,1),a.substr(2,2)],[a.substr(0,1),a.substr(1,2),a.substr(3,1)],[a.substr(0,1),a.substr(1,1),a.substr(2,1),a.substr(3,1)]]:5==b?[[a.substr(0,1),a.substr(1,1),a.substr(2,1)],[a.substr(0,1),a.substr(1,1),a.substr(2,2)],[a.substr(0,2),a.substr(2,2),a.substr(4,1)],[a.substr(0,1),a.substr(1,2),a.substr(3,2)],[a.substr(0,1),a.substr(1,2),a.substr(3,1)],[a.substr(0,2),a.substr(2,1),a.substr(3,1)],[a.substr(0,2),a.substr(2,1),a.substr(3,2)]]:[[a.substr(0,2),a.substr(2,2),a.substr(4,2)],[a.substr(0,
2),a.substr(2,1),a.substr(3,1),a.substr(4,2)],[a.substr(0,2),a.substr(2,1),a.substr(3,1),a.substr(4,1),a.substr(5,1)],[a.substr(0,2),a.substr(2,2),a.substr(4,1),a.substr(5,1)],[a.substr(0,2),a.substr(2,2),a.substr(4,1),a.substr(5,2)],[a.substr(0,2),a.substr(2,1),a.substr(3,2),a.substr(5,1)],[a.substr(0,2),a.substr(2,1),a.substr(3,2),a.substr(5,2)],[a.substr(0,1),a.substr(1,2),a.substr(3,1),a.substr(4,2)],[a.substr(0,1),a.substr(1,2),a.substr(3,1),a.substr(4,1),a.substr(5,1)],[a.substr(0,1),a.substr(1,
2),a.substr(3,2),a.substr(5,1)],[a.substr(0,1),a.substr(1,2),a.substr(3,2),a.substr(5,2)],[a.substr(0,1),a.substr(1,1),a.substr(2,2),a.substr(4,1),a.substr(5,1)],[a.substr(0,1),a.substr(1,1),a.substr(2,2),a.substr(4,2)],[a.substr(0,1),a.substr(1,1),a.substr(2,1),a.substr(3,2),a.substr(5,1)],[a.substr(0,1),a.substr(1,1),a.substr(2,1),a.substr(3,1),a.substr(4,2)]];for(b=0;b<a.length;b++)for(var c=0,f=0;f<a[b].length;f++)if(-1<x.indexOf(a[b][f])&&c++,c==a[b].length)return!0;return!1}function M(a){if("AB"==
a||"ABC"==a||"ABCD"==a)return["formulae"];a=a.toLowerCase();var b=a.matchAll(/(\d)/g);if(b&&1<b.length)return["formulae"];var c=escape(a).matchAll(/%u208(\d)/g);if(c&&c.length)return["formulae"];if(-1!==t.indexOf(a))return["elements"];if(-1!==y.indexOf(a))return["elements",t[y.indexOf(a)]];if(-1!==a.indexOf("-")){var f=!1;a.split("-").forEach((function(a){-1==t.indexOf(a)&&(f=!0)}));if(!f)return["elements"]}if(-1<["element","elements","elementary"].indexOf(a))return["classes","unary"];if("quinternary"==
a||"quinternaries"==a||"pentanary"==a||"pentanaries"==a)return["classes","quinary"];if("actinide"==a||"actinides"==a)return["classes","actinoid"];if("lantanide"==a||"lantanides"==a||"lanthanide"==a||"lanthanides"==a||"lantanoid"==a||"lantanoids"==a)return["classes","lanthanoid"];if(a.endswith("ite"))return["classes"];c=a.replace(" structure","").replace(" lattice","").replace(" crystalline","").replace(" crystal","");return-1!==B.indexOf(c)?["lattices",N[C[c]]]:9>=a.length&&b?["formulae"]:!1}function D(a,
b){a=a.toLowerCase();var c=!1,f=!1,d=!1;b.length&&(d=a,f=!0,b.forEach((function(b){a=b.input+" "+a})));if((c=v(a,"classes"))||(c=v(a,"props")))return f&&(c.combined=!0),c;if(a.endswith("s")){b=a.substr(0,a.length-1);if(!f&&b.endswith("ite"))return{facet:"classes",input:b,ready:1};if(c=v(b,"classes"))return f&&(c.combined=!0),c}return a.endswith("es")&&(b=a.substr(0,a.length-2),"binari"==b?b="binary":"ternari"==b?b="ternary":"quaternari"==b&&(b="quaternary"),c=v(b,"classes"))?(f&&(c.combined=!0),c):
!c&&d?D(d,[]):!1}function v(a,b){var c="classes"==b?k:e;if(-1<c.indexOf(a))return{facet:b,input:a,ready:1};var f=0,d=c.length,q=new RegExp("(?:^|\\s)("+a+")(?=\\s|$)");for(f;f<d;f++){var n=c[f].search(q);if(0===n)return{facet:b,input:a,anew:1}}return!1}function O(a,b,c){if(-1<a.indexOf("c/a ")||-1<a.indexOf("a/b ")||-1<a.indexOf("b/c "))-1<a.indexOf("c/a ")&&(a=a.replace("c/a ","c--a ")),-1<a.indexOf("a/b ")&&(a=a.replace("a/b ","a--b ")),-1<a.indexOf("b/c ")&&(a=a.replace("b/c ","b--c "));var f=
a.replaceAll("\\+|\\!|\\?","").replaceAll(",|/"," ").replaceAll("<"," < ").replaceAll(">"," > ").replaceAll("="," = ").split(/\s+/),d={},k=0,n=1,l=[],h=[];f.forEach((function(g){var p=!1,e=!1;g=g.trim();if(-1<g.indexOf("<")||-1<g.indexOf(">")||-1<g.indexOf("=")||u(g))0===g.indexOf("<")||0===g.indexOf(">")||0===g.indexOf("=")?d.props?(d.numeric||(d.numeric=[]),d.numeric.push([d.props,g.substr(0,1)]),delete d.props):d.numeric&&d.numeric[d.numeric.length-1]?d.numeric[d.numeric.length-1][1]=g.substr(0,
1):h.push(g):u(g)&&(d.props?(d.numeric||(d.numeric=[]),d.numeric.push([d.props,"=",parseFloat(g)]),delete d.props):d.numeric&&d.numeric[d.numeric.length-1]?(d.numeric[d.numeric.length-1][2]=parseFloat(g),d.numeric[d.numeric.length-1][1]||(d.numeric[d.numeric.length-1][1]="=")):h.push(g));else{if(!l.length||"at"!=g&&"in"!=g)e=M(g);e?(p=e[0],e[1]&&(g=e[1]),l.length&&!l[l.length-1].ready&&h.extend(l.map((function(a){return a.input}))),l=[]):-1==E.indexOf(g)&&(g=g.replaceAll("\\(","").replaceAll("\\)",
"").replaceAll("\\[","").replaceAll("\\]",""),e=D(g,l),e.combined&&(l=[]),e.ready?(p=e.facet,g=e.input,l=[e]):e.anew?(l.length&&!l[l.length-1].ready&&h.extend(l.map((function(a){return a.input}))),l=[e]):e||(l.length&&!l[l.length-1].ready&&h.extend(l.map((function(a){return a.input}))),l=[],L(g)&&(p="formulae"),p||h.push(g)));n==f.length&&(l.length&&!l[l.length-1].ready&&h.extend(l.map((function(a){return a.input}))),l=[]);p&&("formulae"==p&&(g=A(g)),d[p]?"formulae"==p?h.push(g):"elements"==p?d[p]+="-"+
g:"classes"==p?d[p]+=", "+g:"props"==p&&(-1<g.indexOf(d[p])||-1<q.indexOf(g)?d[p]=g:h.push(g)):d[p]=g,b&&c&&p!==c[k]&&console.error("<"+g+"> in query <"+a+"> caused guess failure: expected "+c[k]+", got "+p),k++);n++}}));if(d.props){var m=e.indexOf(d.props);-1<m&&0!==q[m]&&(d.props=q[m])}else if(d.numeric)for(var w=0;w<d.numeric.length;w++)m=e.indexOf(d.numeric[w][0]),-1<m&&0!==q[m]&&(d.numeric[w][0]=q[m]);d.ignored=h;d.numeric&&(d.search_type=1);return d}function z(a,b){var c=a.slice(0,b).toLowerCase();
if("x"==a.slice(b,b+1).toLowerCase()&&"xe"!=a.slice(b,b+2).toLowerCase())return 1==a.slice(b).length?[c,"X"]:[c,"X"+a.slice(b+1)];if(a.length==b)return[c,"X"];var f=a.slice(b);return u(f.slice(0,1))&&2==b?z(a,1):[c,f.charAt(0).toUpperCase()+f.slice(1)]}var E="a about above after again against all am an and any are aren't as at be because been before being below between both but by can't cannot could couldn't did didn't do does doesn't doing don't down during each few for from further had hadn't has hasn't have haven't having he he'd he'll he's her here here's hers herself him himself his how how's i i'd i'll i'm i've if in into is isn't it it's its itself let's me more most mustn't my myself no nor not of off on once only or other ought our ours ourselves out over own same shan't she she'd she'll she's should shouldn't so some such than that that's the their theirs them themselves then there there's these they they'd they'll they're they've this those through to too u under until up very was wasn't we we'd we'll we're we've were weren't what what's when when's where where's which while who who's whom why why's with won't would wouldn't you you'd you'll you're you've your yours yourself yourselves".split(" ");
E.extend("property properties constants constant diagrams diagram parameters parameter coefficients coefficient index indeces value values effect effects ratio system systems compound compounds".split(" "));var t="h he li be b c n o f ne na mg al si p s cl ar k ca sc ti v cr mn fe co ni cu zn ga ge as se br kr rb sr y zr nb mo tc ru rh pd ag cd in sn sb te i xe cs ba la ce pr nd pm sm eu gd tb dy ho er tm yb lu hf ta w re os ir pt au hg tl pb bi po at rn fr ra ac th pa u np pu am cm bk cf es fm md no lr rg".split(" "),
x=t.map((function(a){return a[0].toUpperCase()+a.slice(1).toLowerCase()})),P=["x"].concat(t),y="hydrogen helium lithium beryllium boron carbon nitrogen oxygen fluorine neon sodium magnesium aluminium silicon phosphorus sulfur chlorine argon potassium calcium scandium titanium vanadium chromium manganese iron cobalt nickel copper zinc gallium germanium arsenic selenium bromine krypton rubidium strontium yttrium zirconium niobium molybdenum technetium ruthenium rhodium palladium silver cadmium indium tin antimony tellurium iodine xenon caesium barium lanthanum cerium praseodymium neodymium promethium samarium europium gadolinium terbium dysprosium holmium erbium thulium ytterbium lutetium hafnium tantalum tungsten rhenium osmium iridium platinum gold mercury thallium lead bismuth polonium astatine radon francium radium actinium thorium protactinium uranium neptunium plutonium americium curium berkelium californium einsteinium fermium mendelevium nobelium lawrencium roentgenium".split(" "),
C={cubic:1,hexagonal:2,trigonal:3,tetragonal:4,orthorhombic:5,monoclinic:6,triclinic:7,rhombohedral:3,cub:1,hex:2,hexag:2,trig:3,tet:4,tetr:4,tetrag:4,orth:5,ortho:5,monocl:6,tric:7,tricl:7,rhom:3,rhomb:3},B=Object.keys(C),N={1:"cubic",2:"hexagonal",3:"trigonal",4:"tetragonal",5:"orthorhombic",6:"monoclinic",7:"triclinic"},F="O Si Al Fe Ca Na Mg K Ti H Cl S Br C".split(" "),r=x.slice(0,55);r.splice(53,1);r.splice(42,1);r.splice(35,1);r.splice(17,1);r.splice(9,1);r.splice(1,1);var Q="transitional;chalcogen;rare earth;lanthanoid;metalloid;alkaline;halogen;pnictogen;alkali;actinoid".split(";"),
J="metal;intermetallic;oxide;conductor;nonmetal;antiferromagnet;ferromagnet;semiconductor;intermediate valence;superconductor;close-packed;perovskite;high-tc superconductor;silicide;diamagnetic;cuprate;ferrimagnet;sulfide;spin glass;rocksalt;ferroelectric;frank-kasper;selenide;adamantane;paramagnet;friauf-laves;boride;semimetal;pauli paramagnet;fluoride;telluride;hydrate;carbide;ionic conductor;chloride;spinel;intercalation;fluorite;hard magnet;arsenide;ferroelastic;orthophosphate;phosphide;nitride;piezoelectric;antiferroelectric;hydroxide;silicate;organic;hydride;iodide;bromide;charge-density wave state;spin-density wave state;ruddlesden-popper;sulfate;superionic conductor;pyrochlore;orthosilicate;borocarbide;molybdate;borate;garnet;cyanide;thermoelectric;helimagnet;vanadate;zeolite;birefringent;deuteride;orthoborate;van vleck paramagnet;mictomagnet;carbonate;phosphate;chevrel;gamma-brass;polaron conductor;nasicon;luminescent;tungstate;arsenate;nitrate;radioactive".split(";"),
R="metal;oxide;conductor;nonmetal;antiferromagnet;semiconductor;perovskite;sulfide;paramagnet;ab initio literature;hydrate;chloride;spinel;fluorite;orthophosphate;silicate;machine learning;ab initio calculations".split(";"),I="magnetism;crystal structure;electronic properties;mechanical properties;thermodynamics;phase transitions;optical properties;superconductivity;enthalpy of formation;heat capacity;thermal expansion;Seebeck coefficient".split(";"),K=["cubic","tetragonal","orthorhombic","monoclinic"],
G="Ag2S Ag2Se Ag2Te Ag3Sn AgBr AgCe AgCl AgCu4Yb AgGaS2 AgGaSe2 AgI AgYbGe Al2O3 Al4C3 AlAs AlF3 AlN AlP AlSb Al[PO4] As2S3 As2Se3 As2Te3 AsS AuSn AuTe2 B13C2 Ba2Cu2YFeO7 Ba2Cu3DyO7 Ba2Cu3ErO7 Ba2Cu3EuO7 Ba2Cu3GdO7 Ba2Cu3HoO7 Ba2Cu3LaO7 Ba2Cu3NdO7 Ba2Cu3PrO7 Ba2Cu3SmO7 Ba2Cu3TmO7 Ba2Cu3YO6 Ba2Cu3YO7 Ba2Cu3YbO7 Ba2Cu4YO8 Ba2CuTl2O6 Ba2MoFeO6 Ba4Ga8Ge15 Ba4Ga8Sn15 BaBiO3 BaCl2 BaF2 BaFe12O19 BaFe2As2 BaIrO3 BaLaMn2O6 BaMnF4 BaO BaPbO3 BaRuO3 BaTiO3 BaVS3 BaYCo4O7 BaZrO3 Be13U BeO Bi2O3 Bi2S3 Bi2Se3 Bi2Te3 C60 Ca2ReFeO6 Ca2RuO4 Ca3Co2O6 Ca3Co4O9 CaAl2 CaAlSi CaCu3Ti4O12 CaF2 CaFe2As2 CaIrO3 CaMnO3 CaO CaRuO3 CaS CaSi2 CaTiO3 Ca[CO3] Ca[WO4] Cd2Nb2O7 Cd3As2 CdAs2 CdCr2S4 CdCr2Se4 CdF2 CdI2 CdO CdS CdSb CdSe CdTe Ce2Fe17 Ce3Al11 Ce3Sn CeAl2 CeAl3 CeB6 CeBi CeCo2 CeCo5 CeCoGe3 CeCoIn5 CeFe2 CeFe4Sb12 CeIn3 CeIrSi3 CeMn2Si2 CeNi CeNi2Ge2 CeNi2Si2 CeNi2Sn2 CeNiGe2 CeNiSn CeO2 CeP CePd2Al3 CePd2Si2 CePd3 CePdSn CePt2Si2 CePt3Si CePtSn CeRh2Si2 CeRh3B2 CeRhAs CeRhGe CeRhIn5 CeRhSb CeRhSn CeRu2 CeRu2Ge2 CeRu2Si2 CeRuRhSi2 CeSb CeSi2 Co2Al9 Co2B Co2Si Co3O4 Co3[VO4]2 CoAl CoGa CoO CoPt CoS2 CoSb3 CoSi CoSi2 Cr23C6 Cr2FeS4 Cr2O3 Cr2S3 Cr3C2 Cr3Si Cr7Al45 Cr7C3 CrAs CrB2 CrN CrO2 CrSi2 CrTe Cs2ZnI4 CsBr CsC8 CsCl CsI Cu2Ce Cu2CeSi2 Cu2GdSi2 Cu2Nd Cu2O Cu2S Cu2Se Cu2Te Cu2UGe2 Cu2USi2 Cu2Y Cu2Y2O5 Cu2YbSi2 Cu2ZnSnS4 Cu33Al17 Cu3As Cu3Au Cu3Sb Cu3Sn Cu41Sn11 Cu4CeAl Cu4YbIn Cu5U Cu5Zn8 Cu6Ce Cu9Al4 CuAl CuAl2 CuAu CuBr CuCl CuCr2Se4 CuCrO2 CuFe2O4 CuFeO2 CuGaS2 CuGaSe2 CuGd2O4 CuGeO3 CuI CuInS2 CuInSe2 CuInTe2 CuIr2S4 CuLa2O4 CuNd2O4 CuO CuPr2O4 CuS CuTi2 CuV2S4 CuZn Dy2Fe14B Dy2Fe17 DyAl2 DyCo2 DyFe2 DyFe4Al8 DyMn2 DyMn2O5 DyMo2Fe10 DyTiFe11 Dy[VO4] Er2Fe14B Er2Fe17 Er2Fe17C3 Er5Si4 ErAl2 ErCo2 ErFe2 ErFeO3 ErMn2O5 ErNi2B2C ErRh4B4 ErTiFe11 Eu2O3 Eu4Ga8Ge15 EuB6 EuFe2As2 EuFe4Sb12 EuMo6S8 EuO EuS EuSe EuTe Fe2As Fe2B Fe2CoO4 Fe2NiO4 Fe2O3 Fe2P Fe3Al Fe3C Fe3Ga Fe3O4 Fe3P Fe3Si Fe4Al13 Fe4N Fe5Si3 FeAl FeAs FeB FeBiO3 FeCl2 FeCo FeCo2Si FeGaO3 FeGe FeGe2 FeNi3 FeO FeP FePt3 FeRh FeS FeS2 FeSb2 FeSe FeSi FeSi2 Ga2O3 GaAs GaN GaP GaS GaSb GaSe GaTe Ga[PO4] Gd2Fe14B Gd2Fe17 Gd2O3 Gd2[MoO4]3 Gd3Co Gd5Ge4 GdAl2 GdB6 GdCo2 GdCo5 GdFe2 GdFe3[BO3]4 GdMn2 GdMn2Ge2 GdMnO3 GdN GdNi2 GdSi2 GdTiFe11 GeO2 GeS GeSe GeSe2 GeTe H2 H2Cs[PO4] H2K[PO4] H2O H2Rb[PO4] H3Na[SeO3]2 HK[CO3] HfB2 HfC HfO2 HgCr2S4 HgCr2Se4 HgI2 HgS HgSe HgTe Ho2Fe14B HoAl2 HoCo2 HoFe2 HoMn2O5 HoMnO3 HoNi2 HoNi2B2C In2O3 In2S3 In2Se3 InAs InBi InN InP InSb InSe InTe K2[SeO4] K3Mo10O30 K3Na[SeO4]2 K3[C60] KBr KC24 KC8 KCl KLi[SO4] KMnF3 KNbO3 KOs2O6 KTaO3 KTi[PO4]O K[CN] La2NiO4 La2O3 La3Ga5SiO14 La3S4 LaAl2 LaAlO3 LaB6 LaCoO3 LaCrO3 LaF3 LaFe11Si2 LaFe4Sb12 LaFeAsO LaFeO3 LaGaO3 LaH3 LaMn2Ge2 LaMnO3 LaNi5 LaNiO3 LaTiO3 LaVO3 Li2Pd3B Li2S Li3N LiAl LiBr LiCl LiCoO2 LiF LiFe[PO4] LiH LiMn2O4 LiNbO3 LiNiO2 LiTaO3 LiTi2O4 LiV2O5 LiVO2 LiYF4 Lu2Fe17 Lu5Ir4Si10 LuNi2B2C Mg17Al12 Mg24Y5 Mg28Al45 Mg2Si Mg2Sn Mg2TiO4 Mg2[SiO4] MgAl2O4 MgB2 MgCu2 MgF2 MgFe2O4 MgFeAlO4 MgFe[SiO4] MgO MgSiO3 MgZn2 Mn11Al15 Mn3C Mn3O4 Mn5Si3 MnAl6 MnAs MnBi MnF2 MnFe2O4 MnNi2Ga MnNi2In MnNi2Sb MnNi2Sn MnNiSb MnO MnO2 MnP MnS MnSi MnTe Mo2S3 Mo3Al8 Mo4O11 Mo6PbS8 Mo7Ni7 MoB2 MoO3 MoS2 MoSi2 NaBr NaCl NaF NaI NaNbO3 Na[NO2] Na[NO3] Nb2Al Nb3FeSe6 Nb3Ge Nb3Si Nb3Sn Nb5Si3 Nb7Ni6 NbAl3 NbB2 NbC NbCr2 NbFe2 NbH NbN NbNi3 NbO2 NbSe2 NbSe3 NbSi2 Nd2Co14B Nd2Fe13CoB Nd2Fe14B Nd2Fe17 Nd2O3 Nd6Fe11Al3 NdAl2 NdB6 NdCo2 NdCo5 NdFeAsO NdFeO3 NdMn2Ge2 NdMnFeGe2 NdMnO3 NdMo2Fe10 NdNiO3 NdTiFe11 NdTiO3 NdV2Fe10 Ni2Al3 Ni2B Ni2Si Ni31Si12 Ni3Al Ni3B Ni3Si Ni3[VO4]2 Ni4B3 NiAl NiAl3 NiO NiS NiS2 NiSb NiSi NiSi2 NpPd5Al2 O2 PbF2 PbI2 PbO PbO2 PbS PbSe PbTe Pb[WO4] Pd2Si PdAl PdH Pr2Fe14B Pr2O3 PrAl2 PrB6 PrCo5 PrFe2Ge2 PrFe4P12 PrFeAsO PrMn2Ge2 PrMnO3 PrNi2Si2 PrNi5 PrOs4Sb12 Rb2ZnBr4 Rb2ZnCl4 Rb3[C60] RbBr RbCl RbF RbI RbLi[SO4] Rb[C60] ReO3 RuAl2 Sb2S3 Sb2Se3 Sb2Te3 SbSI Sc2[WO4]3 ScAl3 Si3N4 SiC SiO2 Sm2Co17 Sm2Fe17 Sm2Fe17N3 Sm2O3 SmB6 SmCo5 SmFeAsO SmMn2Ge2 SmS SmTiFe11 SnO2 SnS SnS2 SnSe SnSe2 SnTe Sr14Cu24O41 Sr2CuBi2O6 Sr2LaMn2O7 Sr2MoFeO6 Sr2RuO4 SrAl4 SrCoO3 SrCuLaO4 SrF2 SrFe12O19 SrFe2As2 SrFeO3 SrLaMnO4 SrLaNiO4 SrMnO3 SrNb2Bi2O9 SrO SrRuO3 SrTa2Bi2O9 SrTiO3 SrZrO3 TaC TaS2 TaS3 TaSe2 Tb3Fe5O12 TbFe2 TbMn2 TbMn2O5 TbMnO3 TbNi2Si2 TbRh2Si2 TbTiFe11 TeO2 ThO2 Ti2Ni Ti2O3 Ti3Al Ti3Bi4O12 Ti5Si3 TiAl TiAl2 TiAl3 TiB2 TiC TiCo TiCo2Al TiCo2Sn TiCoSb TiCr2 TiFe TiFe2 TiFeO3 TiH2 TiN TiNi TiNi3 TiO TiO2 TiPbO3 TiS2 TiSe2 TiSi2 TiVO3 Tl2S Tl5Se3 Tl5Te3 TlBr TlCl TlGaSe2 TlI TlInS2 TlS TlSe TlTe Tm2Fe14B TmSe TmTe U2C3 U2Ni2Sn U2Pt2In U6Fe UAl2 UAs UC2 UCo2Ge2 UCoAl UFe10Si2 UFe2 UFe4Al8 UGe2 UMn2 UNi2Al3 UNiAl UNiGa UNiSn UO2 UPd2Al3 UPd3 UPdSn UPt3 UPtGe URu2Si2 USb UTe V2MnO4 V2O3 V2O5 V3Ga V3Ge V3O5 V3Si V4O7 V5Al8 V5O9 V6O11 V6O13 V7O13 VAl3 VFe2Al VO2 VSe2 W2C WBi2O6 WMnO4 WO3 WSi2 Y2Co17 Y2Fe14B Y2Fe17 Y2O3 Y3Al5O12 Y3Fe5O12 YAl2 YAl3 YB6 YCo2 YCo3 YCo4B YCo5 YFe2 YFe4Al8 YH3 YMn2 YMnO3 YMo2Fe10 YNi2B2C YTiFe11 YTiO3 YV2Fe10 YVO3 Yb2O3 Yb4As3 YbAl3 YbFe4Sb12 YbMnO3 YbRh2Si2 Zn10Fe3 Zn2Zr Zn3As2 Zn3P2 ZnCr2O4 ZnCr2Se4 ZnF2 ZnFe2O4 ZnGeP2 ZnO ZnS ZnSe ZnSiP2 ZnTe Zr2Ni ZrAl2 ZrAl3 ZrB2 ZrC ZrCo2 ZrCr2 ZrFe2 ZrMn2 ZrMo2 ZrN ZrNiSn ZrO2 ZrPbO3 ZrV2 Zr[WO4]2 [NH4]2ZnCl4".split(" "),
H="AB AB2 ABC3 ABC ABC2 ABCD3 AB3 AB2C4 AB2C2 ABC4 ABC2D6 ABCD4 A2B3 ABC2D4 ABCD ABCD2 AB2C3 AB2C6 AB2C5 AB2C3D7 A3B4 A3B5 ABC2D2 A2B2C7 AB3C5 ABC2D5 ABC2D7 AB5 AB3C6 AB3C4 ABC5 ABC2D8 AB3C3 AB4 AB6 AB2C2D7 AB4C12 A2B17 AB3C4D12 ABCD5 ABCD6 A2B3C4 ABC3D7 A2B3C5 AB2C10 A2B2C5 AB2C2D6 AB2C3D8 AB2C8 ABC2D3 A2B5 AB2C3D6 AB4C8 ABC6 AB2C2D8 AB6C6 AB3C7 A4B5".split(" ");e&&e.extend("c--a a--b b--c volume density alat blat clat".split(" "));q&&q.extend("c--a a--b b--c volume density alat blat clat".split(" "));
return{parse_string:k&&e&&q?O:function(){},parse_aeatoms:function(a){a:{var b=a.indexOf("-");if(-1!==b){var c=a.slice(0,b);a=a.slice(b+1);c=2<c.length?!1:z(c+a,c.length)}else{c=[2,1];for(b=0;2>b;b++)if(a.length>=c[b]&&-1!==P.indexOf(a.slice(0,c[b]).toLowerCase())){c=z(a,c[b]);break a}c=!1}}if(!c)return["?","?"];a=c[0].charAt(0).toUpperCase()+c[0].slice(1);c=c[1];b=!1;for(var f="",d=0,e=c.length;d<e;d++)u(c[d])||"."==c[d]?b||(f+="<sub>",b=!0):b&&(f+="</sub>",b=!1),f+=c[d];b&&(f+="</sub>");return[a,
f]},termify_formulae:A,to_formula:function(a){return a.replace(/\d/g,"<sub>$&</sub>")},get_interesting:function(a){var b=[1,2,3,4,5,6,7,8];a=a||m(b);b={text:"",terms:[],facets:[]};1==a?(b.facets.extend(["classes","elements"]),b.terms.extend([m(R),n("elements",2)]),b.text+=b.terms[0]+" "+b.terms[1]):2==a?(b.facets.extend(["classes","classes"]),b.terms.extend([m(Q),n("classes")]),b.text+=b.terms[0]+" group, "+b.terms[1]):3==a?(b.facets.extend(["formulae","lattices"]),b.terms.extend([n("formulae"),n("lattices")]),
b.text+=b.terms[0]+" "+b.terms[1]+" crystal"):4==a?(b.facets.extend(["props","classes"]),b.terms.extend([n("props"),n("classes")]),b.text+=b.terms[0]+" for "+b.terms[1],b.text.endswith("d")||b.text.endswith("s")||(b.text+="s")):5==a?(b.facets.extend(["classes","lattices"]),b.terms.extend([n("classes"),n("lattices")]),b.text+=b.terms[0]+", "+b.terms[1]+" crystal"):6==a?(b.facets.extend(["elements","lattices"]),b.terms.extend([n("elements"),n("lattices")]),b.text+=b.terms[0]+", "+b.terms[1]+" crystal"):
7==a?(b.facets.extend(["props","formulae"]),b.terms.extend([n("props"),n("anonymous")]),b.text+=b.terms[0]+" "+b.terms[1]):(b.facets.extend(["props","formulae"]),b.terms.extend([n("props"),n("formulae")]),b.text+=b.terms[0]+" of "+b.terms[1]);return b},get_interpretation:function(a,b,c){a||(a={});var f="",d=!1;$.each(a,(function(a,h){if(!b[a]||!h)return!0;if("formulae"==a)h=WMCORE.to_formula(h);else if("doi"==a||"sgs"==a)h=unescape(h);else if("elements"==a)h=h.split("-"),d=h.length,h=h.map((function(a){return a.charAt(0).toUpperCase()+
a.slice(1).toLowerCase()})).join(", ");else if("classes"==a)h=h.split(",").map((function(a){return a.trim()})).join(", ");else if("authors"==a)h=h.split(",").map((function(a){return a.trim().split(" ").map((function(a){return a.charAt(0).toUpperCase()+a.slice(1).toLowerCase()})).join(" ")})).join(", ");else if("aeatoms"==a)h=WMCORE.parse_aeatoms(h),h=h[0]+"&nbsp;center and "+h[1]+"&nbsp;ligands";else if("aetypes"==a)h=h.split(",").map((function(a){var b=a.trim().split("-vertex")[0].split(" ");b=parseInt(b[b.length-
1]);return a.replace(/\d{1,2}\-vertex/,"CN&nbsp;=&nbsp;"+b)})).join(", ");else if("numeric"==a){var e="";h.forEach((function(a){var b=a[0],d="";if(c[b]){var h=c[b][4]?Math.abs(Math.log10(c[b][4])):Math.max(c[b][2].count_decimals(),c[b][3].count_decimals());a[2]=Number(a[2]).toFixed(h);c[b][1]&&(d="&nbsp;"+c[b][1]);c[b][5]&&(b=c[b][5])}e+=b+" "+a[1]+" "+a[2]+d+"<br />"}));h=e}f+='<li class="fct_'+a+'"><span>'+b[a]+"</span><br />"+h+"</li>"}));if(!a.formulae&&!$.isEmptyObject(a)){var e=!0,k="";$.each(WMCORE.arity_keys,
(function(b,c){if(a.classes&&-1!==a.classes.indexOf(c))return e=!1;if(d&&d-1>b||3<b)return!0;if(5==b)return!1;b=-1<window.location.hash.indexOf("inquiry")?-1<window.location.hash.indexOf("classes=")?window.location.hash.replace("classes=","classes="+c+","):window.location.hash.replace("inquiry/","inquiry/classes="+c+"&"):window.location.hash+" "+c;k+='<li class="fct_classes" rel="'+b+'" style="letter-spacing:0.5px;">Show only '+c.substr(0,c.length-1)+"ies?</li>"}));e&&(f+=k)}return f},get_random_term:m,
periodic_names:y,periodic_elements:x,lat_fgrs:B,arity_keys:"unary binary ternary quaternary quinary multinary multinary multinary multinary multinary".split(" ")}};"undefined"!==typeof module&&module.exports?module.exports=WMCORE:"function"===typeof require&&"function"===typeof require.specified&&define((function(){return WMCORE}));
var wmgui=window.wmgui||{};wmgui.clean=function(a){a=$(a.bold());a.find("script").remove();return a.html()};wmgui.cancel_event=function(a){a=a||window.event;a.cancelBubble?a.cancelBubble=!0:(a.stopPropagation&&a.stopPropagation(),a.preventDefault&&a.preventDefault())};wmgui.debounce=function(a,e,b){var c;return function(){var g=this,f=arguments,d=b&&!c;clearTimeout(c);c=setTimeout((function(){c=null;b||a.apply(g,f)}),e);d&&a.apply(g,f)}};
wmgui.is_inview=function(a){var e=$(window).scrollTop(),b=e+$(window).height(),c=$(a).offset().top;a=c+$(a).height();return c<=b&&a>=e};wmgui.show_preloader=function(){$("#preloader").show()};wmgui.hide_preloader=function(){$("#preloader").hide()};Number.prototype.count_decimals=function(){if(isFinite(this)&&Math.floor(this)===this)return 0;var a=this.toString();return-1==a.indexOf(".")?0:a.split(".")[1].length||0};String.prototype.startswith=function(a){return 0===this.indexOf(a)};
var ie_passing_check=(function(){var a=(function(){var a=window.navigator.userAgent,b=a.indexOf("MSIE ");if(0<b)return parseInt(a.substring(b+5,a.indexOf(".",b)),10);if(0<a.indexOf("Trident/"))return b=a.indexOf("rv:"),parseInt(a.substring(b+3,a.indexOf(".",b)),10);b=a.indexOf("Edge/");return 0<b?parseInt(a.substring(b+5,a.indexOf(".",b)),10):!1})();return a?12>a?!1:!0:!0})();if(!ie_passing_check)throw alert("Please, upgrade your browser"),Error("Unsupported user agent");
wmgui.loadCSS=function(a,e,b,c){function g(a){if(document.body)return a();setTimeout((function(){g(a)}))}function f(){d.addEventListener&&d.removeEventListener("load",f);d.media=b||"all"}var d=document.createElement("link");if(e)var h=e;else{var m=(document.body||document.getElementsByTagName("head")[0]).childNodes;h=m[m.length-1]}var n=document.styleSheets;if(c)for(var k in c)c.hasOwnProperty(k)&&d.setAttribute(k,c[k]);d.rel="stylesheet";d.href=a;d.media="only x";g((function(){h.parentNode.insertBefore(d,
e?h:h.nextSibling)}));var l=function(a){for(var b=d.href,c=n.length;c--;)if(n[c].href===b)return a();setTimeout((function(){l(a)}))};d.addEventListener&&d.addEventListener("load",f);d.onloadcssdefined=l;l(f);return d};
var wmgui=window.wmgui||{};wmgui.view_mode=1;wmgui.search_type=0;wmgui.thumbed_display=!1;wmgui.ntab_tolerance=100;wmgui.chosen_table_browser=!1;wmgui.fuzzyout=!1;wmgui.passive_sim_col=!0;wmgui.active_ajax=null;wmgui.quick_ajax=null;wmgui.facets="formulae props elements classes lattices sgs protos authors years codens doi aeatoms aetypes geos orgs".split(" ");wmgui.inquiries="sgs protos authors years codens doi aeatoms aetypes geos orgs".split(" ");
wmgui.other_facets=wmgui.inquiries.filter((function(a){return"aetypes"!==a}));wmgui.simple_facets="formulae props elements lattices sgs protos years codens doi aeatoms geos orgs".split(" ");wmgui.multi_facets=["classes","authors","aetypes"];
wmgui.facet_names={props:"Physical properties",elements:"Chemical elements",classes:"Materials classes",lattices:"Crystal systems",formulae:"Chemical formulae",protos:"Prototypes",sgs:"Space groups",numeric:"Numerical search",authors:"Authors",years:"Years",codens:"Journal codes",doi:"DOI",aeatoms:"Polyhedron atoms",aetypes:"Polyhedral types",geos:"Geography",orgs:"Organization"};wmgui.search={};wmgui.multiselects={};wmgui.unfinished_page=!1;wmgui.quick_page_size=150;wmgui.fetch_page_size=850;
wmgui.notify_counter=null;wmgui.cliff_counter=null;wmgui.sid=null;wmgui.prod=!0;wmgui.cliffhangers="binary compounds with negative thermal expansion{band gap of hexagonal ZnO{ternary oxides of indium{microhardness < 0.05{temperature for metal-nonmetal transition < 10{thermoelectric figure of merit > 0.5{electronic properties for semiconductor carbides{c/a > 3, a/b > 3, density < 4{noble gases superconductivity{W-Mo ternary phase diagram{density < 3 and temperature for congruent melting > 2000{tetragonal SrTiO&#x2083; phonons{radioactive elements conductivity{O&#x2083;Al&#x2082; elastic properties{sidorenkite crystal cell{birefringence < 0.005 and static permittivity > 7.5{phase diagrams from ab initio literature{adiabatic bulk modulus > 250 and isothermal bulk modulus > 250{magnetic properties of binary compounds{radioactive binary compounds{binary frank-kasper type".split("{");
wmgui.welcome_msgs="The <b>distinct phases</b> is the central concept at the MPDS. Thanks to that, the crystal structures are linked to the phase diagrams and physical properties. Any distinct phase is uniquely determined by the chemical formula, space group, and Pearson symbol <i>e.g.</i> <a href='/#phase/CuAl2/140/tI12'>CuAl2 140 tI12</a>.{Our data are used in such products as Springer Materials&trade;, ICDD PDF-4&trade;, ASM Alloy Phase Diagrams&trade;, Pearson's Crystal Data, MedeA Materials Design&trade;, and AtomWork Advanced.{Each peer-reviewed crystal structure, phase diagram, or physical property at the MPDS originates from a particular publication.{There are two search modes, <b>simple</b> and <b>advanced</b>. The simple presents one \"smart\" input field, the advanced offers many various search fields.{The MPDS includes the data extracted from the rare USSR and Japanese journals from 60-es, 70-es, and 80-es. These journals were never available online.{A unique feature of the MPDS is the support of the <a href='/#polyhedra'>polyhedral type searches</a>, taking into account the atomic environments.".split("{");
wmgui.api_msg='Try <i>e.g.</i> the following command in a terminal. As finished, do not forget to revoke your API key. See the <a href="https://developer.mpds.io">manual</a> and the <a href="/#formal/api">license</a> for open data listing.<pre style="overflow-x:scroll;margin:1em 0;">curl -H Key:YOUR_API_KEY \'https://api.mpds.io/v0/download/facet?q=&bsol;{"elements":"Ag-K"&bsol;}\'</pre><div class="wmbutton" style="background:#999;border-color:#999;width:150px;margin:0 auto;font-size:0.9em;">Copy to clipboard</div>';
wmgui.bid_history=[];wmgui.journal_converter={j2c:function(){},c2j:function(){}};wmgui.hy_complex="crystalline structure;phase diagram;cell parameters - temperature diagram;cell parameters - pressure diagram;electron energy band structure - ab initio calculations;vibrational spectra - ab initio calculations".split(";");wmgui.visavis_curtype="pie";wmgui.visavis_ready=!1;wmgui.visavis_working=!1;wmgui.visavis_terminating=!1;wmgui.visavis_starting=!1;
wmgui.numerics={volume:[5001,"&#8491;<sup>3</sup>",3,1E4,1],density:[5002,"Mg/m<sup>3</sup>",.1,30,.1],"a--b":[5003,!1,.1,10,!1,"<i>a/b</i>"],"b--c":[5004,!1,.1,10,!1,"<i>b/c</i>"],"c--a":[5005,!1,.1,10,!1,"<i>c/a</i>"],alat:[5006,"&#8491;",1.5,20,.1,"<i>a<sub>lat</sub></i>"],blat:[5007,"&#8491;",1.5,20,.1,"<i>b<sub>lat</sub></i>"],clat:[5008,"&#8491;",1.5,20,.1,"<i>c<sub>lat</sub></i>"]};wmgui.gui_host=window.location.protocol+"//"+window.location.host;
wmgui.api_host=wmgui.prod?"https://api.mpds.io/v0":"http://localhost:7070";wmgui.static_host="https://mpds.io";wmgui.login_endpoint=wmgui.api_host+"/users/login";wmgui.logout_endpoint=wmgui.api_host+"/users/logout";wmgui.restore_endpoint=wmgui.api_host+"/users/lost_password";wmgui.password_endpoint=wmgui.api_host+"/users/new_password";wmgui.access_endpoint=wmgui.api_host+"/users/access";wmgui.ratify_endpoint=wmgui.api_host+"/users/ratify";wmgui.api_key_endpoint=wmgui.api_host+"/users/api_key";
wmgui.perms_endpoint=wmgui.api_host+"/users/perms";wmgui.funnel_endpoint=wmgui.api_host+"/users/funnel";wmgui.fd_endpoint=wmgui.api_host+"/users/feedback";wmgui.srch_endpoint=wmgui.api_host+"/search/facet";wmgui.rfn_endpoint=wmgui.api_host+"/search/refinement";wmgui.sim_endpoint=wmgui.api_host+"/search/interlinkage";wmgui.phph_endpoint=wmgui.api_host+"/search/phase_phid";wmgui.auto_endpoint=wmgui.api_host+"/search/selectize";wmgui.refs_endpoint=wmgui.api_host+"/download/bib";
wmgui.vis_endpoint=wmgui.api_host+"/visavis";wmgui.pdist_endpoint=wmgui.api_host+"/visavis/pdistribs";wmgui.dd_addr_tpl=wmgui.api_host+"/download";wmgui.v_player_addr=wmgui.static_host+"/player/player.html#"+wmgui.api_host+"/download/s?fmt=cif&q=";wmgui.v_pd_addr=wmgui.static_host+"/pd_stub.html#"+wmgui.api_host+"/download/c?fmt=png&q=";wmgui.v_pd_addr_anon=wmgui.static_host+"/visavis/?280420#"+wmgui.api_host+"/download/c?fmt=json&q=";
wmgui.v_sd_addr=wmgui.static_host+"/visavis/?280420#"+wmgui.api_host+"/download/p?fmt=json&q=";wmgui.v_ab_vis_addr=wmgui.static_host+"/labs/view-phonons/#"+wmgui.api_host+"/download/p?fmt=json&q=";wmgui.client_data_addr=wmgui.static_host+"/wmdata.json?040521";wmgui.aetmap_addr=wmgui.static_host+"/aets.jpg";
wmgui.elemental_names={num:"atomic number",nump:"periodic number",size:"atomic size",rea:"atomic reactivity",rpp:"pseudopotential radii",rion:"ionic radii",rcov:"covalent radii",rmet:"metallic radii",tmelt:"melting temperature",eneg:"electronegativity"};
wmgui.collateral_links=[["#","my","search my publications"],["#","adv","start advanced search"],["#polyhedra",!1,"search polyhedra"],["#hierarchy",!1,"search physical properties"],[wmgui.static_host+"/labs/mpds-ml-labs/design.html",!1,"design new material",!0],[wmgui.static_host+"/labs/mpds-ml-labs/props.html",!1,"predict properties for crystal",!0],["#","idea","get inspiration"],["#","sod","show structure of the day"],["/asm_oauth.html",!1,"connect ASM profile",!0],["/github_oauth.html",!1,"connect GitHub profile",
!0],["/orcid_oauth.html",!1,"connect ORCID profile",!0],["/linkedin_oauth.html",!1,"connect LinkedIn profile",!0]];
wmgui.aets={"single atom 1-vertex":[0,83],"4-capped trigonal prism 10-vertex":[85,102],"bicapped square prism 10-vertex":[189,123],"bicapped square antiprism 10-vertex":[314,125],"triangle-pentagon faced polyhedron 10-vertex":[441,125],"distorted equatorial 4-capped trigonal prism 10-vertex":[568,113],"truncated hexagonal bipyramid 10-vertex":[683,111],"polar bicapped square prism 10-vertex":[796,125],"pentagonal prism 10-vertex":[923,121],"octagonal bipyramid 10-vertex":[1046,122],"5-capped trigonal prism 11-vertex":[1170,
119],"pseudo Frank-Kasper 11-vertex":[1291,125],"monotruncated icosahedron 11-vertex":[1418,102],"tricapped cube same plane 11-vertex":[1522,87],"tricapped cube different plane 11-vertex":[1611,123],"icosahedron 12-vertex":[1736,125],"cuboctahedron 12-vertex":[1863,117],"bicapped pentagonal prism 12-vertex":[1982,125],"anticuboctahedron 12-vertex":[2109,109],"hexagonal prism 12-vertex":[2220,90],"triangle-hexagon faced polyhedron 12-vertex":[2312,112],"double-bicapped cube 12-vertex":[2426,114],"pseudo Frank-Kasper 13-vertex":[2542,
125],"tricapped pentagonal prism 13-vertex":[2669,114],"monocapped cuboctahedron-a 13-vertex":[2785,111],"monocapped cuboctahedron-b 13-vertex":[2898,120],"14-vertex Frank-Kasper":[3020,116],"rhombic dodecahedron 14-vertex":[3138,121],"distorted rhombic dodecahedron 14-vertex":[3261,123],"bicapped hexagonal prism 14-vertex":[3386,122],"6-capped hexagonal bipyramid 14-vertex":[3510,125],"double-bicapped hexagonal prism 14-vertex":[3637,111],"15-vertex Frank-Kasper":[3750,125],"equatorial 5-capped pentagonal-prism 15-vertex":[3877,
97],"polar equatorial tricapped pentagonal-prism 15-vertex":[3976,125],"monotruncated 16-vertex Frank-Kasper":[4103,107],"16-vertex Frank-Kasper":[4212,125],"defective 8-equatorial capped pentagonal prism 16-vertex":[4339,92],"octagonal prism 16-vertex":[4433,119],"7-capped pentagonal prism 17-vertex":[4554,125],"8-equatorial capped pentagonal prism 18-vertex":[4681,125],"pseudo Frank-Kasper 18-vertex":[4808,125],"6-capped hexagonal prism 18-vertex":[4935,108],"double-bicapped heptagonal prism 18-vertex":[5045,
110],"distorted pseudo Frank-Kasper 19-vertex":[5157,125],"pseudo Frank-Kasper 19-vertex":[5284,122],"non-collinear atoms 2-vertex":[5408,41],"collinear atoms 2-vertex":[5451,111],"pseudo Frank-Kasper 20-vertex":[5564,125],"20-pentagonal faced polyhedron 20-vertex":[5691,114],"pseudo Frank-Kasper 21-vertex":[5807,125],"polar 8-equatorial capped hexagonal prism 22-vertex":[5934,125],"pseudo Frank-Kasper 23-vertex":[6061,118],"6-square 8-hexagonal faced polyhedron 24-vertex":[6181,118],"pseudo Frank-Kasper 24-vertex":[6301,
125],"truncated cube dice 24-vertex":[6428,118],"triangle-square-hexagon faced polyhedron 24-vertex":[6548,97],"triangle-square faced polyhedron 24-vertex":[6647,125],"pseudo Frank-Kasper 26-vertex":[6774,125],"pseudo Frank-Kasper 28-vertex":[6901,123],"non-coplanar triangle 3-vertex":[7026,75],"coplanar triangle 3-vertex":[7103,64],"32-vertex":[7169,122],"tetrahedron central atom outside 4-vertex":[7293,99],"coplanar square 4-vertex":[7394,68],"non-coplanar square 4-vertex":[7464,69],"tetrahedron 4-vertex":[7535,
120],"square pyramid central atom outside or base plane 5-vertex":[7657,81],"coplanar pentagon 5-vertex":[7740,67],"square pyramid 5-vertex":[7809,125],"trigonal bipyramid 5-vertex":[7936,107],"coplanar hexagon 6-vertex":[8045,49],"non-coplanar hexagon 6-vertex":[8096,80],"octahedron 6-vertex":[8178,125],"trigonal prism 6-vertex":[8305,120],"pentagonal pyramid 6-vertex":[8427,116],"distorted prism 6-vertex":[8545,110],"monocapped octahedron 7-vertex":[8657,125],"top-monocapped trigonal prism 7-vertex":[8784,
125],"bicapped hexagon 7-vertex":[8911,108],"hexagonal pyramid 7-vertex":[9021,96],"monocapped trigonal prism 7-vertex":[9119,125],"pentagonal bipyramid 7-vertex":[9246,122],"square prism cube 8-vertex":[9370,115],"square antiprism 8-vertex":[9487,103],"hexagonal bipyramid 8-vertex":[9592,125],"distorted square anti-prism-a 8-vertex":[9719,123],"double anti-trigonal prism 8-vertex":[9844,99],"side-bicapped trigonal prism 8-vertex":[9945,107],"distorted square anti-prism-b 8-vertex":[10054,125],"tricapped trigonal prism 9-vertex":[10181,
119],"monocapped square prism 9-vertex":[10302,125],"monocapped double anti-trigonal prism 9-vertex":[10429,113],"truncated hexagonal pyramid 9-vertex":[10544,75],"bicapped hexagonal pyramid 9-vertex":[10621,116]};wmgui.contact_html='<textarea id="fdwidget_msg" placeholder="Please tell us why, anonymously"></textarea><select id="fdwidget_msgtype"><option value="No reason" selected>Please select reason...</option><option value="Data missing">Data missing</option><option value="Error in data">Error in data</option><option value="Other">Other</option></select><div id="fdwidget_trigger" class="wmbutton">Send</div>';
wmgui.s_examples=[251737,261485,301194,458778,525194,533193,1005414,1030546,1122968,1215422,1232477,1321212,1406036,1613664,1638591,1640622,1707997,1711681,1722027,1819191,1928624,1933647,1940797];wmgui.mockyear=(new Date).getFullYear();wmgui.edition=null;
wmgui.editions={0:{name:"Materials Platform for Data Science",prod_url:"https://mpds.io",dev_url:"http://localhost:8070",css:wmgui.static_host+"/editions/wm/style.css?260821",actions:function(){$("#logo_l").text("MPDS");$(".only_asm").hide();$(".only_mpds").css("display","inline-block")}},1:{name:"ASM International Materials Platform",prod_url:"https://asm.mpds.io",dev_url:"http://localhost:8075",css:wmgui.static_host+"/editions/asm/style.css?260821",actions:function(){$(".only_mpds").hide();$(".only_asm").css("display",
"inline-block");var a=document.querySelector("link[rel*='icon']")||document.createElement("link");a.type="image/x-icon";a.rel="shortcut icon";a.href=wmgui.static_host+"/editions/asm/asm.ico";document.getElementsByTagName("head")[0].appendChild(a)}}};
wmgui.tooltips={advsearch:{el:"advsearch_init_trigger",oleft:90,otop:60,view_mode:1,text:'Use the &#9776; button for the detailed search by 15+ categories.<br /><span rel="hierarchy">OK, next</span>'},hierarchy:{el:"hierarchy_trigger",oleft:90,otop:60,view_mode:1,text:'Use the <i>&mu;</i> button to select physical properties from the curated hierarchy.<br /><span rel="userbox">OK, next</span>'},userbox:{el:"userbox",oleft:100,otop:65,view_mode:1,text:'Access your account here and enjoy the full data access.<br /><span rel="close_tooltip">OK</span>'},
interpretation:{el:"right_col",oleft:70,otop:99,view_mode:2,text:'The entries are grouped into the phases.<br /><span rel="databrowser">OK, next</span>'},databrowser:{el:"databrowser",oleft:0,otop:200,view_mode:2,text:'Click the particular entry to get more info. Opened lock means open access.<br /><span rel="plots">OK, next</span>'},plots:{el:"databrowser",oleft:0,otop:500,view_mode:2,text:'Use the graph chart buttons in the footer (at the very bottom of the page).<br /><span rel="close_tooltip">OK</span>'},
ss_axes:{el:"ctxpanel_plots",oleft:-60,otop:114,view_mode:2,text:'Click gear icon to sort axes differently.<br /><span rel="visavis" class="forced">OK, next</span>'},visavis:{el:"right_col",oleft:150,otop:500,view_mode:2,text:'Fine-tune visualizations with these commands.<br /><span rel="close_tooltip">OK</span>'}};wmgui.tooltip_var=0;
wmgui.entries_messages={C900500:"This system is stable (dashed metastable)",C904090:"This system is metastable (dashed stable)",C904091:"This system is metastable",C904092:"This system is metastable (dashed stable)",C904124:"This system is metastable (dashed stable)",C904221:"This system is stable; allotropic transition of Fe is not shown",C904222:"This system is stable",C904223:"This system is stable",C904313:"This system is stable",C904322:"This system is stable",C904329:"This system is stable",
C904330:"This system is metastable (dashed stable)",C904331:"This system is metastable (dashed stable)",C904332:"This system is stable",C904343:"This system is stable",C904344:"This system is stable",C904345:"This system is stable (dashed metastable)",C904354:"This system is metastable (dashed stable)",C904366:"This system is metastable",C904376:"This system is metastable (dashed stable)",C904437:"This system is stable",C904478:"This system is stable",C905006:"This system is metastable",C905621:"This system is metastable",
C905635:"This system is stable (dashed metastable)",C905636:"This system is stable",C905637:"This system is stable (dashed metastable)",C905638:"This system is stable (dashed metastable)",C905985:"This system is metastable (dashed stable)",C906635:"This system is stable",C906931:"This system is stable",C908341:"This system is stable; p = 8.0 GPa",C908342:"This system is metastable",C908343:"This system is metastable",C979860:"This system is stable",C979861:"This system is stable",C979862:"This system is stable",
C979863:"This system is metastable",C979864:"This system is stable",C979865:"This system is stable",C102059:"This system is metastable",C103150:"This system is stable",C104069:"This system is metastable",C105034:"This system is metastable",C105035:"This system is metastable"};wmgui.poly_limits={1:"isopolyhedral",2:"dipolyhedral",3:"tripolyhedral"};
var wmgui=window.wmgui||{};
function create_floating_slider(b,d,a,f,e,g,c,h){$("#slider_"+d).length?console.log("Attempted to create an existing slider id"+d):(a='<li><div class="slider_title">'+((wmgui.numerics[b][5]||b)+(a?",&nbsp;<em>"+a+"</em>":"")+"</div>"),a=a+'<div class="cross slider_close"></div><div class="slider"><img src="'+(wmgui.pdist_endpoint+"?pdist="+encodeURIComponent(b)+"&q="+encodeURIComponent(JSON.stringify(wmgui.search))+'" width="530" height="25" />'),a+='<div id="slider_'+d+'" class="slider_numerics" rel="'+
b+'"></div></div></li>',$("#numericbox").show(),$("#numericbox > ul").prepend(a),b=g?Math.abs(Math.log10(g)):Math.max(f.count_decimals(),e.count_decimals()),noUiSlider.create(document.getElementById("slider_"+d),{start:[c||f,h||e],step:g||(e-f)/250,tooltips:[wNumb({decimals:b}),wNumb({decimals:b})],connect:!0,behaviour:"drag",range:{min:f,max:e},format:{to:function(a){return a},from:function(a){return Number(a)}}}))}
function destroy_numericbox(){$("#numericbox").is(":visible")&&($("#numericbox > ul > li").each((function(){var b=$(this);b.find("div.slider_numerics")[0].noUiSlider.destroy();b.remove()})),$("#numericbox").hide())}
function get_sliders_ranges(b,d){for(var a={},f=[],e=0;e<b.length;e++)if(">"===b[e][1]||"<"===b[e][1]){var g=">"==b[e][1]?"start":"end";a[b[e][0]]||(a[b[e][0]]={});a[b[e][0]][g]=parseFloat(b[e][2])}for(var c in a)if(d[c]){a[c].start?a[c].end||(a[c].end=d[c][3]):a[c].start=d[c][2];if(a[c].end<a[c].start)throw Error("The end of range is lower than the start of range!");f.push([c,d[c][0],d[c][1],d[c][2],d[c][3],d[c][4],a[c].start,a[c].end])}else console.log("Unsupported key: "+c);f.sort((function(a,b){return a[1]>
b[1]?1:-1}));return f}function serialize_numeric(b,d,a){return b+","+d+","+a+";"};
var wmgui=window.wmgui||{};
wmgui.create_autocomplete=(function(){return function(h){function m(a,c){return a.classList?a.classList.contains(c):(new RegExp("\\b"+c+"\\b")).test(a.className)}function f(a,c,e){a.attachEvent?a.attachEvent("on"+c,e):a.addEventListener(c,e)}function k(a,c,e,d){f(d||document,c,(function(b){for(var c,d=b.target||b.srcElement;d&&!(c=m(d,a));)d=d.parentElement;c&&e.call(d,b)}))}if(document.querySelector){var d={selector:0,source:0,minChars:3,delay:150,offsetLeft:0,offsetTop:1,cache:1,menuClass:"",renderItem:function(a,
c){},onSelect:function(a,c,d){},arrow_pressed:!1,custom_type:!1},g;for(g in h)h.hasOwnProperty(g)&&(d[g]=h[g]);var a=document.getElementById(d.selector),n=a.getAttribute("rel");a.sc=document.createElement("div");a.sc.className="autocomplete-suggestions "+d.menuClass;a.autocompleteAttr=a.getAttribute("autocomplete");a.setAttribute("autocomplete","off");a.cache={};a.last_val="";a.updateSC=function(b,c){var e=a.getBoundingClientRect();a.sc.style.left=Math.round(e.left+(window.pageXOffset||document.documentElement.scrollLeft)+
d.offsetLeft)+"px";a.sc.style.top=Math.round(e.bottom+(window.pageYOffset||document.documentElement.scrollTop)+d.offsetTop)+"px";a.sc.style.width=Math.round(e.right-e.left)+"px";b||(a.sc.style.display="block",a.sc.maxHeight||(a.sc.maxHeight=parseInt((window.getComputedStyle?getComputedStyle(a.sc,null):a.sc.currentStyle).maxHeight)),a.sc.suggestionHeight||(a.sc.suggestionHeight=a.sc.querySelector(".autocomplete-suggestion").offsetHeight),a.sc.suggestionHeight&&(c?(b=a.sc.scrollTop,c=c.getBoundingClientRect().top-
a.sc.getBoundingClientRect().top,0<c+a.sc.suggestionHeight-a.sc.maxHeight?a.sc.scrollTop=c+a.sc.suggestionHeight+b-a.sc.maxHeight:0>c&&(a.sc.scrollTop=c+b)):a.sc.scrollTop=0))};f(window,"resize",a.updateSC);document.body.appendChild(a.sc);k("autocomplete-suggestion","mouseleave",(function(b){var c=a.sc.querySelector(".autocomplete-suggestion.selected");c&&setTimeout((function(){c.className=c.className.replace("selected","")}),20)}),a.sc);k("autocomplete-suggestion","mouseover",(function(b){if(b=a.sc.querySelector(".autocomplete-suggestion.selected"))b.className=
b.className.replace("selected","");this.className+=" selected";"aetypes"==d.custom_type&&show_aetmap&&show_aetmap(this.innerText)}),a.sc);k("autocomplete-suggestion","mousedown",(function(b){if(m(this,"autocomplete-suggestion")){var c=this.getAttribute("data-val");a.value=c;d.onSelect(b,c,this);a.sc.style.display="none"}}),a.sc);a.blurHandler=function(){try{var b=document.querySelector(".autocomplete-suggestions:hover")}catch(c){b=0}b?a!==document.activeElement&&setTimeout((function(){a.focus()}),20):
(a.last_val=a.value,a.sc.style.display="none",setTimeout((function(){a.sc.style.display="none"}),350))};f(a,"blur",a.blurHandler);var l=function(b){d.arrow_pressed=!1;var c=a.value;a.cache[c]=b;if(b.length&&c.length>=d.minChars){for(var e="",f=0;f<b.length;f++)e+=d.renderItem(b[f],c);a.sc.innerHTML=e;a.updateSC(0)}else a.sc.style.display="none"};a.keydownHandler=function(b){var c=window.event?b.keyCode:b.which;if((40==c||38==c)&&a.sc.innerHTML){d.arrow_pressed=!0;var e=a.sc.querySelector(".autocomplete-suggestion.selected");
e?(b=40==c?e.nextSibling:e.previousSibling)?(e.className=e.className.replace("selected",""),b.className+=" selected",a.value=b.getAttribute("data-val")):(e.className=e.className.replace("selected",""),a.value=a.last_val,b=0):(b=40==c?a.sc.querySelector(".autocomplete-suggestion"):a.sc.childNodes[a.sc.childNodes.length-1],b.className+=" selected",a.value=b.getAttribute("data-val"));a.updateSC(0,b);return!1}27==c?(a.value=a.last_val,a.sc.style.display="none"):(13==c||9==c)&&(e=a.sc.querySelector(".autocomplete-suggestion.selected"))&&
"none"!=a.sc.style.display&&d.arrow_pressed&&(d.onSelect(b,e.getAttribute("data-val"),e),a.sc.style.display="none")};f(a,"keydown",a.keydownHandler);a.keyupHandler=function(b){b=window.event?b.keyCode:b.which;if(!b||(35>b||40<b)&&13!=b&&27!=b){var c=a.value;if(c.length>=d.minChars){if(c!=a.last_val){a.last_val=c;clearTimeout(a.timer);if(d.cache){if(c in a.cache){l(a.cache[c]);return}for(b=1;b<c.length-d.minChars;b++){var e=c.slice(0,c.length-b);if(e in a.cache&&!a.cache[e].length){l([]);return}}}a.timer=
setTimeout((function(){d.source(c,n,l)}),d.delay)}}else a.last_val=c,a.sc.style.display="none"}};f(a,"keyup",a.keyupHandler);a.focusHandler=function(b){a.last_val="\n";a.keyupHandler(b)};d.minChars||f(a,"focus",a.focusHandler)}}})();
var wmgui=window.wmgui||{};function url_redraw_react(){var b=window.location.hash.substr(1).split("/");if(b.length){$("#overlay, #aetmap, div.modal, div.menu_collateral").hide();try{wmgui.active_ajax.abort()}catch(a){}try{wmgui.quick_ajax.abort()}catch(a){}if(window["url__"+b[0]])window["url__"+b[0]](b.slice(1).join("/"));else wmgui.notify("Unknown route: "+window.location.hash)}}
function url__start(b){switch_view_mode(1);2>wmgui.tooltip_var&&setTimeout((function(){show_tooltip(wmgui.tooltips.advsearch)}),5E3)}function url__search(b,a){b=unescape(b);var c=WMCORE.parse_string(b);c.numeric&&(wmgui.search_type=1);show_interpretation(c);delete c.ignored;$("#search_field-selectized").val("");wmgui.multiselects.main.clear();wmgui.multiselects.main.write(c);wmgui.search=c;c.search_type=wmgui.search_type;a||request_search(c,b,wmgui.search_type)}
function url__inquiry(b,a){var c=b.split("&").map(function(a){return a=a.split("="),this[a[0]]=a[1],this}.bind({}))[0];wmgui.facets.forEach((function(a){c[a]&&(c[a]=unescape(c[a].replaceAll("\\+"," ")))}));c.numeric&&(c.numeric=unescape(c.numeric).split(";").map((function(a){return a.split(",")})),c.numeric=c.numeric.filter((function(a){return 3==a.length})),wmgui.search_type=1);show_interpretation(c);delete c.ignored;var d=[];$.each(c,(function(a,b){d.push(b)}));$("#search_field-selectized").val("");wmgui.multiselects.main.clear();
wmgui.multiselects.main.write(c);wmgui.search=c;c.search_type=wmgui.search_type;a||request_search(c,d.join(" ").replaceAll(","," "),wmgui.search_type)}
function url__plot(b){var a=b.split("/"),c=a[0],d=a[1];a=a[2];if(!c||!d||!a)return wmgui.notify("Unknown route: "+b);if("search"==d)url__search(a,!0);else if("inquiry"==d)url__inquiry(a,!0);else return wmgui.notify("Unknown route: "+b);wmgui.visavis_curtype=c;switch_view_mode(2);wmgui.visavis_ready?start_visavis(c):wmgui.visavis_starting=!0;2>wmgui.tooltip_var&&("matrix"==c||"cube"==c)&&setTimeout((function(){show_tooltip(wmgui.tooltips.ss_axes,!0)}),4E3)}
function url__entry(b){wmgui.search_type=0;wmgui.visavis_terminating=!0;request_search({entry:b},"entry "+b,!0);wmgui.search={};wmgui.passive_sim_col=!0;$("#search_field-selectized").val("");wmgui.multiselects.main.clear();show_interpretation()}
function url__phase_id(b){wmgui.search_type=0;$("#search_field-selectized").val("");wmgui.multiselects.main.clear();show_interpretation();b=parseInt(b);wmgui.search={phid:b};wmgui.search.search_type=wmgui.search_type;request_search({phid:b},"phase_id #"+b,!0)}
function url__phase(b){var a=b.split("/");b=a[0];var c=a[1];a=a[2];if(b&&c&&a)wmgui.active_ajax=$.ajax({type:"GET",url:wmgui.phph_endpoint,data:{phase:[b,c,a].join("/")},beforeSend:wmgui.show_preloader}).always(wmgui.hide_preloader).done((function(a){if(a.error)return wmgui.notify(a.error);window.location.replace("#phase_id/"+a.phid)})).fail((function(a,b,c){"abort"!=b&&wmgui.notify("A network error occured. Please, try again")}));else return wmgui.notify("Wrong phase given!")}
function url__hierarchy(){$("body").removeClass("noscroll");$("#overlay").show();window.scrollTo(0,0);$("#hy_box").show()}
function url__modal(b){if("login"==b){if(wmgui.sid)return window.location.replace("#modal/menu");if(1==wmgui.edition)return window.location.href="/asm_oauth.html";$("#restore_by_email").val()?$("#login_email").val($("#restore_by_email").val()):$("#login_email").val("");$("#login_password").val("");$("#loginbox").show();$("#login_email").focus();if(b=window.localStorage.getItem("wm_u_email")||!1)$("#login_email").val(b),window.localStorage.removeItem("wm_u_email")}else if("restore"==b){if(wmgui.sid)return window.location.replace("#modal/menu");
$("#login_email").val()?$("#restore_by_email").val($("#login_email").val()):$("#restore_by_email").val("");$("#restorebox").show();$("#restore_by_email").focus()}else if("menu"==b){if(!wmgui.sid)return window.location.replace("#modal/login");$("#new_password_1, #new_password_2").val("");arrange_menu_collateral();$("#menubox, div.menu_collateral").show()}else return wmgui.notify("Unknown modal dialogue!");$("#overlay").show()}
function url__access(b){$.ajax({type:"POST",url:wmgui.access_endpoint,data:{a:b}}).done((function(a){if(a.error)return window.location.replace("#start"),wmgui.notify(a.error);if(!a.sid||!a.name||!a.acclogin)return window.location.replace("#start"),wmgui.notify("Connection to server is lost, please try to <a href=javascript:location.reload()>reload</a>");user_login(a.sid,a.name,a.acclogin,a.admin);window.location.replace("#start")})).fail((function(a,b,d){window.location.replace("#start");return wmgui.notify("A network error occured. Please, try again")}))}
function url__ratify(b){$.ajax({type:"POST",url:wmgui.ratify_endpoint,data:{a:b}}).done((function(a){if(a.error)return window.location.replace("#start"),wmgui.notify(a.error);if(!a.sid||!a.name||!a.acclogin)return window.location.replace("#start"),wmgui.notify("Connection to server is lost, please try to <a href=javascript:location.reload()>reload</a>");user_login(a.sid,a.name,a.acclogin,a.admin);window.location.replace("#modal/menu")})).fail((function(a,b,d){window.location.replace("#start");return wmgui.notify("A network error occured. Please, try again")}))}
function url__interlinkage(b){wmgui.search_type=1;request_search({interlinkage:b},"linked phases for "+b,!0);wmgui.search={numeric:!0};$("#search_field-selectized").val("");wmgui.multiselects.main.clear();show_interpretation()}function url__polyhedra(b){$("body").removeClass("noscroll");$("#overlay").show();window.scrollTo(0,0);render_all_polyhedra();$("#all_polyhedra_box").show()}
function url__junction(b){if(!wmgui.sid)return window.location.replace("#products");wmgui.active_ajax=$.ajax({type:"POST",url:wmgui.perms_endpoint,data:{sid:wmgui.sid},beforeSend:wmgui.show_preloader}).always(wmgui.hide_preloader).done((function(a){if(a.error)return wmgui.notify(a.error);if(!a.hasOwnProperty("gui")||!a.hasOwnProperty("api"))return force_relogin("Please, re-login");window.location.replace("#modal/menu");$("#tab_links > li").removeClass("working");$("#tab_links > li[rev=usr_tab_perms]").addClass("working");
$("div.menu_tabs").hide();$("#usr_tab_perms").show();$("#perms_view").html(describe_perms(a));wmgui.notify("Sorry, you have no access to these data")})).fail((function(a,b,d){if("abort"!=b)return force_relogin("Please, re-login")}))};
var wmgui=window.wmgui||{};
function register_events(){$("#search_trigger").click((function(){var a=wmgui.multiselects.main.read(),b=$("#search_field-selectized").val();if(b){if(b.endswith(" ")||b.endswith(","))b=b.substr(0,b.length-1);b=WMCORE.parse_string(b);for(var c in b)"ignored"!=c&&(a[c]=a[c]&&"elements"==c?a[c]+("-"+b[c]):a[c]&&"classes"==c?a[c]+(", "+b[c]):b[c])}wmgui.search.numeric&&!a.numeric&&(a.numeric="",wmgui.search.numeric.forEach((function(b){a.numeric+=serialize_numeric.apply(this,b)})),delete a.props);if($.isEmptyObject(a))return wmgui.notify("Unrecognized input"),
!1;c=$.param(a);window.location.hash=="#inquiry/"+c&&(c="="==c.slice(-1)?c.substr(0,c.length-1):c+"=");window.location.hash="#inquiry/"+c;return!1}));$("#advsearch_do_trigger").click((function(){var a="",b="",c={};$.each(wmgui.simple_facets,(function(b,d){if(a=$("#advs_fct_"+d).val())"formulae"==d?a=WMCORE.termify_formulae(a):"elements"==d?a=a.replaceAll(",","").replaceAll(" ","-"):"doi"==d?a=a.replace("http://dx.doi.org/","").replace("http://doi.org/","").trim():"codens"==d&&(a=wmgui.journal_converter.j2c(a)),
c[d]=a}));$.each(wmgui.multi_facets,(function(d,e){a=wmgui.multiselects[e].read();a[e]&&(a=a[e],"authors"==e&&(a=a.replace(/'/g,"").replaceAll("\\."," ").replaceAll("\\b\\w{1}\\b","").trim()),c[e]=a);(b=$("#advs_fct_"+e+"-selectized").val())&&(c[e]=c[e]?c[e]+(", "+b):b)}));wmgui.search.numeric&&(c.numeric="",wmgui.search.numeric.forEach((function(a){c.numeric+=serialize_numeric.apply(this,a)})),delete c.props);if($.isEmptyObject(c))return wmgui.notify("Search is empty");var d=$.param(c);window.location.hash==
"#inquiry/"+d&&(d="="==d.slice(-1)?d.substr(0,d.length-1):d+"=");window.location.hash="#inquiry/"+d}));$("#advsearch_drop_trigger").click((function(){$("input.advs_input").val("");$.each(wmgui.multi_facets,(function(a,b){$("#advs_fct_"+b+"-selectized").val("");wmgui.multiselects[b].clear()}));$("#aetmap").hide();$("#aet_limit").prop("checked",!1);destroy_numericbox();delete wmgui.search.numeric}));$("#advsearch_init_trigger").click((function(){$("#advstab_options li").removeClass("working");$("#advstab_options li[rev=advstab_bib]").addClass("working");
$("#advstab_bib").show();$("#advstab_main, #advstab_cry").hide();show_advsbox();return!1}));$("#search_box").on("click","#legend a",(function(){var a=$(this).text();window.location.hash="#search/"+escape(a);return!1}));$("div.advs_legend > a").click((function(){var a=$(this),b=a.text(),c=a.parent().data("multiselects");c?($("#advs_fct_"+c+"-selectized").val(""),wmgui.multiselects[c].clear(),a={},a[c]=b,wmgui.multiselects[c].write(a)):a.parent().parent().children("input").val(b).focus();return!1}));$("#databrowser").on("mousedown",
"a.resolve_ref",(function(a){a=$(this).attr("rel");$("a.resolve_ref[rel="+a+"]").addClass("visited");wmgui.bid_history.push(parseInt(a));window.localStorage.setItem("bid_history",JSON.stringify(wmgui.bid_history));return!0}));$("#databrowser").on("click","tr.tcell, div.gallery_item",(function(){open_context($(this),!1)}));$("#databrowser").on("click","span.launch_v",(function(a){wmgui.cancel_event(a);a=$(this).parent().parent();a.removeClass("busy_entry");open_context(a,!0)}));$("#databrowser").on("click",
"a.launch_ph",(function(a){wmgui.cancel_event(a);a=$(this).attr("href");window.location.hash==a&&(a+=".");window.location.hash=a;return!1}));$("#all_polyhedra_content").on("click","div.gallery_item",(function(){$("#advstab_options li").removeClass("working");$("#advstab_options li[rev=advstab_cry]").addClass("working");$("div.advstab").hide();$("#advstab_cry").show();$("div.modal").hide();$("#advsbox, #overlay").show();var a=$(this).attr("rel");-1==(wmgui.multiselects.aetypes.read().aetypes||"").split(", ").indexOf(a)&&
wmgui.multiselects.aetypes.write({aetypes:a});show_aetmap(a)}));$("#aet_limit").click((function(a){var b=(wmgui.multiselects.classes.read().classes||"").split(", ");if(this.checked){var c=(wmgui.multiselects.aetypes.read().aetypes||"").split(", ").filter((function(a){return a}));c=wmgui.poly_limits[c.length];if(!c)return wmgui.cancel_event(a),wmgui.notify("Sorry, only up to 3 supported"),!1;-1==b.indexOf(c)&&wmgui.multiselects.classes.write({classes:c})}else{var d=Object.values(wmgui.poly_limits);wmgui.multiselects.classes.clear();
wmgui.multiselects.classes.write({classes:b.filter((function(a){return-1==d.indexOf(a)})).join(", ")})}return!0}));$("#visualize").click((function(){close_vibox()||launch_iframed_app(this.getAttribute("data-rank"))}));$("#refine_col").on("click","a.extd_refine",(function(){var a=$(this).attr("rel");if($("#refine_col > ul > li.extd_rfns.fct_"+a).length)return $("#refine_col > ul > li:not(.fct_"+a+")").addClass("hidden_rfns").slideUp(),$("#refine_col > ul > li.extd_rfns.fct_"+a).show(),$("a.extd_refine[rel="+
a+"]").parent().hide(),!1;var b={extd_refine:a};$.extend(b,wmgui.search);try{wmgui.active_ajax.abort()}catch(c){}wmgui.active_ajax=$.ajax({type:"GET",url:wmgui.rfn_endpoint,data:{q:JSON.stringify(b)}}).done((function(c){if(c.error)return wmgui.notify(c.error);var d="";delete b.numeric;delete b.extd_refine;var f=!1;$.each(wmgui.inquiries,(function(a,c){if(b[c])return f=!0,!1}));$.each(c.payload,(function(c,g){var e="",h={};$.each(b,(function(b,c){if("search_type"==b||"elements"==a&&("elements"==b||"formulae"==
b)||"props"==a&&"props"==b)return!0;e+=c+" ";h[b]=h[b]?h[b]+(", "+c):c}));"props"==a&&(g[0]=g[0].replace(/\(|\)/g,"").replace(/\/[\w\-]*/g,""));h[a]=h[a]?h[a]+(", "+g[0]):g[0];h.elements&&(h.elements=h.elements.replaceAll(", ","-"));d=f?d+('<li class="extd_rfns fct_'+a+'"><a href="#inquiry/'+$.param(h)+'">'+g[0]+"</a></li>"):d+('<li class="extd_rfns fct_'+a+'"><a href="#search/'+e+g[0]+'">'+g[0]+"</a></li>")}));d+='<li class="extd_rfns fct_'+a+' collapse_refine"><a class="collapse_refine" rel="'+a+
'" href="#">Show less&nbsp;</a></li>';$("#refine_col > ul > li:not(.fct_"+a+")").addClass("hidden_rfns").slideUp();$("a.extd_refine[rel="+a+"]").parent().hide().after(wmgui.clean(d))})).fail((function(a,b,f){"abort"!=b&&wmgui.notify("Connection to server is lost, please try to <a href=javascript:location.reload()>reload</a>")}));return!1}));$("#refine_col").on("click","a.collapse_refine",(function(){var a=$(this).attr("rel");$("a.extd_refine[rel="+a+"]").parent().show();$("#refine_col > ul > li.hidden_rfns").removeClass("hidden_rfns").slideDown(250);
$("#refine_col > ul > li.extd_rfns").hide();return!1}));$("#fdwidget").on("click","span",(function(){"fdwidget_yes"==$(this).attr("id")?$("#fdwidget").html("We appreciate your feedback!"):($("#fdwidget").html(wmgui.contact_html),$("#fdwidget_msg").focus())}));$("#fdwidget").on("click","div.wmbutton",(function(){$(this).data("busy")||($(this).data("busy",!0),$.ajax({type:"POST",url:wmgui.fd_endpoint,data:{fdwidget_msg:$("#fdwidget_msg").val(),fdwidget_msgtype:$("#fdwidget_msgtype").val(),fdwidget_url:window.location.href},
beforeSend:wmgui.show_preloader}).always(wmgui.hide_preloader).done((function(a){$("#fdwidget_trigger").data("busy",!1);if(a.error)return wmgui.notify(a.error);$("#fdwidget").html("We appreciate your feedback!")})).fail((function(a,b,c){wmgui.notify("Sorry, cannot process your input")})))}));$("#tagcloudbox").on("click","a.collateral",(function(){$("#userbox").data("saved_hash",!1);var a=$(this).attr("rel");if("adv"==a)$("#advsearch_init_trigger").trigger("click"),$("div.menu_collateral").hide();else if("idea"==
a)window.location.hash="#plot/"+WMCORE.get_random_term(["pie","lit","graph"])+"/search/"+WMCORE.get_interesting().text;else if("sod"==a){var b=new Date;a=b.getDate()%wmgui.s_examples.length;var c=new Date(b.getFullYear(),0,0);b=b-c+6E4*(c.getTimezoneOffset()-b.getTimezoneOffset());window.location.hash="#entry/S"+(wmgui.s_examples[a]+Math.floor(b/864E5))}else"my"==a&&(a=JSON.parse(window.localStorage.getItem("wm")||"{}"),a.name&&(a=a.name.split(" "),window.location.hash="#inquiry/authors="+escape(a[a.length-
1])));return!1}));$("#hintsbox_msg").on("click","div.wmbutton",(function(){var a=document.createRange();a.selectNode($("#hintsbox_msg > pre").get(0));window.getSelection().removeAllRanges();window.getSelection().addRange(a);document.execCommand("copy");wmgui.notify("Copied")}));$("#tooltip").on("click","span",(function(){var a=$(this),b=a.attr("rel");a=a.hasClass("forced");document.getElementById("tooltip").style.display="none";b&&wmgui.tooltips[b]&&show_tooltip(wmgui.tooltips[b],a)}));$("#sim_col").on("click",
"li > a",(function(){$("#sim_col > ul > li").removeClass("selected");$(this).parent().addClass("selected");wmgui.passive_sim_col=!1;return!0}));$("div.close_user_dialogue").click((function(){$("#userbox").trigger("click")}));$("div.close_advs_dialogue").click((function(){$("#advsbox, #overlay, #aetmap").hide()}));$("#close_inquiry_dialogue").click((function(){$("#inquirybox").hide()}));$("#close_ss_dialogue").click((function(){var a=$("#ss_x > ul > li.ss_x").attr("rel").split("_")[1],b=$("#ss_y > ul > li.ss_y").attr("rel").split("_")[1],
c=$("#sops_x > ul > li.sops_x").text(),d=$("#sops_y > ul > li.sops_y").text();c="none"==c?!1:c;d="none"==d?!1:d;if($("#ss_z").is(":visible")){var f=$("#ss_z > ul > li.ss_z").attr("rel").split("_")[1],e=$("#sops_z > ul > li.sops_z").text();e="none"==e?!1:e;$("#ctxpanel_cube > ul > li.embodied").removeClass("embodied");$("#viscube_"+a).addClass("embodied");$("#ctxpanel_cube > ul > li.ss_y").removeClass("ss_y");$("#viscube_"+b).addClass("ss_y");$("#ctxpanel_cube > ul > li.ss_z").removeClass("ss_z");
$("#viscube_"+f).addClass("ss_z");$("span.sops").remove();c&&$('<span class="sops" rel="x">'+c+"</span>").appendTo("#viscube_"+a);d&&$('<span class="sops" rel="y">'+d+"</span>").appendTo("#viscube_"+b);e&&$('<span class="sops" rel="z">'+e+"</span>").appendTo("#viscube_"+f);-1!==document.getElementById("visavis_iframe").contentWindow.location.hash.indexOf("fixel=1")?document.getElementById("visavis_iframe").contentWindow.matrix_order(a,b,c,d):document.getElementById("visavis_iframe").contentWindow.cube_order(a,
b,f,c,d,e)}else{if(c&&"count"==a||d&&"count"==b)return wmgui.notify("Sorry, data counts are not supported");$("#ctxpanel_matrix > ul > li.embodied").removeClass("embodied");$("#vismatrix_"+a).addClass("embodied");$("#ctxpanel_matrix > ul > li.ss_y").removeClass("ss_y");$("#vismatrix_"+b).addClass("ss_y");$("span.sops").remove();c&&$('<span class="sops" rel="x">'+c+"</span>").appendTo("#vismatrix_"+a);d&&$('<span class="sops" rel="y">'+d+"</span>").appendTo("#vismatrix_"+b);document.getElementById("visavis_iframe").contentWindow.matrix_order(a,
b,c,d)}$("#ss_custom_box, #overlay").hide();$("div.ss_col > ul").empty()}));$("#close_dc_dialogue").click((function(){$("#discovery_custom_box, #overlay").hide();$("#discovery_enabled, #discovery_disabled").empty();document.getElementById("visavis_iframe").contentWindow.discovery_rerun();$("#select_cmp_trigger").val("X")}));$("#close_formal_dialogue").click((function(){window.location.hash="#start"}));$("#close_ph_dialogue, div.close_hy_dialogue, div.close_product_dialogue").click((function(){if(-1==document.referrer.indexOf(window.location.host))window.location.hash=
"#start";else{var a=window.location.href;window.history.go(-1);setTimeout((function(){window.location.href==a&&(window.location.hash="#start")}),500)}}));$("div._close_ctx").click((function(){try{wmgui.quick_ajax.abort()}catch(a){}$(".busy_entry").removeClass("busy_entry");$("#ctx_col, #sim_col").hide();wmgui.passive_sim_col=!0;close_vibox()}));$("#hy_box").on("click","span",(function(){var a=$(this).attr("class");$("span."+a).each((function(){var a=$(this);a.parent().find("ul").toggle();"expand"==a.text()?
a.text("collapse"):a.text("expand")}))}));$("#hy_box").on("click","a.dynprop",(function(){if(1==wmgui.view_mode)return!0;var a=$(this).attr("data-val");window.location.hash=wmgui.aug_search_cmd("props",a);return!1}));$("#hy_box").on("click","strong.numeric",(function(){var a=$(this).attr("rel"),b=wmgui.numerics[a],c=b[0],d=b[1],f=b[2],e=b[3];b=b[4];var g=$("div.slider_numerics").length;2<=g&&wmgui.notify("Too little phases have all these properties reported &mdash; expect no results");8<=g||create_floating_slider(a,
c,d,f,e,b)}));$("strong.numeric").click((function(){var a=$(this).attr("rel"),b=wmgui.numerics[a];create_floating_slider(a,b[0],b[1],b[2],b[3],b[4])}));$("#hy_options > li").click((function(){var a=$(this),b=a.attr("rev");"hy_vis"==b?window.open(wmgui.static_host+"/labs/ontology"):(a.addClass("working").siblings().removeClass("working"),$("div.hy_tabs").hide(),$("#"+b).show())}));$("#dtypes > ul > li").click((function(){var a=$(this),b=a.data("facet");a=a.data("term");"classes"==b&&wmgui.search.classes&&
(wmgui.search.classes=wmgui.search.classes.replace("peer-reviewed","").replace("peer-review","").replace("machine-learning","").replace("machine learning","").replace("ab initio calculations","").split(",").map((function(a){return a.trim()})).filter((function(a){return a})).join(", "));window.location.hash=wmgui.aug_search_cmd(b,a)}));$(window).scroll(wmgui.debounce((function(){if(2==wmgui.view_mode&&wmgui.unfinished_page&&50>$("#footer").offset().top-$(window).scrollTop()-$(window).height()){if(!wmgui.unfinished_page)return;
wmgui.unfinished_page=!1;var a={offset:wmgui.quick_page_size};$.extend(a,wmgui.search);wmgui.active_ajax=$.ajax({type:"GET",url:wmgui.srch_endpoint,data:{q:JSON.stringify(a),sid:wmgui.sid},beforeSend:wmgui.show_preloader}).always(wmgui.hide_preloader).done((function(a){if(a.error)return wmgui.notify(a.error);$("div.context_msg").hide();show_hints();a.out.length&&(wmgui.thumbed_display?$("#databrowser tr td").append(build_thumbs(a.out)):($("#databrowser tbody").append(build_cells(a.out)),$("#databrowser").trigger("update")))})).fail((function(a,
c,d){"abort"!=c&&wmgui.notify("Connection to server is lost, please try to <a href=javascript:location.reload()>reload</a>")}))}a=$("#iframe");a.length&&!wmgui.is_inview(a)&&close_vibox()}),300));$("#userbox").click((function(){var a=$(this);window.location.hash==a.data("saved_hash")&&a.data("saved_hash",!1);a.data("saved_hash")?(window.location.replace(a.data("saved_hash")),a.data("saved_hash",!1)):-1!==window.location.hash.indexOf("modal")?window.location.replace("#start"):(a.data("saved_hash",window.location.hash),
wmgui.sid?window.location.replace("#modal/menu"):window.location.replace("#modal/login"))}));$("span.href[rel]").click((function(){window.location.replace($(this).attr("rel"))}));$("#interpret").on("click","li",(function(){var a=$(this),b=a.attr("rel");b?window.location.hash=b:(a=a.attr("class"),-1<a.indexOf("numeric")?window.location.hash="#hierarchy":-1<a.indexOf("authors")||-1<a.indexOf("years")||-1<a.indexOf("codens")||-1<a.indexOf("doi")||-1<a.indexOf("geos")||-1<a.indexOf("orgs")?($("#advstab_options li").removeClass("working"),
$("#advstab_options li[rev=advstab_bib]").addClass("working"),$("div.advstab").hide(),$("#advstab_bib").show(),show_advsbox()):-1<a.indexOf("formulae")||-1<a.indexOf("props")||-1<a.indexOf("elements")||-1<a.indexOf("classes")?($("#advstab_options li").removeClass("working"),$("#advstab_options li[rev=advstab_main]").addClass("working"),$("div.advstab").hide(),$("#advstab_main").show(),show_advsbox()):($("#advstab_options li").removeClass("working"),$("#advstab_options li[rev=advstab_cry]").addClass("working"),
$("div.advstab").hide(),$("#advstab_cry").show(),show_advsbox(),wmgui.search.aetypes&&show_aetmap(wmgui.search.aetypes)))}));$("#tab_links > li").click((function(){try{wmgui.active_ajax.abort()}catch(c){}try{wmgui.quick_ajax.abort()}catch(c){}var a=$(this),b=a.attr("rev");a.addClass("working").siblings().removeClass("working");$("div.menu_tabs").hide();$("#"+b).show();"usr_tab_api_key"==b?($("#hintsbox_msg").html(wmgui.api_msg),wmgui.active_ajax=$.ajax({type:"POST",url:wmgui.api_key_endpoint,data:{sid:wmgui.sid},
beforeSend:wmgui.show_preloader}).always(wmgui.hide_preloader).done((function(a){if(a.error)return wmgui.notify(a.error);$("#usr_api_key").html(a.msg);if(a.revokable)$("#revoke_usr_api_key_holder").show();else if(a.creatable)$("#create_usr_api_key_holder").show();else return wmgui.notify('Login error: please, <span class="href relogin">re-login</span>')})).fail((function(a,b,f){"abort"!=b&&wmgui.notify('Login error: please, <span class="href relogin">re-login</span>')}))):"usr_tab_perms"==b?($("#hintsbox_msg").html(WMCORE.get_random_term(wmgui.welcome_msgs)),
wmgui.active_ajax=$.ajax({type:"POST",url:wmgui.perms_endpoint,data:{sid:wmgui.sid},beforeSend:wmgui.show_preloader}).always(wmgui.hide_preloader).done((function(a){if(a.error)return wmgui.notify(a.error);if(!a.hasOwnProperty("gui")||!a.hasOwnProperty("api"))return wmgui.notify('Login error: please, <span class="href relogin">re-login</span>');$("#perms_view").html(describe_perms(a))})).fail((function(a,b,f){"abort"!=b&&wmgui.notify('Login error: please, <span class="href relogin">re-login</span>')}))):
"usr_tab_ctrl"==b?window.location.href=(0===wmgui.edition?"/ctrl":"/labs/custom-datasets")+"?"+Math.floor(1E3*Math.random()):"usr_tab_account"==b&&$("#hintsbox_msg").html(WMCORE.get_random_term(wmgui.welcome_msgs))}));$("#advstab_options > li").click((function(){var a=$(this),b=a.attr("rev");a.addClass("working").siblings().removeClass("working");$("div.advstab").hide();$("#"+b).show()}));$("a.link_adjuster").click((function(){return"#polyhedra"==window.location.hash?(window.location.hash="#polyhedra/",
!1):"#polyhedra/"==window.location.hash?(window.location.hash="#polyhedra",!1):!0}));$("#create_usr_api_key").click((function(){$(this).parent().hide();try{wmgui.active_ajax.abort()}catch(a){}wmgui.active_ajax=$.ajax({type:"POST",url:wmgui.api_key_endpoint,data:{sid:wmgui.sid,create:!0},beforeSend:wmgui.show_preloader}).always(wmgui.hide_preloader).done((function(a){if(a.error)return wmgui.notify(a.error);$("#usr_api_key").html(a.msg);$("#revoke_usr_api_key_holder").show()})).fail((function(a,b,c){"abort"!=
b&&wmgui.notify('Login error: please, <span class="href relogin">re-login</span>')}))}));$("#revoke_usr_api_key").click((function(){$(this).parent().hide();try{wmgui.active_ajax.abort()}catch(a){}wmgui.active_ajax=$.ajax({type:"POST",url:wmgui.api_key_endpoint,data:{sid:wmgui.sid,revoke:!0},beforeSend:wmgui.show_preloader}).always(wmgui.hide_preloader).done((function(a){if(a.error)return wmgui.notify(a.error);$("#usr_api_key").html("Successfully revoked");$("#create_usr_api_key_holder").show()})).fail((function(a,
b,c){"abort"!=b&&wmgui.notify('Login error: please, <span class="href relogin">re-login</span>')}))}));$("#login_trigger").click((function(){if(!$(this).data("busy")){$(this).data("busy",!0);$(this).text("In process...");try{wmgui.active_ajax.abort()}catch(a){}wmgui.active_ajax=$.ajax({type:"POST",url:wmgui.login_endpoint,data:{login:$("#login_email").val().trim(),pass:$("#login_password").val()},beforeSend:wmgui.show_preloader}).always((function(){$("#login_trigger").data("busy",!1);$("#login_trigger").text("Login");
wmgui.hide_preloader()})).done((function(a){if(a.error)return wmgui.notify(a.error);if(!a.sid||!a.name||!a.acclogin)return wmgui.notify("Connection to server is lost, please try to <a href=javascript:location.reload()>reload</a>");user_login(a.sid,a.name,a.acclogin,a.admin);$("#userbox").trigger("click")})).fail((function(a,b,c){wmgui.notify("Login unsuccessful")}))}}));$("#restore_trigger").click((function(){if(!$(this).data("busy")){$(this).data("busy",!0);$(this).text("Sending...");try{wmgui.active_ajax.abort()}catch(a){}wmgui.active_ajax=
$.ajax({type:"POST",url:wmgui.restore_endpoint,data:{login:$("#restore_by_email").val().trim(),ed:wmgui.edition},beforeSend:wmgui.show_preloader}).always((function(){$("#restore_trigger").data("busy",!1);$("#restore_trigger").text("Send link");wmgui.hide_preloader()})).done((function(a){if(a.error)return wmgui.notify(a.error);wmgui.notify("Please, check your inbox (and spam)");$("#userbox").trigger("click")})).fail((function(a,b,c){"abort"!=b&&wmgui.notify("A network error occured. Please, try again")}))}}));
$("#account_holder_accpass > span").click((function(){$("#account_pass_change").toggle()}));$("#password_trigger").click((function(){var a=$("#new_password_1").val(),b=$("#new_password_2").val();if(!a||!b)return wmgui.notify("Please, type your new password in both fields");if(a!==b)return wmgui.notify("Passwords do not match (typo?)");if(!$(this).data("busy")){$(this).data("busy",!0);$(this).text("Changing...");try{wmgui.active_ajax.abort()}catch(c){}wmgui.active_ajax=$.ajax({type:"POST",url:wmgui.password_endpoint,
data:{new_password:b,sid:wmgui.sid},beforeSend:wmgui.show_preloader}).always((function(){$("#password_trigger").data("busy",!1);$("#password_trigger").text("Change");wmgui.hide_preloader()})).done((function(a){if(a.error)return wmgui.notify(a.error);user_login(a.sid,a.name,a.acclogin,a.admin);window.location.replace("#start");$("#account_pass_change").hide()})).fail((function(a,b,f){"abort"!=b&&wmgui.notify('Login error: please, <span class="href relogin">re-login</span>')}))}}));$("#logout_trigger").click((function(){$.ajax({type:"POST",
url:wmgui.logout_endpoint,data:{sid:wmgui.sid}}).done((function(a){})).fail((function(a,b,c){}));user_logout();$("#userbox").trigger("click")}));$("#notifybox").on("click","span.relogin",force_relogin);$("#search_holder").keydown((function(a){13==(window.event?a.keyCode:a.which)&&$("#search_trigger").trigger("click")}));$("#control_a").click((function(){re_view_request(0)}));$("#control_b").click((function(){re_view_request(1)}));$("#control_f").click((function(){re_view_request(2)}));$("#control_c").click((function(){wmgui.visavis_terminating=
!0;wmgui.thumbed_display=!1;if(wmgui.visavis_working){var a={},b;for(b in wmgui.search)-1<["search_type","phid","numeric"].indexOf(b)||(a[b]=wmgui.search[b]);a=$.param(a);window.location.hash=="#inquiry/"+a&&(a="="==a.slice(-1)?a.substr(0,a.length-1):a+"=");window.location.hash="#inquiry/"+a}else re_view_request(wmgui.search_type);wmgui.chosen_table_browser=!0}));$("#control_d").click((function(){wmgui.visavis_terminating=!0;wmgui.thumbed_display=!0;if(wmgui.visavis_working){var a={},b;for(b in wmgui.search)-1<
["search_type","phid","numeric"].indexOf(b)||(a[b]=wmgui.search[b]);a=$.param(a);window.location.hash=="#inquiry/"+a&&(a="="==a.slice(-1)?a.substr(0,a.length-1):a+"=");window.location.hash="#inquiry/"+a}else re_view_request(wmgui.search_type);wmgui.chosen_table_browser=!0}));$("#control_e").click((function(){var a={};for(b in wmgui.search)-1<["search_type","phid","numeric"].indexOf(b)||(a[b]=wmgui.search[b]);for(;;){var b=WMCORE.get_random_term(["matrix","cube"]);if(b!=wmgui.visavis_curtype)break}window.location.hash=
"#plot/"+b+"/inquiry/"+$.param(a)}));$("#ctxpanel_matrix > ul > li").click((function(){var a=$(this);if(!a.hasClass("embodied")&&!a.hasClass("ss_y")){var b=a.attr("id").split("_")[1],c=$("#ctxpanel_matrix > ul > li.ss_y");$("#ctxpanel_matrix > ul > li.embodied").removeClass("embodied");c.length&&c.removeClass("ss_y");a.addClass("embodied");$("span.sops").remove();document.getElementById("visavis_iframe").contentWindow.matrix_order(b)}}));$("#ctxpanel_cube > ul > li").click((function(){var a=$(this);if(!(a.hasClass("embodied")||
a.hasClass("ss_y")||a.hasClass("ss_z"))){var b=a.attr("id").split("_")[1],c=$("#ctxpanel_cube > ul > li.ss_y"),d=$("#ctxpanel_cube > ul > li.ss_z");$("#ctxpanel_cube > ul > li.embodied").removeClass("embodied");c.length&&c.removeClass("ss_y");d.length&&d.removeClass("ss_z");a.addClass("embodied");$("span.sops").remove();-1!==document.getElementById("visavis_iframe").contentWindow.location.hash.indexOf("fixel=1")?document.getElementById("visavis_iframe").contentWindow.matrix_order(b):document.getElementById("visavis_iframe").contentWindow.cube_order(b,
b,b)}}));$("#ctxpanel_graph > ul > li").click((function(){var a=$(this);if(!a.hasClass("embodied")){var b=a.attr("id").split("_")[1];$("#ctxpanel_graph > ul > li.embodied").removeClass("embodied");a.addClass("embodied");document.getElementById("visavis_iframe").contentWindow.graph_rebuild(b)}}));$("#select_cmp_trigger").change((function(){var a=$(this).val();$("#select_cmp_trigger option:selected").text();wmgui.dc_ctrl_flag=!0;"X"!=a&&("Y"==a?document.getElementById("visavis_iframe").contentWindow.cmp_discard(wmgui.visavis_curtype):
-1!=["matrix","cube","discovery"].indexOf(wmgui.visavis_curtype)&&(a=wmgui.vis_endpoint+"/"+wmgui.visavis_curtype+"?q="+a,document.getElementById("visavis_iframe").contentWindow.cmp_download(a,wmgui.visavis_curtype)))}));$("li.discovery_custom").click((function(){if(!document.getElementById("visavis_iframe")||!document.getElementById("visavis_iframe").contentWindow)return!1;var a=document.getElementById("visavis_iframe").contentWindow.visavis.elementals_on,b="",c="",d;for(d in wmgui.elemental_names)-1!==
a.indexOf(d)?b+='<div class="rearrange" rel="'+d+'">'+wmgui.elemental_names[d]+" (&minus;)</div>":c+='<div class="rearrange" rel="'+d+'">'+wmgui.elemental_names[d]+" (+)</div>";c&&$("#discovery_disabled").html(c);$("#discovery_enabled").html(b);$("#discovery_custom_box, #overlay").show()}));$("#discovery_custom_box").on("click","div.rearrange",(function(){var a=$(this),b=a.attr("rel"),c=document.getElementById("visavis_iframe").contentWindow.visavis.elementals_on.indexOf(b);if("discovery_enabled"==
a.parent().attr("id")){if(1==$("#discovery_enabled div.rearrange").length)return!1;-1!==c&&document.getElementById("visavis_iframe").contentWindow.visavis.elementals_on.splice(c,1);$("#discovery_disabled").append('<div class="rearrange" rel="'+b+'">'+wmgui.elemental_names[b]+" (+)</div>");$("#dc_"+b).hide()}else-1==c&&document.getElementById("visavis_iframe").contentWindow.visavis.elementals_on.push(b),$("#discovery_enabled").append('<div class="rearrange" rel="'+b+'">'+wmgui.elemental_names[b]+" (&minus;)</div>"),
$("#dc_"+b).show();a.remove()}));$("#ss_gear_matrix, #ss_gear_cube").click((function(){var a=$(this).attr("id").substr(8);"matrix"==a?($("#ss_z, #sops_z").hide(),$("#ss_x, #ss_y, #sops_x, #sops_y").css("width","50%")):($("#ss_x, #ss_y, #ss_z, #sops_x, #sops_y, #sops_z").css("width","33%"),$("#ss_z, #sops_z").show());var b=$("#ctxpanel_"+a+" > ul > li.embodied").attr("id").split("_")[1],c=$("#ctxpanel_"+a+" > ul > li.ss_y"),d=$("#ctxpanel_"+a+" > ul > li.ss_z"),f=c.length?c.attr("id").split("_")[1]:
b,e=d.length?d.attr("id").split("_")[1]:b,g="",m="",h="";$("#ctxpanel_"+a+" > ul > li").each((function(){var c=$(this),d=c.attr("id").split("_")[1];c=c.contents().filter((function(){return 1!==this.nodeType}))[0].data.substr(3);var k=d==b?' class="ss_x"':"";g+='<li rev="ss_x" rel="x_'+d+'"'+k+">"+c+"</li>";k=d==f?' class="ss_y"':"";m+='<li rev="ss_y" rel="y_'+d+'"'+k+">"+c+"</li>";if("matrix"==a)return!0;k=d==e?' class="ss_z"':"";h+='<li rev="ss_z" rel="z_'+d+'"'+k+">"+c+"</li>"}));$("#ss_x > ul").html(g);
$("#ss_y > ul").html(m);"cube"==a&&$("#ss_z > ul").html(h);$("li.sops_x").removeClass("sops_x");$("li.sops_y").removeClass("sops_y");$("li.sops_z").removeClass("sops_z");var l=["x","y","z"];$("span.sops").each((function(){var a=$(this),b=a.text(),c=a.attr("rel");$("#sops_"+c+' > ul > li:contains("'+b+'")').addClass("sops_"+c);l=l.filter((function(a){return a!==c}))}));l.forEach((function(a){$("#sops_"+a+' > ul > li:contains("none")').addClass("sops_"+a)}));$("#ss_custom_box, #overlay").show()}));$("div.ss_col").on("click",
"li",(function(){var a=$(this),b=a.attr("rev"),c=a.attr("rel").split("_")[0];c="x"==c?"ss_x":"y"==c?"ss_y":"ss_z";$("#"+b+" > ul > li."+c).removeClass(c);a.addClass(c)}));$("div.sops_col").on("click","li",(function(){var a=$(this),b=a.parent().parent().attr("id"),c=b.split("_")[1];c="x"==c?"sops_x":"y"==c?"sops_y":"sops_z";$("#"+b+" > ul > li."+c).removeClass(c);a.addClass(c)}));$("#tips_trigger").click((function(){wmgui.tooltip_var=0;show_tooltip(wmgui.tooltips.advsearch);return!1}));$("#numericbox").on("click",
"div.slider_close",(function(){if(1==$("div.slider_numerics").length)return destroy_numericbox(),delete wmgui.search.numeric,$("#search_field-selectized").val(""),wmgui.multiselects.main.clear(),wmgui.multiselects.main.write(wmgui.search),!1;var a=$(this);a.siblings("div.slider").children("div.slider_numerics")[0].noUiSlider.destroy();a.parent("li").fadeOut(250,(function(){$(this).remove()}))}));$("#numericbox_do_trigger").click((function(){for(var a=document.getElementsByClassName("slider_numerics"),
b=[],c=0;c<a.length;c++){var d=a[c].noUiSlider.get(),f=a[c].getAttribute("rel");b.push([f,">",d[0]]);b.push([f,"<",d[1]])}b.length&&(wmgui.search.numeric=b);$("#advsbox").is(":visible")?$("#advsearch_do_trigger").trigger("click"):$("#search_trigger").trigger("click")}));$("#numericbox_drop_trigger").click((function(){for(var a=document.getElementsByClassName("slider_numerics"),b=0;b<a.length;b++){var c=a[b].noUiSlider.options.range;a[b].noUiSlider.set([c.min,c.max])}}));$("#close_numericbox").click((function(){destroy_numericbox();
delete wmgui.search.numeric;$("#search_field-selectized").val("");wmgui.multiselects.main.clear();wmgui.multiselects.main.write(wmgui.search)}));$(document).keydown((function(a){a=window.event?a.keyCode:a.which;13==a?(a=$(":focus"),a.hasClass("submitter")?a.parent().parent().find("div.def_submittable").trigger("click"):(a.hasClass("advs_input")||(a.attr("id")||"").startswith("advs_fct_"))&&$("#advsearch_do_trigger").trigger("click")):27==a&&(a=$("div.cross:visible"),a.length&&a.trigger("click"))}));
$(window).bind("hashchange",url_redraw_react);$(window).bind("storage",(function(a){if("wm_reload"==a.originalEvent.key&&(a=a.originalEvent.newValue)&&window[a])window[a]()}))};
var wmgui=window.wmgui||{};
function register_html(){$("body").append('\n<div id="notifybox">Web-browser is either busy or not supported: try to <a href="javascript:location.reload()" rel="nofollow">restart</a></div>\n\n<div id="preloader"><div class="rect1"></div><div class="rect2"></div><div class="rect3"></div><div class="rect4"></div><div class="rect5"></div></div>\n\n<div id="overlay" class="sky"></div>\n\n<div id="aetmap"><a style="float:left;" href="#polyhedra" class="link_adjuster"></a><div style="float:right;margin-top:25px;"><input type="checkbox" id="aet_limit" /><label for="aet_limit">&nbsp;No other types</label></div></div>\n\n\x3c!-- TOP-LEFT CORNER MENU --\x3e\n<div id="userbox">\n    <div class="logged_out">\n        <span class="symicon">&#x1f464;</span><span class="user_title">Guest</span>&nbsp;&mdash;&nbsp;<span class="href">log in</span>\n    </div>\n    <div class="logged_in">\n        <span class="symicon">&#x1f464;</span><span class="user_title" id="auth_user"></span><span>(<span class="href">menu</span>)</span>\n    </div>\n</div>\n\n\x3c!-- LANDING AND DATAGRID --\x3e\n<div id="main">\n    <div id="ermac_logo"><a href="#start"></a></div>\n    <div id="search_box">\n        <div id="search_area">\n            <div id="search_holder">\n                <select id="search_field" autocomplete="false" multiple autofocus></select>\n            </div>\n            <a href="#hierarchy" id="hierarchy_trigger" class="wmbutton" title="Show list of properties">&mu;<span><sub>x</sub><sup>&deg;</sup></span></a>\n            <a href="#" id="advsearch_init_trigger" class="wmbutton" title="Show search options">&#9776;</a>\n            <a href="#" id="search_trigger" class="wmbutton" title="Search">&#x23ce;</a>\n        </div>\n\n        <div id="legend"></div>\n\n        <div id="header_entries">\n            <table id="dataheader_entries">\n                <thead><tr>\n                    <th class="c1">Formula</th>\n                    <th class="cp"></th>\n                    <th class="c2">Property</th>\n                    <th class="cj">J. code</th>\n                    <th class="c4">Year</th>\n                    <th class="c5">Ref.</th>\n                </tr></thead>\n            </table>\n        </div>\n\n        <div id="header_phases">\n            <table id="dataheader_phases">\n                <thead><tr>\n                    <th class="p1">Phase</th>\n                    <th class="p2">Space group num.</th>\n                    <th class="p3">Exp. entries</th>\n                    <th class="p4">Publications</th>\n                    <th class="p5"></th>\n                </tr></thead>\n            </table>\n        </div>\n\n        <div id="header_articles">\n            <table id="dataheader_articles">\n                <thead><tr>\n                    <th class="c55">Ref.</th>\n                    <th class="a1">Authors</th>\n                    <th class="a2">Title</th>\n                    <th class="a5">J. name</th>\n                    <th class="cj">J. code</th>\n                    <th class="c4">Year</th>\n                </tr></thead>\n            </table>\n        </div>\n    </div>\n\n    <div id="results"><table id="databrowser"></table></div>\n\n    <div id="loadscroll" class="context_msg">Getting the rest of data...</div>\n    <div id="toomuch" class="context_msg">There are <span></span> results not shown &mdash; please, refine the search.</div>\n    <div id="plthint" class="context_msg">\n        <div id="plt_pie"><a class="plthint_links" title="Plot pie charts (overview)" rel="nofollow" href="/" rev="pie"></a></div>\n        <div id="plt_lit"><a class="plthint_links" title="Plot bar charts (literature)" rel="nofollow" href="/" rev="lit"></a></div>\n        <div id="plt_discovery"><a class="plthint_links" title="Search for patterns (PCA)" rel="nofollow" href="/" rev="discovery"></a></div>\n        <div id="plt_graph"><a class="plthint_links" title="Plot semantic graph" rel="nofollow" href="/" rev="graph"></a></div>\n        <div id="plt_matrix"><a class="plthint_links" title="Plot binaries matrix" rel="nofollow" href="/" rev="matrix"></a></div>\n        <div id="plt_cube"><a class="plthint_links" title="Plot ternaries cube" rel="nofollow" href="/" rev="cube"></a></div>\n    </div>\n\n    <div id="apihint" class="context_msg">Get machine-readable data in full using API: curl -H Key:<a href="#modal/menu">YOUR_API_KEY</a> \'https://api.mpds.io/v0/download/facet?q=<span></span>&amp;fmt=json\'</div>\n\n    <div id="fdwidget" class="context_msg"></div>\n</div>\n\n\x3c!-- LEFT MAIN COLUMN --\x3e\n<div id="refine_col" class="side_cols">\n    <div class="col_title">Filters</div>\n    <div id="rfn_preloader"><div class="rect1"></div><div class="rect2"></div><div class="rect3"></div><div class="rect4"></div><div class="rect5"></div></div>\n    <ul></ul>\n\n    <div id="examples" class="examples">\n        <div class="col_title">Examples</div>\n        <ul></ul>\n    </div>\n</div>\n\n\x3c!-- LEFT CONTEXT COLUMN --\x3e\n<div id="ctx_col" class="side_cols">\n    <div class="col_title">Entry <span id="entryno"></span> <div class="cross _close_ctx" style="margin:12px 2px 0 0;"></div></div>\n\n    <div id="ml_data" class="spinoff_pane">\n        <p>In-house machine-learning predictions</p><span>These data are open and freely available under the CC BY 4.0 license. Cite as: Blokhin, Villars. MPDS: Materials Platform for Data Science, <i>www.mpds.io</i>, in preparation.<br />See the <a target="_blank" href="/materials-design">materials design</a> app and the <a target="_blank" href="/ml">properties prediction</a> app online.<br /><br /></span>\n    </div>\n    <div id="ab_data" class="spinoff_pane">\n        <p>In-house <i>ab initio</i> calculations</p><span>These data are open and freely available under the CC BY 4.0 license. Cite as: Sobolev, Civalleri, Maschio, Erba, Dovesi, Villars, Blokhin. MPDS: Materials Platform for Data Science, <i>www.mpds.io</i>, in preparation.<br />See the <a target="_blank" href="https://mpds.io/labs/dtypes-cmp">data types comparison</a>.<br /><br /></span>\n    </div>\n    <div id="ab_promise" class="spinoff_pane">\n        <p>In-house <i>ab initio</i> calculations</p><span>This calculation is in progress. Upon completion it will be freely available under the CC BY 4.0 license. Support our work purchasing <a href="#products" style="text-decoration:none;color:#000;border-bottom:1px solid #000;">our products</a>.<br /><br /></span>\n    </div>\n\n    <ul>\n        <li id="visualize" class="wmbutton">Visualize</li>\n        <li id="download_pdf" class="d_icon"><a rel="pdf" href="#" target="_blank" title="Get HTML / PDF document" rel="nofollow"></a></li>\n        <li id="download_json" class="d_icon"><a rel="json" href="#" target="_blank" title="Get machine-readable JSON file" rel="nofollow"></a></li>\n        <li id="download_png" class="d_icon"><a rel="png" href="#" target="_blank" title="Get PNG raster image" rel="nofollow"></a></li>\n        <li id="download_cif" class="d_icon"><a rel="cif" href="#" target="_blank" title="Get CIF structure" rel="nofollow"></a></li>\n        <li id="download_inp" class="d_icon"><a rel="inp" href="#" target="_blank" title="Get VASP ab initio simulation input" rel="nofollow"></a></li>\n        <li id="download_cdr" class="d_icon"><a rel="cdr" href="#" target="_blank" title="Get CorelDRAW vector image" rel="nofollow"></a></li>\n        <li id="download_bib" class="d_icon"><a rel="bib" href="#" target="_blank" title="Get original citation" rel="nofollow"></a></li>\n        <li id="download_raw" class="d_icon"><a rel="raw" href="#" target="_blank" title="Get raw calculation data" rel="nofollow"></a></li>\n    </ul>\n</div>\n\n\x3c!-- LEFT PLOTTING COLUMN --\x3e\n<div id="visavis_col" class="side_cols">\n    <div class="col_title">Plot type</div>\n    <ul>\n        <li id="pltchoice_pie"><a class="pltcol_links" href="/" rel="nofollow" rev="pie">overview</a></li>\n        <li id="pltchoice_graph"><a class="pltcol_links" href="/" rel="nofollow" rev="graph">semantic graph</a></li>\n        <li id="pltchoice_discovery"><a class="pltcol_links" href="/" rel="nofollow" rev="discovery">discovery of patterns</a></li>\n        <li id="pltchoice_matrix"><a class="pltcol_links" href="/" rel="nofollow" rev="matrix">binary compounds</a></li>\n        <li id="pltchoice_cube"><a class="pltcol_links" href="/" rel="nofollow" rev="cube">ternary compounds</a></li>\n        <li id="pltchoice_qproj"><a class="pltcol_links" href="/" rel="nofollow" rev="qproj">quaternary compounds</a></li>\n        <li id="pltchoice_lit"><a class="pltcol_links" href="/" rel="nofollow" rev="lit">source literature</a></li>\n    </ul>\n\n    <div id="cmppanel_plots" class="ctxpanel">\n        <div class="col_title">Comparison</div>\n        <select id="select_cmp_trigger"></select>\n    </div>\n\n    <div id="ctxpanel_plots">\n        <div id="ctxpanel_matrix" class="ctxpanel">\n            <div class="col_title">Sorting <div id="ss_gear_matrix" class="gear"></div></div>\n            <ul>\n                <li id="vismatrix_count">by occurence</li>\n                <li id="vismatrix_num">by atomic number</li>\n                <li id="vismatrix_nump">by periodic number</li>\n                <li id="vismatrix_size">by atomic size</li>\n                <li id="vismatrix_rea">by atomic reactivity</li>\n                <li id="vismatrix_rpp">by pseudopotential radii</li>\n                <li id="vismatrix_rion">by ionic radii</li>\n                <li id="vismatrix_rcov">by covalent radii</li>\n                <li id="vismatrix_rmet">by metallic radii</li>\n                <li id="vismatrix_tmelt">by melting temperature</li>\n                <li id="vismatrix_eneg">by electronegativity</li>\n            </ul>\n        </div>\n\n        <div id="ctxpanel_cube" class="ctxpanel">\n            <div class="col_title">Sorting <div id="ss_gear_cube" class="gear"></div></div>\n            <ul>\n                <li id="viscube_num">by atomic number</li>\n                <li id="viscube_nump">by periodic number</li>\n                <li id="viscube_size">by atomic size</li>\n                <li id="viscube_rea">by atomic reactivity</li>\n                <li id="viscube_rpp">by pseudopotential radii</li>\n                <li id="viscube_rion">by ionic radii</li>\n                <li id="viscube_rcov">by covalent radii</li>\n                <li id="viscube_rmet">by metallic radii</li>\n                <li id="viscube_tmelt">by melting temperature</li>\n                <li id="viscube_eneg">by electronegativity</li>\n            </ul>\n        </div>\n\n        <div id="ctxpanel_graph" class="ctxpanel">\n            <div class="col_title">Node type</div>\n            <ul>\n                <li id="visgraph_props">physical properties</li>\n                <li id="visgraph_aetypes">polyhedral types</li>\n                <li id="visgraph_lattices">crystal systems</li>\n                <li id="visgraph_articles">publications</li>\n                <li id="visgraph_geos">countries</li>\n            </ul>\n        </div>\n\n        <div id="ctxpanel_discovery" class="ctxpanel">\n            <div class="col_title">Active axes</div>\n            <ul>\n                <li class="discovery_custom" id="dc_num">atomic number</li>\n                <li class="discovery_custom" id="dc_nump" style="display:block;">periodic number</li>\n                <li class="discovery_custom" id="dc_size">atomic size</li>\n                <li class="discovery_custom" id="dc_rea">atomic reactivity</li>\n                <li class="discovery_custom" id="dc_rpp">pseudopotential radii</li>\n                <li class="discovery_custom" id="dc_rion">ionic radii</li>\n                <li class="discovery_custom" id="dc_rcov">covalent radii</li>\n                <li class="discovery_custom" id="dc_rmet">metallic radii</li>\n                <li class="discovery_custom" id="dc_tmelt">melting temperature</li>\n                <li class="discovery_custom" id="dc_eneg">electronegativity</li>\n            </ul>\n        </div>\n    </div>\n</div>\n\n\x3c!-- RIGHT MAIN COLUMN --\x3e\n<div id="right_col" class="side_cols">\n    <div class="col_title">Options</div>\n\n    <div class="controlswitch">\n        <div id="control_a">entries</div><div id="control_b">phases</div><div id="control_f">articles</div>\n    </div>\n\n    <div class="controlswitch">\n        <div id="control_c">table</div><div id="control_d">previews</div><div id="control_e">plots</div>\n    </div>\n\n    <ul id="interpret"></ul>\n\n    <div id="dtypes">\n        <div class="col_title">Data types</div>\n        <ul>\n            <li class="fct_props dtypes_props" data-facet="props" data-term="crystal structure">crystal structures</li>\n            <li class="fct_props dtypes_props" data-facet="props" data-term="phase diagram">phase diagrams</li>\n            <li class="fct_props dtypes_props" data-facet="props" data-term="physical properties">physical properties</li>\n            <li class="fct_classes dtypes_classes" data-facet="classes" data-term="peer-reviewed" style="margin-top:15px;">peer-reviewed experimental</li>\n            <li class="fct_classes dtypes_classes" data-facet="classes" data-term="machine-learning">machine-learning</li>\n            <li class="fct_classes dtypes_classes" data-facet="classes" data-term="ab initio calculations">ab initio modeling</li>\n        </ul>\n    </div>\n\n    <div id="history">\n        <div class="col_title">Last searches</div>\n        <ul></ul>\n    </div>\n</div>\n\n\x3c!-- RIGHT CONTEXT COLUMN --\x3e\n<div id="sim_col" class="side_cols">\n    <div class="col_title">See also <div class="cross _close_ctx" style="margin:12px 2px 0 0;"></div></div>\n    <div id="sim_preloader"><div class="rect1"></div><div class="rect2"></div><div class="rect3"></div><div class="rect4"></div><div class="rect5"></div></div>\n\n    <div id="own_phase" class="sim_col_ctx"></div>\n\n    <div id="sim_legend"></div>\n\n    <ul></ul>\n\n    <a id="sim_trigger" href="#" class="wmbutton sim_col_ctx" rel="nofollow">Show all</a>\n\n    <div id="pd_legend" class="sim_col_ctx">\n        <div class="col_title">Area colors</div>\n        <ul>\n            <li>liquid or gas <span style="color:#fff;background:#9cf;padding:2px;">blue or violet</span></li>\n            <li>1-phase <span style="color:#fff;background:#d1cde6;padding:2px;">violet</span></li>\n            <li>2-phase <span style="color:#fff;background:#ddd;padding:2px;">gray or white</span></li>\n            <li>3-phase <span style="color:#fff;background:#fc6;padding:2px;">yellow</span></li>\n            <li>4-phase <span style="color:#fff;background:#FCD3C2;padding:2px;">red</span></li>\n            <li>5-phase <span style="color:#fff;background:#CCE7D4;padding:2px;">green</span></li>\n        </ul>\n    </div>\n</div>\n\n\x3c!-- ADVANCED SEARCH MODAL --\x3e\n<div id="advsbox" class="modal user_dialogue">\n    <ul id="advstab_options">\n        <li rev="advstab_bib">bibliography</li>\n        <li rev="advstab_cry">crystallography</li>\n        <li rev="advstab_main">basics</li>\n    </ul>\n\n    <div id="advstab_main" class="advstab">\n        <div class="cross close_advs_dialogue" style="margin-top:22px;"></div>\n        <div style="clear:both;"></div>\n        <div class="advs advs_formulae">\n            <div class="advs_capt">Chemical formula</div>\n            <input type="text" id="advs_fct_formulae" class="advs_input" maxlength="200" spellcheck="false" />\x3c!-- no autocomplete --\x3e\n            <div class="advs_legend"><i>e.g.</i> <a href="#" tabindex="-1">Ca3(PO4)2</a> or <a href="#" tabindex="-1">ABC3</a></div>\n        </div>\n        <div class="advs advs_elements">\n            <div class="advs_capt">Chemical elements</div>\n            <input type="text" id="advs_fct_elements" class="advs_input" maxlength="100" spellcheck="false" />\x3c!-- no autocomplete --\x3e\n            <div class="advs_legend"><i>e.g.</i> <a href="#" tabindex="-1">Co-Te-Pb</a></div>\n        </div>\n        <div class="advs advs_props">\n            <div class="advs_capt">Physical property</div>\n            <input type="text" id="advs_fct_props" class="advs_input" rel="props" maxlength="200" spellcheck="true" />\x3c!-- simple autocomplete --\x3e\n            <div class="advs_legend"><i>e.g.</i> <a href="#" tabindex="-1">crystal structure</a> or <a href="#" tabindex="-1">EXAFS</a>, <span>see <a href="#hierarchy" style="color:#c00;border-bottom:1px solid #c00;">the hierarchy</a></span></div>\n        </div>\n        <div class="advs advs_classes" style="margin-bottom:3vmin;">\n            <div class="advs_capt">Materials class</div>\n            <select id="advs_fct_classes" autocomplete="false"></select>\x3c!-- multiselect autocomplete --\x3e\n            <div class="advs_legend" data-multiselects="classes"><i>e.g.</i> <a href="#" tabindex="-1">hydride, nonmetal</a> or <a href="#" tabindex="-1">machine learning</a></div>\n        </div>\n    </div>\n\n    <div id="advstab_bib" class="advstab">\n        <div class="cross close_advs_dialogue" style="margin-top:22px;"></div>\n        <div style="clear:both;"></div>\n        <div class="advs advs_authors">\n            <div class="advs_capt">Publication author</div>\n            <select id="advs_fct_authors" autocomplete="false"></select>\x3c!-- multiselect autocomplete --\x3e\n            <div class="advs_legend" data-multiselects="authors"><i>e.g.</i> <a href="#" tabindex="-1">Maier, Merkle</a></div>\n        </div>\n        <div class="advs advs_years">\n            <div class="advs_capt">Publication years</div>\n            <input type="text" id="advs_fct_years" class="advs_input" maxlength="20" spellcheck="false" />\x3c!-- no autocomplete --\x3e\n            <div class="advs_legend"><i>e.g.</i> <a href="#" tabindex="-1">2000-2021</a> or <a href="#" tabindex="-1">1955</a></div>\n        </div>\n        <div class="advs advs_codens">\n            <div class="advs_capt">Journal or book</div>\n            <input type="text" id="advs_fct_codens" class="advs_input" rel="codens" maxlength="200" style="letter-spacing:-1px;" spellcheck="true" />\x3c!-- simple autocomplete --\x3e\n            <div class="advs_legend"><i>e.g.</i> <a href="#" tabindex="-1">Physical Review Letters</a></div>\n        </div>\n        <div class="advs advs_doi">\n            <div class="advs_capt">Publication DOI</div>\n            <input type="text" id="advs_fct_doi" class="advs_input u-url url" maxlength="200" style="letter-spacing:-1px;" spellcheck="false" />\x3c!-- no autocomplete --\x3e\n            <div class="advs_legend"><i>e.g.</i> <a href="#" tabindex="-1">10.1103/physrevb.88.241407</a></div>\n        </div>\n        <div class="advs advs_geos">\n            <div class="advs_capt">Geography</div>\n            <input type="text" id="advs_fct_geos" class="advs_input geo" rel="geos" maxlength="150" spellcheck="true" />\x3c!-- simple autocomplete --\x3e\n            <div class="advs_legend"><i>e.g.</i> <a href="#" tabindex="-1">USA</a> or <a href="#" tabindex="-1">Haikou, Hainan, China</a></div>\n        </div>\n        <div class="advs advs_orgs" style="margin-bottom:3vmin;">\n            <div class="advs_capt">Organization</div>\n            <input type="text" id="advs_fct_orgs" class="advs_input p-org org" rel="orgs" maxlength="200" spellcheck="true" />\x3c!-- simple autocomplete --\x3e\n            <div class="advs_legend"><i>e.g.</i> <a href="#" tabindex="-1">Thermo-Calc</a> or <a href="#" tabindex="-1">Boeing</a></div>\n        </div>\n    </div>\n\n    <div id="advstab_cry" class="advstab">\n        <div class="cross close_advs_dialogue" style="margin-top:22px;"></div>\n        <div style="clear:both;"></div>\n        <div class="advs advs_lattices">\n            <div class="advs_capt">Crystal system</div>\n            <input type="text" id="advs_fct_lattices" class="advs_input" rel="lattices" maxlength="20" spellcheck="true" />\x3c!-- simple autocomplete --\x3e\n            <div class="advs_legend"><i>e.g.</i> <a href="#" tabindex="-1">cubic</a></div>\n        </div>\n        <div class="advs advs_sgs">\n            <div class="advs_capt">Space group</div>\n            <input type="text" id="advs_fct_sgs" class="advs_input" rel="sgs" maxlength="20" spellcheck="false" />\x3c!-- simple autocomplete --\x3e\n            <div class="advs_legend"><i>e.g.</i> <a href="#" tabindex="-1">Fm-3m</a> or <a href="#" tabindex="-1">225</a></div>\n        </div>\n        <div class="advs advs_protos">\n            <div class="advs_capt">Prototype</div>\n            <input type="text" id="advs_fct_protos" class="advs_input" rel="protos" maxlength="100" spellcheck="false" />\x3c!-- simple autocomplete --\x3e\n            <div class="advs_legend"><i>e.g.</i> <a href="#" tabindex="-1">Ca2Nb2O7 cF88 227</a> or <a href="#" tabindex="-1">D51</a></div>\n        </div>\n        <div class="advs advs_aetypes">\n            <div class="advs_capt">Polyhedral type</div>\n            <select id="advs_fct_aetypes" autocomplete="false"></select>\x3c!-- multiselect autocomplete --\x3e\n            <div class="advs_legend" data-multiselects="aetypes"><i>e.g.</i> <a href="#" tabindex="-1">octahedron 6-vertex</a>, <span>see <a href="#polyhedra" class="link_adjuster" style="color:#c00;border-bottom:1px solid #c00;">all polyhedra</a></span></div>\n        </div>\n        <div class="advs advs_aeatoms">\n            <div class="advs_capt">Polyhedron atoms</div>\n            <input type="text" id="advs_fct_aeatoms" class="advs_input" maxlength="100" spellcheck="false" />\x3c!-- no autocomplete --\x3e\n            <div class="advs_legend"><i>e.g.</i> <a href="#" tabindex="-1">U</a> or <a href="#" tabindex="-1">X-Se</a> or <a href="#" tabindex="-1">UO6</a> or <a href="#" tabindex="-1">UX7</a></div>\n        </div>\n\n        <div id="crtab">\n            <div>Lattice <i>a</i>, &nbsp;<strong class="numeric" title="Numeric search" rel="alat">&#8491;  &nbsp;[1.5 &mdash; 20]&nbsp;&#x1F50D;</strong></div>\n            <div><i>a</i>/<i>b</i>, &nbsp;<strong class="numeric" title="Numeric search" rel="a--b"> &nbsp;[0.1 &mdash; 10]&nbsp;&#x1F50D;</strong></div>\n            <div>Lattice <i>b</i>, &nbsp;<strong class="numeric" title="Numeric search" rel="blat">&#8491;  &nbsp;[1.5 &mdash; 20]&nbsp;&#x1F50D;</strong></div>\n            <div><i>b</i>/<i>c</i>, &nbsp;<strong class="numeric" title="Numeric search" rel="b--c"> &nbsp;[0.1 &mdash; 10]&nbsp;&#x1F50D;</strong></div>\n            <div>Lattice <i>c</i>, &nbsp;<strong class="numeric" title="Numeric search" rel="clat">&#8491;  &nbsp;[1.5 &mdash; 20]&nbsp;&#x1F50D;</strong></div>\n            <div><i>c</i>/<i>a</i>, &nbsp;<strong class="numeric" title="Numeric search" rel="c--a"> &nbsp;[0.1 &mdash; 10]&nbsp;&#x1F50D;</strong></div>\n            <div>Cell volume, &nbsp;<strong class="numeric" title="Numeric search" rel="volume">&#8491;<sup>3</sup>  &nbsp;[3 &mdash; 10<sup>4</sup>]&nbsp;&#x1F50D;</strong></div>\n            <div>Density, &nbsp;<strong class="numeric" title="Numeric search" rel="density"> Mg/m<sup>3</sup>  &nbsp;[0.1 &mdash; 30]&nbsp;&#x1F50D;</strong></div>\n        </div>\n\n    </div>\n\n    <div id="advstab_triggers">\n        <div id="advsearch_do_trigger" class="wmbutton" title="Search">&#x23ce;</div>\n        <div id="advsearch_drop_trigger" class="wmbutton" title="Clear all fields">&#x232b;</div>\n    </div>\n</div>\n\n\x3c!-- LOGIN MODAL --\x3e\n<div id="loginbox" class="modal user_dialogue">\n    <div class="cross close_user_dialogue"></div>\n    <br />\n\n    <div><label for="login_email">Email:</label></div>\n    <div><input type="email" id="login_email" class="submitter" maxlength="100" autocomplete="off" /></div>\n    <div><label for="login_password">Password:</label></div>\n    <div><input type="password" id="login_password" class="submitter" maxlength="100" autocomplete="off" /></div>\n\n    <div style="width:150px;margin:25px auto;">\n        <div id="login_trigger" class="wmbutton def_submittable">Log in</div>\n    </div>\n    <div class="notice">or email <span class="href" rel="#modal/restore">an access link</span><br />or log in via <a href="/github_oauth.html" rel="nofollow noopener noreferrer">GitHub</a> or <a href="/orcid_oauth.html" rel="nofollow noopener noreferrer">ORCID</a> or <a href="/linkedin_oauth.html" rel="nofollow noopener noreferrer">LinkedIn</a></div>\n</div>\n\n\x3c!-- RESTORE MODAL --\x3e\n<div id="restorebox" class="modal user_dialogue">\n    <div class="cross close_user_dialogue"></div>\n    <br />\n\n    <div><label for="restore_by_email">Email:</label></div>\n    <div><input type="email" id="restore_by_email" class="submitter" maxlength="100" autocomplete="off" /></div>\n\n    <div style="width:150px;margin:25px auto;">\n        <div id="restore_trigger" class="wmbutton def_submittable">Send link</div>\n    </div>\n    <div class="notice">or log in with <span class="href" rel="#modal/login">password</span><br />or via <a href="/github_oauth.html" rel="nofollow noopener noreferrer">GitHub</a> or <a href="/orcid_oauth.html" rel="nofollow noopener noreferrer">ORCID</a> or <a href="/linkedin_oauth.html" rel="nofollow noopener noreferrer">LinkedIn</a></div>\n</div>\n\n\x3c!-- USER MENU MODAL --\x3e\n<div id="menubox" class="modal user_dialogue">\n    <ul id="tab_links">\n        <li rev="usr_tab_account" class="working">account</li>\n        <li rev="usr_tab_perms">data access</li>\n        <li rev="usr_tab_api_key">API key</li>\n        <li rev="usr_tab_ctrl" style="display:none;" class="admin">management</li>\n    </ul>\n\n    <div id="usr_tab_account" class="menu_tabs">\n        <div class="cross close_user_dialogue" style="margin-top:25px;"></div>\n        <div style="clear:both;"></div>\n        <div class="divider"></div>\n\n        <div id="account_holder_name"></div>\n        <div id="account_holder_acclogin">Login: <span></span></div>\n        <div id="account_holder_accpass">Password: <span>change</span></div>\n\n        <div id="account_pass_change" style="display:none;">\n            <div id="account_pass_hint">MPDS password is optional.<br />If not set, other ways to log in can be used.</div>\n\n            <div><label for="new_password_1">New password:</label></div>\n            <div><input type="password" id="new_password_1" class="submitter" maxlength="100" /></div>\n            <div><label for="new_password_2">Again to make sure:</label></div>\n            <div><input type="password" id="new_password_2" class="submitter" maxlength="100" /></div>\n\n            <div style="width:150px;margin:25px auto 0;">\n                <div id="password_trigger" class="wmbutton def_submittable">Change</div>\n            </div>\n        </div>\n\n        <div class="divider"></div>\n\n        <div style="width:150px;margin:30px auto 10px;">\n            <div id="logout_trigger" class="wmbutton" style="background:#c00;border-color:#c00;">Logout</div>\n        </div>\n    </div>\n\n    <div id="usr_tab_perms" class="menu_tabs" style="display:none;">\n        <div class="cross close_user_dialogue" style="margin-top:25px;"></div>\n        <div style="clear:both;"></div>\n        <div class="divider"></div>\n\n        <div id="perms_view"></div>\n    </div>\n\n    <div id="usr_tab_api_key" class="menu_tabs" style="display:none;">\n        <div class="cross close_user_dialogue" style="margin-top:25px;"></div>\n        <div style="clear:both;"></div>\n        <div class="divider"></div>\n\n        <h3>API key for the remote requests</h3>\n\n        <div id="usr_api_key"></div>\n\n        <div id="revoke_usr_api_key_holder" style="display:none;width:150px;margin:30px auto 10px;">\n            <div id="revoke_usr_api_key" class="wmbutton" style="background:#c00;border-color:#c00;">Revoke</div>\n        </div>\n        <div id="create_usr_api_key_holder" style="display:none;width:150px;margin:30px auto 10px;">\n            <div id="create_usr_api_key" class="wmbutton">Create</div>\n        </div>\n    </div>\n\n    <div id="usr_tab_ctrl" class="menu_tabs" style="display:none;">\n        <br /><br /><br /><br /><br />\n    </div>\n</div>\n\n\x3c!-- USER MENU COLLATERAL WINDOWS --\x3e\n<div id="hintsbox" class="menu_collateral">\n    <div id="hintsbox_logo"></div>\n    <div id="hintsbox_msg"></div>\n</div>\n<div id="tagcloudbox" class="menu_collateral"></div>\n\n\x3c!-- NEW PROPS HIERARCHY MODAL --\x3e\n<div id="hy_box" class="modal user_dialogue">\n    <ul id="hy_options">\n        <li rev="hy_scalars" class="working">scalars</li>\n        <li rev="hy_complex">objects and arrays</li>\n        <li rev="hy_textual">textual data</li>\n        <li rev="hy_vis">visualization</li>\n    </ul>\n\n    <div id="hy_scalars" class="hy_tabs">\n        <div class="cross close_hy_dialogue" style="margin-top:25px;"></div><div style="clear:both;"></div>\n        <ul></ul>\n    </div>\n    <div id="hy_complex" class="hy_tabs" style="display:none;">\n        <div class="cross close_hy_dialogue" style="margin-top:25px;"></div><div style="clear:both;"></div>\n        <ul></ul>\n    </div>\n    <div id="hy_textual" class="hy_tabs" style="display:none;">\n        <div class="cross close_hy_dialogue" style="margin-top:25px;"></div><div style="clear:both;"></div>\n        <ul></ul>\n    </div>\n\n    <div id="hy_suggest_holder">\n        <div class="divider"></div>\n        <input type="text" id="hy_suggest" maxlength="200" placeholder="Or type property here..." rel="props" />\n    </div>\n</div>\n\n\x3c!-- PLOTS EMBED --\x3e\n<div id="visavis"><iframe id="visavis_iframe" frameborder=0 scrolling="no" width="100%" height="100%" src="/visavis/"></iframe></div>\x3c!-- NB relative URL --\x3e\n\n\x3c!-- DISCOVERY SETTINGS MODAL --\x3e\n<div id="discovery_custom_box" class="modal user_dialogue">\n    <div id="close_dc_dialogue" class="cross"></div>\n    <h3>Used properties</h3>\n    <div id="discovery_enabled"></div>\n    <div class="divider"></div>\n    <h3>Unused properties</h3>\n    <div id="discovery_disabled"></div>\n    <div class="notice" id="discovery_custom_box_msg" style="width:60%;margin:45px auto 0;text-align:center;font-size:0.95em;line-height:2.5vh;background:#ffd;padding:15px;">Click labels to rearrange.</div>\n</div>\n\n\x3c!-- ALL POLYHEDRA MODAL --\x3e\n<div id="all_polyhedra_box" class="modal user_dialogue">\n    <div id="close_ph_dialogue" class="cross" style="margin:18px;"></div>\n    <div style="width:100%;text-align:center;font-size:1.25em;line-height:4vh;letter-spacing:0.5px;padding:2.6em 0 0.5em;">The most common polyhedral types</div>\n    <div class="divider"></div>\n    <div id="all_polyhedra_content"></div>\n</div>\n\n\x3c!-- SORTING SETTINGS MODAL --\x3e\n<div id="ss_custom_box" class="modal user_dialogue">\n    <div id="close_ss_dialogue" class="cross"></div>\n    <div style="clear:both;width:100%;"></div>\n    <div id="ss_x" class="ss_col"><h3>First axis</h3><ul></ul></div>\n    <div id="ss_y" class="ss_col"><h3>Second axis</h3><ul></ul></div>\n    <div id="ss_z" class="ss_col"><h3>Third axis</h3><ul></ul></div>\n    <h3>Joint sort operators</h3>\n    <div id="sops_x" class="sops_col"><ul><li>none</li><li>sum</li><li>diff</li><li>product</li><li>ratio</li><li>max</li><li>min</li></ul></div>\n    <div id="sops_y" class="sops_col"><ul><li>none</li><li>sum</li><li>diff</li><li>product</li><li>ratio</li><li>max</li><li>min</li></ul></div>\n    <div id="sops_z" class="sops_col"><ul><li>none</li><li>sum</li><li>diff</li><li>product</li><li>ratio</li><li>max</li><li>min</li></ul></div>\n</div>\n\n\x3c!-- HELP BOXES --\x3e\n<div id="tooltip" class="modal"><div></div></div>\n\n\x3c!-- NUMERIC SEARCH SMART BOX --\x3e\n<div id="numericbox">\n    <div id="close_numericbox" class="cross" style="margin:12px 8px 8px 0;"></div>\n    <ul></ul>\n    <div id="numericbox_triggers" style="margin-top:10px;">\n        <a href="#hierarchy" title="Add new property range" style="display:inline-block;width:20px;height:20px;font-size:35px;line-height:20px;color:#ccc;text-decoration:none;margin-left:150px;border:2px solid #ccc;border-radius:15px;">+</a>\n        <div id="numericbox_do_trigger" class="wmbutton" title="Search" style="margin-left:325px;">&#x23ce;</div>\n        <div id="numericbox_drop_trigger" class="wmbutton" title="Clear all fields">&#x232b;</div>\n    </div>\n</div>\n\n<div id="footer">Editor-in-Chief: Pierre Villars. Section editors: Karin Cenzual, Ihor Savysyuk, Riccarda Caputo. Developed by <a href="https://tilde.pro" target="_blank">Tilde MI</a>.</div>\n')};
var wmgui=window.wmgui||{};wmgui.notify=function(b){var a=0;wmgui.notify_counter&&(clearInterval(wmgui.notify_counter),wmgui.notify_counter=null,a=1500);setTimeout((function(){$("#notifybox").html(wmgui.clean(b)).show();wmgui.notify_counter=setTimeout((function(){$("#notifybox").hide()}),5E3)}),a)};
wmgui.aug_search_cmd=function(b,a){for(var d=[["elements","formulae"],["formulae","elements"],["lattices","sgs"],["sgs","lattices"],["protos","sgs"],["sgs","protos"],["lattices","protos"],["protos","lattices"]],c=0;c<d.length;c++)if(wmgui.search[d[c][0]]&&b==d[c][1]){delete wmgui.search[d[c][0]];break}var e=!1;$.each(wmgui.inquiries,(function(a,g){if(wmgui.search[g]||g==b)return e=!0,!1}));if(e){var f={};$.each(wmgui.facets,(function(g,c){wmgui.search[c]&&c==b?-1!==wmgui.multi_facets.indexOf(c)?f[c]=
wmgui.search[c]+","+a:f[c]=a:wmgui.search[c]?f[c]=wmgui.search[c]:c==b&&(f[c]=a)}));return"#inquiry/"+$.param(f)}var g="";$.each(wmgui.facets,(function(c,d){wmgui.search[d]&&d==b?g="classes"==d?g+(wmgui.search[d]+" "+a+" "):g+(a+" "):wmgui.search[d]?g+=wmgui.search[d]+" ":d==b&&(g+=a+" ")}));return"#search/"+g.substr(0,g.length-1)};
wmgui._selectize_read_main=function(){var b={};$("#search_holder div.selectize-input.items").children().each((function(){if("DIV"===this.tagName){var a=this.getAttribute("data-facet");-1!==wmgui.other_facets.indexOf(a)&&wmgui.search[a]?b[a]=wmgui.search[a]:"numeric"==a?wmgui.search[a]&&(b[a]="",wmgui.search[a].forEach((function(d){b[a]+=serialize_numeric.apply(this,d)})),b[a].length&&(b[a]=b[a].substr(0,b[a].length-1))):b[a]&&"elements"==a?b[a]+="-"+this.getAttribute("data-term"):b[a]&&-1!==wmgui.multi_facets.indexOf(a)?
b[a]+=", "+this.getAttribute("data-term"):b[a]="formulae"==a?this.getAttribute("data-term").replaceAll("<sub>","").replaceAll("</sub>",""):this.getAttribute("data-term")}}));return b};wmgui._selectize_read_facet=function(b){var a={};$("div.advs_"+b+" div.selectize-input.items").children().each((function(){if("DIV"===this.tagName){var b=this.getAttribute("data-facet");a[b]=a[b]?a[b]+(", "+this.getAttribute("data-term")):this.getAttribute("data-term")}}));return a};
wmgui._selectize_write=function(b,a,d){var c={};$.extend(c,d);if("main"==a){a="formulae props elements classes lattices aetypes".split(" ");for(d=0;d<wmgui.other_facets.length;d++)c[wmgui.other_facets[d]]&&b.display(wmgui.other_facets[d],wmgui.facet_names[wmgui.other_facets[d]].toLowerCase());c.numeric&&b.display("numeric","range search")}else a=[a];a.forEach((function(a){c[a]&&("elements"==a&&0<c[a].indexOf("-")?c[a].split("-").forEach((function(c){b.display(a,c)})):-1!==wmgui.multi_facets.indexOf(a)&&
0<c[a].indexOf(",")?c[a].split(",").forEach((function(c){b.display(a,c)})):("formulae"==a&&(c[a]=WMCORE.to_formula(c[a])),b.display(a,c[a])))}));b.clearOptions()};wmgui._selectize_display=function(b,a,d){var c=Math.floor(1E3*Math.random());b.addOption({facet:a,label:d,id:c});b.addItem(c)};function show_interpretation(b){$("#interpret").html(wmgui.clean(WMCORE.get_interpretation(b,wmgui.facet_names,wmgui.numerics)))}
function re_view_request(b){var a=[];$.each(wmgui.search,(function(b,c){if("search_type"==b)return!0;a.push(c)}));a.length&&(wmgui.search_type=b,wmgui.search.search_type=b,request_search(wmgui.search,a.join(" "),!0))}
function request_search(b,a,d){if(!manage_visavis(rebuild_history_box,b,a)){try{wmgui.active_ajax.abort()}catch(c){}try{wmgui.quick_ajax.abort()}catch(c){}wmgui.active_ajax=$.ajax({type:"GET",url:wmgui.srch_endpoint,data:{q:JSON.stringify(b),sid:wmgui.sid},beforeSend:wmgui.show_preloader}).always(wmgui.hide_preloader).done((function(c){if(c.error)return wmgui.notify(c.error);a=a.replaceAll("%2F","/");if(!c.out.length)return wmgui.notify("No results for <b>"+a+"</b>");wmgui.fuzzyout=!1;c.fuzzy_notice&&
(wmgui.fuzzyout=!0,wmgui.notify(c.fuzzy_notice));document.title=(150<c.estimated_count?"At least ":"")+c.estimated_count+(1==c.estimated_count?" result":" results");switch_view_mode(2);wmgui.chosen_table_browser||(wmgui.thumbed_display=c.out.length>wmgui.ntab_tolerance);if(wmgui.thumbed_display){var e=$("#databrowser");e.removeClass().addClass("thumbed").empty().append("<tr><td>"+build_thumbs(c.out)+"</td></tr>");$("#results").slideDown(250)}else e=$("#databrowser"),e.removeClass().addClass("tabled").empty().append(build_cells(c.out,
"<tbody>","</tbody>")),$("#results").slideDown(250),2==wmgui.search_type?(e.addClass("tablesorter").tablesorter({sortMultiSortKey:"ctrlKey",headers:{0:{sorter:"doi"},6:{sorter:"digit"}},selectorHeaders:"#dataheader_articles > thead > tr > th",selectorHeaderParent:"dataheader_articles"}),$("#header_articles").show()):1==wmgui.search_type?(e.addClass("tablesorter").tablesorter({sortMultiSortKey:"ctrlKey",headers:{0:{sorter:"chemical"},1:{sorter:"digit"},2:{sorter:"digit"},3:{sorter:"digit"},4:{sorter:!1}},
selectorHeaders:"#dataheader_phases > thead > tr > th",selectorHeaderParent:"dataheader_phases"}),$("#header_phases").show()):(e.addClass("tablesorter").tablesorter({sortMultiSortKey:"ctrlKey",headers:{0:{sorter:"chemical"},1:{sorter:!1},5:{sorter:"doi"}},selectorHeaders:"#dataheader_entries > thead > tr > th",selectorHeaderParent:"dataheader_entries"}),$("#header_entries").show());wmgui.unfinished_page=!1;wmgui.search_type||b.phid?(c.estimated_count>=3*wmgui.quick_page_size&&$("#toomuch span").html("other").parent().show(),
show_hints(b.entry||b.interlinkage)):c.estimated_count>wmgui.quick_page_size+wmgui.fetch_page_size?($("#toomuch span").html("nearly "+(c.estimated_count-wmgui.quick_page_size)).parent().show(),show_hints(b.entry)):c.estimated_count>wmgui.quick_page_size?($("#loadscroll").show(),wmgui.unfinished_page=!0):show_hints(b.entry);wmgui.visavis_terminating&&stop_visavis();wmgui.search_type||b.phid||b.entry||b.interlinkage||b.doi||b.numeric?(display_examples("#examples",!0,!0),b.phid||b.entry||b.interlinkage?
switch_control_mode(9,11,"a","c"):b.numeric?(switch_control_mode(1,12,"b",!1),destroy_numericbox(),$.each(get_sliders_ranges(b.numeric,wmgui.numerics),(function(b,a){create_floating_slider.apply(this,a)}))):switch_control_mode(1,10,!1,!1),b.entry&&"S"==b.entry.substr(0,1)&&(c=$("#e__"+b.entry),c.removeClass("busy_entry"),open_context(c,!0))):(wmgui.fuzzyout?switch_control_mode(1,11,"a",!1):switch_control_mode(0,10,!1,!1),request_refinement(b,c.estimated_count>wmgui.quick_page_size));b.numeric||(destroy_numericbox(),
delete wmgui.search.numeric);b.props&&wmgui.numerics[b.props]&&(c=wmgui.numerics[b.props],create_floating_slider(b.props,c[0],c[1],c[2],c[3],c[4]));d||rebuild_history_box(b,a)})).fail((function(b,a,d){"abort"!=a&&wmgui.notify("Connection to server is lost, please try to <a href=javascript:location.reload()>reload</a>")}))}}
function rebuild_history_box(b,a){var d={};wmgui.facets.forEach((function(a){b[a]&&(d[a]=b[a])}));var c=!1;$.each(wmgui.inquiries,(function(b,a){if(d[a])return c=!0,!1}));var e=[];for(f in d)e.push(d[f].toLowerCase());e.sort();var f=e.join(" ");e=JSON.parse(window.localStorage.getItem("wm_search_log_v4")||"[]");var g=[];8<e.length&&(e=e.slice(0,7));$.each(e,(function(b,a){b=[];for(var c in a)b.push(a[c].toLowerCase());b.sort();g.push(b.join(" "))}));-1==g.indexOf(f)&&(a=c?'<a href="#inquiry/'+$.param(d)+
'">'+a+"</a>":'<a href="#search/'+escape(a)+'">'+a+"</a>",$("#history ul").prepend("<li>"+wmgui.clean(a)+"</li>"),e.unshift(d),window.localStorage.setItem("wm_search_log_v4",JSON.stringify(e)),8<$("#history ul li").length&&$("#history ul li:last").remove());wmgui.tooltip_var++;1==wmgui.tooltip_var&&setTimeout((function(){show_tooltip(wmgui.tooltips.interpretation)}),3E3)}
function rebuild_visavis(){var b=window.location.hash.indexOf("search/");if(-1==b&&(b=window.location.hash.indexOf("inquiry/"),-1==b))return;var a=window.location.hash.substr(b);$("a.pltcol_links").each((function(){var b=$(this),d=b.attr("rev");b.attr("href",wmgui.gui_host+window.location.pathname+"#plot/"+d+"/"+a)}));$("#visavis_col > ul > li").removeClass("embodied");$("#pltchoice_"+wmgui.visavis_curtype).addClass("embodied");-1<["matrix","cube","discovery"].indexOf(wmgui.visavis_curtype)&&update_dc();
if("matrix"==wmgui.visavis_curtype)$("#ctxpanel_matrix > ul > li.embodied").removeClass("embodied"),b=$("#ctxpanel_matrix > ul > li.ss_y"),b.length&&b.removeClass("ss_y"),$("#vismatrix_nump").addClass("embodied"),$("span.sops").remove();else if("cube"==wmgui.visavis_curtype){$("#ctxpanel_cube > ul > li.embodied").removeClass("embodied");b=$("#ctxpanel_cube > ul > li.ss_y");var d=$("#ctxpanel_cube > ul > li.ss_z");b.length&&b.removeClass("ss_y");d.length&&d.removeClass("ss_z");$("#viscube_nump").addClass("embodied");
$("span.sops").remove()}else"graph"==wmgui.visavis_curtype&&($("#ctxpanel_graph > ul > li.embodied").removeClass("embodied"),$("#visgraph_props").addClass("embodied"));try{document.getElementById("visavis_iframe").contentWindow.fixel_manage("cube"==wmgui.visavis_curtype&&wmgui.search.elements)}catch(c){console.error("No iframe access")}}function rotate_interesting(){$("#legend").html('<i>e.g.</i> <a href="#">'+WMCORE.get_interesting().text.replace(/\d/g,"&#x208$&;")+"</a>")}
function display_examples(b,a,d){null===wmgui.cliff_counter&&(wmgui.cliff_counter=Math.floor(Math.random()*wmgui.cliffhangers.length));for(var c="",e=0;e<(a?12:3);e++)wmgui.cliff_counter+=1,wmgui.cliff_counter>wmgui.cliffhangers.length-1&&(wmgui.cliff_counter=0),c+='<li><a href="#search/'+WMCORE.termify_formulae(wmgui.cliffhangers[wmgui.cliff_counter])+'">'+wmgui.cliffhangers[wmgui.cliff_counter].charAt(0).toUpperCase()+wmgui.cliffhangers[wmgui.cliff_counter].slice(1)+"</a></li>";$(b+" > ul").empty().append(c);
$(b).show();d&&($("#refine_col > div.col_title, #refine_col > ul").hide(),$("#refine_col").show())}
function arrange_menu_collateral(){$("#hintsbox_msg, #tagcloudbox").empty();for(var b="",a=0;a<wmgui.collateral_links.length;a++){var d=wmgui.collateral_links[a][1],c=wmgui.collateral_links[a][1]?"collateral":!1,e="",f="";a%2&&(c=c?c+" violet":"violet",f="<br />");wmgui.collateral_links[a][3]&&(e=' target="_blank"');b+="<a"+e+' href="'+wmgui.collateral_links[a][0]+'"'+(c?' class="'+c+'"':"")+(d?" rel="+d:"")+">"+wmgui.collateral_links[a][2]+"</a>"+f}$("#tagcloudbox").append(b);$("#hintsbox_msg").append(WMCORE.get_random_term(wmgui.welcome_msgs))}
function switch_view_mode(b){wmgui.view_mode=b;$("div.autocomplete-suggestions").hide();$("#results, #header_entries, #header_phases, #header_articles").hide();$("div.context_msg").hide();close_vibox();1==b?(stop_visavis(),document.title="MPDS materials platform",$("body").addClass("noscroll"),$("#search_box").removeClass("fluid").css("background","none").css("width","590px"),$("div.side_cols").hide(),$("#landing_box, #intro_stats, #subnav, #legend").show(),$("#search_holder").removeClass("prolonged").focus(),
$("#search_area").removeClass("prolonged"),$("#ermac_logo").removeClass("cornered")):2==b&&($("#landing_box, #intro_stats, #subnav, #legend").hide(),$("#ctx_col").hide(),wmgui.passive_sim_col&&$("#sim_col").hide(),$("body").removeClass("noscroll"),$("#search_box").css("background","#fff").css("width","100%").addClass("fluid"),$("#right_col").show(),$("#search_holder, #search_area").addClass("prolonged"),$("#ermac_logo").addClass("cornered"))}
function switch_control_mode(b,a,d,c){0==b?$("#control_c, #control_d, #control_e").css("width","33.3%").show():1==b?($("#control_e").hide(),$("#control_c, #control_d").css("width","50%").show()):9==b?($("#control_e, #control_d").hide(),$("#control_c").css("width","100%").show()):10==b?$("#control_a, #control_b, #control_f").css("width","33.3%").show():11==b?($("#control_b, #control_f").hide(),$("#control_a").css("width","100%").show()):12==b&&($("#control_a, #control_f").hide(),$("#control_b").css("width",
"100%").show());a&&(d||(d={0:"a",1:"b",2:"f"}[wmgui.search_type]),c||(c=wmgui.thumbed_display?"d":"c"),$("div.controlswitch > div").removeClass(),$("#control_"+d+", #control_"+c).addClass("active"),switch_control_mode(a))}
function build_cells(b,a,d){var c={7:" ml_data",8:" ab_data",9:" ab_data",10:" ab_data",11:" ab_data"},e="";a&&(e+=a);if(2==wmgui.search_type){if(6!=b[0].length)return wmgui.notify("Rendering error, please try to <a href=javascript:location.reload()>reload</a>"),"";$.each(b,(function(b,a){a[0]=parseInt(a[0]);999999==a[0]&&(a[4]=wmgui.mockyear);e+='<tr id="e__B'+a[0]+'" class="tcell" data-type="B"><td class=c55>[<a class="resolve_ref'+(-1<wmgui.bid_history.indexOf(a[0])?" visited":"")+'" href="'+wmgui.refs_endpoint+
"?ref_id="+a[0]+"&sid="+wmgui.sid+"&ed="+wmgui.edition+'" rel="'+a[0]+'" target="_blank" rel="noopener noreferrer">'+a[0]+"</a>]</td><td class=a1>"+a[1]+'</td><td class=a2 title="'+a[2]+'">'+a[2]+"</td><td class=a5>"+a[5]+"</td><td class=cj>"+a[3]+"</td><td class=c4>"+a[4]+"</td></tr>"}))}else if(1==wmgui.search_type){if(5!=b[0].length)return wmgui.notify("Rendering error, please try to <a href=javascript:location.reload()>reload</a>"),"";$.each(b,(function(b,a){e+='<tr id="e__Z'+a[0]+'" class="tcell" data-type="Z"><td class=p1>'+
a[1]+"</td><td class=p2>"+a[2]+"</td><td class=p3>"+a[3]+"</td><td class=p4>"+a[4]+'</td><td class=p5><a class=launch_ph href="#phase_id/'+a[0]+'">Show entries</a></td></tr>'}))}else{if(8!=b[0].length)return wmgui.notify("Rendering error, please try to <a href=javascript:location.reload()>reload</a>"),"";$.each(b,(function(b,a){a[7]=parseInt(a[7]);b=a[0].substr(0,1);var d=4==a[3]||5==a[3]||6==a[3]||9==a[3]||10==a[3]?"<span class=launch_v>Show</span>":" ",g=999999==a[7]?"<td class=cj>&mdash;</td><td class=c4>"+
wmgui.mockyear+"</td><td class=c5>&mdash;</td>":"<td class=cj>"+a[5]+"</td><td class=c4>"+a[6]+'</td><td class=c5>[<a class="resolve_ref'+(-1<wmgui.bid_history.indexOf(a[7])?" visited":"")+'" href="'+wmgui.refs_endpoint+"?ref_id="+a[7]+"&sid="+wmgui.sid+"&ed="+wmgui.edition+'" rel="'+a[7]+'" target="_blank" rel="noopener noreferrer">'+a[7]+"</a>]</td>";e+='<tr id="e__'+a[0]+'" class="tcell'+(c[a[3]]||"")+(a[4]?" opened":"")+'" data-type="'+b+'" data-rank="'+a[3]+'" title="Click for more info"><td class=c1>'+
a[1]+"</td><td class=cp>"+d+"</td><td class=c2>"+a[2]+"</td>"+g+"</tr>"}))}d&&(e+=d);return e}
function build_thumbs(b){var a={6:" pd_full",7:" ml_data",8:" ab_data",9:" ab_data",10:" ab_data",11:" ab_data"},d="";if(2==wmgui.search_type){if(6!=b[0].length)return wmgui.notify("Rendering error, please try to <a href=javascript:location.reload()>reload</a>"),"";b.sort((function(b,a){return b[4]>a[4]?1:b[4]<a[4]?-1:0}));var c="",e=!!wmgui.sid;$.each(b,(function(b,a){a[0]=parseInt(a[0]);999999==a[0]&&(a[4]=wmgui.mockyear);c=e?(60<a[1].length?a[1].substr(0,60)+"&hellip;":a[1])+", <span>"+(80<a[2].length?
a[2].substr(0,80)+"&hellip;":a[2])+"</span>":"<br /><br />&#x1f4d6;";d+='<div class="gallery_item" id="e__B'+a[0]+'" data-type="B"><div class="gallery_img"><div class="articled">'+c+'</div></div><div class="gallery_label"><i>'+a[5]+'</i><br />[<a class="resolve_ref'+(-1<wmgui.bid_history.indexOf(a[0])?" visited":"")+'" href="'+wmgui.refs_endpoint+"?ref_id="+a[0]+"&sid="+wmgui.sid+"&ed="+wmgui.edition+'" rel="'+a[0]+'" target="_blank" rel="noopener noreferrer">'+a[3]+"&rsquo;"+a[4].toString().substr(2,
2)+"</a>]</div></div>"}))}else if(1==wmgui.search_type){if(5!=b[0].length)return wmgui.notify("Rendering error, please try to <a href=javascript:location.reload()>reload</a>"),"";b.sort((function(a,b){return a[1]>b[1]?1:a[1]<b[1]?-1:0}));$.each(b,(function(a,b){d+='<div class="gallery_item" id="e__Z'+b[0]+'" data-type="Z"><div class="gallery_img"><div class="phased">'+b[1]+"<br /><br />SG "+b[2]+'</div></div><div class="gallery_label"><a class=launch_ph href="#phase_id/'+b[0]+'">Show '+b[3]+(1==b[3]?
" entry":" entries")+"</a><br />Publications: "+b[4]+"</div></div>"}))}else{if(8!=b[0].length)return wmgui.notify("Rendering error, please try to <a href=javascript:location.reload()>reload</a>"),"";b.sort((function(b,a){var c=b[0].substr(0,1),d=a[0].substr(0,1);if("S"==c)return"S"==d?b[1]>a[1]?1:b[1]<a[1]?-1:0:-1;if("C"==c){if("C"==d)return b[1]>a[1]?1:b[1]<a[1]?-1:0;if("S"==d)return 1;if("P"==d)return-1}if("P"==c)return"P"==d?b[2].toUpperCase()>a[2].toUpperCase()?1:b[2].toUpperCase()<a[2].toUpperCase()?
-1:0:1}));$.each(b,(function(b,c){c[7]=parseInt(c[7]);b=c[0].substr(0,1);var e=999999==c[7]?"<br />&mdash;":'<br />[<a class="resolve_ref'+(-1<wmgui.bid_history.indexOf(c[7])?" visited":"")+'" href="'+wmgui.refs_endpoint+"?ref_id="+c[7]+"&sid="+wmgui.sid+"&ed="+wmgui.edition+'" rel="'+c[7]+'" target="_blank" rel="noopener noreferrer">'+c[5]+"&rsquo;"+c[6].toString().substr(2,2)+"</a>]";if("P"==b)var g="<div>"+c[2]+"</div>";else"S"==b?g='<img alt="'+c[0]+'" src="'+wmgui.static_host+"/rd_thumbs/"+c[0].split("-")[0]+
'.png" />':(c[2]=c[2].split(";")[0],c[2]=c[2].split(" ")[c[2].split(" ").length-1],g='<img alt="'+c[0]+'" src="'+wmgui.static_host+"/pd_thumbs/"+c[0].split("-")[0]+'.png" /><p>'+c[2]+"</p>");d+='<div class="gallery_item'+(a[c[3]]||"")+(c[4]?" opened":"")+'" id="e__'+c[0]+'" data-type="'+b+'" data-rank="'+c[3]+'" title="Click for more info"><div class="gallery_img">'+g+'</div><div class="gallery_label">'+c[1]+e+"</div></div>"}))}return d}
function request_refinement(b,a){$("#examples").hide();$("#refine_col > ul").empty().parent().show();$("#refine_col > div.col_title").show();var d={is_heavy:a};$.extend(d,b);try{wmgui.active_ajax.abort()}catch(c){}wmgui.active_ajax=$.ajax({type:"GET",url:wmgui.rfn_endpoint,data:{q:JSON.stringify(d)},beforeSend:function(){$("#rfn_preloader").show()}}).always((function(){$("#rfn_preloader").hide()})).done((function(c){if(c.error)return wmgui.notify(c.error);var e=null,f="",g=[],l=0;delete d.is_heavy;d.classes&&
(g=d.classes.split(",").map((function(b){return b.trim()})),d.classes=g.join(","));var m=!1;$.each(wmgui.inquiries,(function(b,a){if(d[a])return m=!0,!1}));$.each(c.payload,(function(c,h){if(b.formulae&&"elements"==h.facet)return!0;var n="",p=!1,k={};$.each(d,(function(b,a){if(-1<["search_type","phid","numeric"].indexOf(b)||"elements"==h.facet&&("elements"==b||"formulae"==b)||"props"==h.facet&&"props"==b)return!0;n+=a+" ";k[b]=k[b]?k[b]+(", "+a):a}));b.classes&&"classes"==h.facet&&$.each(g,(function(b,a){if(a==
h.value)return p=!0,!1}));if(p)return!0;h.facet!=e&&(e&&a&&(f+='<li class="fct_'+e+' extd_refine"><a class="extd_refine" rel="'+e+'" href="#">Show more&nbsp;</a></li>'),f+='<li class="new_rfn_facet fct_'+h.facet+'">'+wmgui.facet_names[h.facet]+"</li>",e=h.facet);"props"==h.facet&&(h.value=h.value.replace(/\(|\)/g,"").replace(/\/[\w\-]*/g,""));k[h.facet]=k[h.facet]?k[h.facet]+(", "+h.value):h.value;k.elements&&(k.elements=k.elements.replaceAll(", ","-"));f=m?f+('<li class="fct_'+h.facet+'"><a href="#inquiry/'+
$.param(k)+'">'+h.value+"</a></li>"):f+('<li class="fct_'+h.facet+'"><a href="#search/'+n+h.value+'">'+h.value+"</a></li>");l++}));a&&(f+='<li class="fct_'+e+' extd_refine"><a class="extd_refine" rel="'+e+'" href="#">Show more&nbsp;</a></li>');0==l?display_examples("#examples",!0,!0):($("#refine_col > ul").show().append(wmgui.clean(f)),10>=l&&display_examples("#examples",!1,!1))})).fail((function(b,a,d){"abort"!=a&&(429==b.status?wmgui.notify("Request rate limiting policy: please retry in a few seconds"):
wmgui.notify("Connection to server is lost, please try to <a href=javascript:location.reload()>reload</a>"))}))}
function open_context(b,a){close_vibox();if(b.hasClass("busy_entry")){b.removeClass("busy_entry");$("#ctx_col, #sim_col").hide();try{wmgui.quick_ajax.abort()}catch(g){}}else{var d=b.attr("id").substr(3),c=parseInt(b.attr("data-rank")),e=d.substr(0,1),f=d.split("-")[0];$(".busy_entry").removeClass("busy_entry");b.addClass("busy_entry");"Z"!=e&&"B"!=e&&($("#entryno").html('<a href="#entry/'+f+'">'+f+"</a>"),$("#ctx_col").show(),$("#visualize, div.spinoff_pane, li.d_icon").hide(),open_sim_col(d,e,c),
0==c?$("#download_bib").show():1==c?$("#download_bib, #download_pdf").show():2==c?$("#download_bib, #download_pdf, #download_json").show():3==c?$("#download_bib, #download_png, #download_cdr").show():4==c?($("#visualize").attr("data-rank",c),$("#download_bib, #download_json, #visualize").show()):5==c?($("#visualize").attr("data-rank",c),$("#download_bib, #download_pdf, #visualize, #download_cif, #download_inp, #download_json").show()):6==c?($("#visualize").attr("data-rank",c),$("#download_bib, #download_pdf, #visualize, #download_png, #download_cdr, #download_json").show()):
7==c?$("#ml_data, #download_pdf, #download_json").show():8==c?$("#ab_data, #download_pdf, #download_json, #download_raw").show():9==c?($("#visualize").attr("data-rank",c),$("#ab_data, #download_pdf, #download_json, #visualize, #download_png, #download_raw").show()):10==c?($("#visualize").attr("data-rank",c),$("#ab_data, #download_pdf, #download_json, #visualize, #download_raw").show()):11==c&&$("#ab_promise, #download_json").show(),$("#ctx_col > ul > li.d_icon:visible > a").each((function(){var b=
$(this).attr("rel"),a="S"==e?"&export=1":"",c="raw"==b?"null":wmgui.sid;b=wmgui.dd_addr_tpl+"/"+e.toLowerCase()+"?q="+d+"&fmt="+b+"&sid="+c+a+"&ed="+wmgui.edition;$(this).attr("href",b)})),a&&launch_iframed_app(c))}}
function open_sim_col(b,a,d){$("#sim_col > ul, #sim_legend").empty();$(".sim_col_ctx").hide();$("#sim_col").show();var c={q:b},e=-1<[0,1,4,9].indexOf(d);e&&(c.allpurpose=!0);try{wmgui.quick_ajax.abort()}catch(f){}wmgui.quick_ajax=$.ajax({type:"GET",url:wmgui.sim_endpoint,data:c,beforeSend:function(){$("#sim_preloader").show()}}).always((function(){$("#sim_preloader").hide()})).done((function(c){if(c.error)return wmgui.notify(c.error);var g=0,f="";if(e)$.each(c.out.sim,(function(b,a){if(7==g)return!1;
f=a[4]?f+('<li><a href="#inquiry/'+$.param({elements:a[1],years:a[2],codens:a[3],classes:1==a[4]?"":a[4]})+'">'+a[0]+"</a></li>"):f+('<li><a href="#inquiry/'+$.param({formulae:a[1],years:a[2],codens:a[3]})+'">'+a[0]+"</a></li>");g++}));else if("C"==a||"S"==a)3<d&&($.each(c.out.sim,(function(b,a){if(8==g)return!1;f+='<li><a href="#phase_id/'+a[1]+'">'+a[0]+"</a></li>";g++})),"C"==a&&$("#pd_legend").show());else{var m=wmgui.thumbed_display?$("div.busy_entry > div.gallery_img > div").text().split(";")[0]:
$("tr.busy_entry > td.c2").text().split(";")[0];$.each(c.out.sim,(function(b,a){if(8==g)return!1;f+='<li><a href="#search/'+m+" "+a[1]+'">'+a[0]+"</a></li>";g++}))}g?(e?$("#sim_legend").removeClass("apparent").text("Also studied by these authors:"):"C"==a?$("#sim_legend").removeClass("apparent").text("Phases at the diagram:"):"S"==a?$("#sim_legend").removeClass("apparent").text("The same prototype structures:"):$("#sim_legend").removeClass("apparent").text("Similar "+m+":"),7<g&&$("#sim_trigger").attr("href",
"#interlinkage/"+b).show(),$("#sim_col > ul").html(f)):e?$("#sim_legend").addClass("apparent").text("No cross-links found"):"C"==a&&3==d?$("#sim_legend").addClass("apparent").html('<br /><a href="#entry/'+b.split("-")[0]+'"><img alt="C-entry" src="'+wmgui.static_host+"/pd_thumbs/"+b.split("-")[0]+'.png" /><br /><span>Full phase diagram</span></a>'):"C"==a&&5==d?$("#sim_legend").addClass("apparent").text("No links to other phases found"):"S"==a?$("#sim_legend").addClass("apparent").text("No other structures for this prototype found"):
$("#sim_legend").addClass("apparent").text("No similar values found");c.out.own.length&&!wmgui.search.phid&&$("#own_phase").html('<a href="#phase_id/'+c.out.own[0][1]+'"><img alt="Phase" src="'+wmgui.static_host+"/rd_thumbs/"+c.out.own[0][0]+'.png" /><br /><span>Linked '+("S"==a?"distinct phase":"crystalline structure")+"</span></a>").show()})).fail((function(a,b,c){"abort"!=b&&(429==a.status?wmgui.notify("Request rate limiting policy: please retry in a few seconds"):wmgui.notify("Connection to server is lost, please try to <a href=javascript:location.reload()>reload</a>"))}))}
function close_vibox(){return $("#iframe").length?(wmgui.thumbed_display?$("#iframe").slideUp((function(){$("#iframe").remove()})):$("#iframe").remove(),$("#vibox").hide(),!0):!1}
function launch_iframed_app(b){var a=$(".busy_entry");if(a.length){var d=a.attr("id").substr(3),c=d.substr(0,1);"S"==c?(b=wmgui.v_player_addr+d,c=650):"P"==c?10==b?(b=wmgui.v_ab_vis_addr+d,c=600):(b=wmgui.v_sd_addr+d,c=550):(b=(wmgui.sid?wmgui.v_pd_addr:wmgui.v_pd_addr_anon)+d,c=600,d.startswith("C3")||d.startswith("C4")?wmgui.notify("This entry is now in preparation"):wmgui.entries_messages[d]&&wmgui.notify(wmgui.entries_messages[d]));wmgui.sid&&(b+="&sid="+wmgui.sid);d='<iframe frameborder=0 scrolling="no" width="100%" height="'+
c+'" src="'+b+'"></iframe>';d=wmgui.thumbed_display?'<div id="iframe" style="display:block;width:100%;border:1px solid #ddd;margin:10px 0;">'+d+"</div>":'<tr id="iframe"><td colspan="20" style="width:100%;padding:0;border-right:1px solid #eee;border-left:1px solid #eee;">'+d+"</td></tr>";a.after(d);$(window).scrollTop(a.position().top-95)}}
function start_visavis(b){destroy_numericbox();delete wmgui.search.numeric;b&&(wmgui.visavis_curtype=b);$("div.ctxpanel").hide();b=$("#ctxpanel_"+wmgui.visavis_curtype);b.length&&b.show();-1<["matrix","cube","discovery"].indexOf(wmgui.visavis_curtype)&&$("#cmppanel_plots").show();if(wmgui.visavis_working)return manage_visavis();rebuild_visavis();$("#visavis_col").show();$("#visavis").show();switch_control_mode(0,11,"a","e");$("body").addClass("noscroll");wmgui.search_type=0;wmgui.visavis_working=
!0;wmgui.visavis_starting=!1;b={total_count:1};$.extend(b,wmgui.search);try{document.getElementById("visavis_iframe").contentWindow.location.replace(get_visavis_url(b))}catch(a){console.error("No iframe access")}}
function manage_visavis(b,a,d){if(wmgui.visavis_terminating||!wmgui.visavis_working)return!1;if(wmgui.search.numeric)return wmgui.visavis_terminating=!0,!1;try{wmgui.active_ajax.abort()}catch(e){}try{wmgui.quick_ajax.abort()}catch(e){}rebuild_visavis();var c={total_count:1};$.extend(c,wmgui.search);try{document.getElementById("visavis_iframe").contentWindow.location.replace(get_visavis_url(c))}catch(e){console.error("No iframe access")}b&&b(a,d);return!0}
function stop_visavis(){$("#visavis, #visavis_col").hide();wmgui.visavis_working=!1;wmgui.visavis_terminating=!1}function get_visavis_url(b){return"pie"==wmgui.visavis_curtype?wmgui.static_host+"/visavis/#"+wmgui.rfn_endpoint+"?q="+escape(JSON.stringify(b)):wmgui.static_host+"/visavis/#"+wmgui.vis_endpoint+"/"+wmgui.visavis_curtype+"?q="+escape(JSON.stringify(b))}
function describe_perms(b){var a="<h3>Web-browser access</h3><ul>",d="<h3>Programmatic access = API</h3><ul>";b.gui?b.gui.root?a+="<li>Complete access</li>":($.isArray(b.gui)||(b.gui=[b.gui]),$.each(b.gui,(function(c,d){if(3<c)return a+="<li>and "+(b.gui.length-4)+" more...</li>",!1;$.each(wmgui.facets,(function(b,c){if(d[c])try{a+='<li class="perms_view fct_'+c+'"><strong>'+wmgui.facet_names[c]+"</strong>: "+d[c].map((function(a){return a.replace(", "," &amp; ")})).join(", ")+"</li>"}catch(l){return!1}}));
a="ALL"==d.refs?a+"<li>Full access to reference details</li>":"MENTIONED"==d.refs?a+"<li>Access to corresponding references</li>":a+"<li>No access to reference details</li>";a+='<li style="font-size:0.8em;line-height:0.8em;"><br /></li>'}))):a+="<li>Only open data</li>";b.api?b.api.root?d+="<li>Complete access</li>":($.isArray(b.api)||(b.api=[b.api]),$.each(b.api,(function(a,e){if(3<a)return d+="<li>and "+(b.api.length-4)+" more...</li>",!1;$.each(wmgui.facets,(function(a,b){if(e[b])try{d+='<li class="perms_view fct_'+
b+'"><strong>'+wmgui.facet_names[b]+"</strong>: "+e[b].map((function(a){return a.replace(", "," &amp; ")})).join(", ")+"</li>"}catch(l){return!1}}));d+='<li style="font-size:0.8em;line-height:0.8em;"><br /></li>'}))):d+="<li>Only open data</li>";return a+'</ul><div class="divider"></div>'+d+"</ul>"}
function show_advsbox(){$("div.modal").hide();$("#advsbox, #overlay").show();$.isEmptyObject(wmgui.search)||($.each(wmgui.simple_facets,(function(b,a){wmgui.search[a]?(b=wmgui.search[a],"codens"==a?b=wmgui.journal_converter.c2j(b):"doi"==a&&(b=b.replaceAll("%2F","/")),$("#advs_fct_"+a).val(unescape(b.replace(/\+/g,"%20")))):$("#advs_fct_"+a).val("")})),$.each(wmgui.multi_facets,(function(b,a){$("#advs_fct_"+a+"-selectized").val("");wmgui.multiselects[a].clear();wmgui.search[a]&&(b={},b[a]=wmgui.search[a],
wmgui.multiselects[a].write(b),"aetypes"==a&&show_aetmap(wmgui.search[a].split(",").pop().trim()))})));show_advsbox.cached_aetmap||(show_advsbox.cached_aetmap=new Image,show_advsbox.cached_aetmap.src=wmgui.aetmap_addr)}
function show_hints(b){$("#fdwidget").html('Were you satisfied with the data quality? Did everything work as expected? <span id="fdwidget_yes">Yes</span><span id="fdwidget_no">No</span>').show();b||wmgui.search.numeric||wmgui.search.doi||wmgui.search.phid||wmgui.fuzzyout||2==wmgui.search_type||(b={},$.extend(b,wmgui.search),delete b.ignored,delete b.search_type,b=JSON.stringify(b).replaceAll(" ","+").replace("{","\\{").replace("}","\\}"),$("#apihint span").html(b).parent().show(),wmgui.search.search_type||
($("a.plthint_links").each((function(){var a=$(this),b=a.attr("rev");a.attr("href",wmgui.gui_host+window.location.pathname+"#plot/"+b+"/"+window.location.hash.substr(1))})),$("#plthint").show()))}
function show_tooltip(b,a){if(!(b.view_mode!=wmgui.view_mode||wmgui.visavis_working&&!a||$("div.modal").is(":visible"))){a=1==wmgui.view_mode?$("#"+b.el).offset():$("#"+b.el).position();var d=document.getElementById("tooltip");d.style.left=a.left-b.oleft+"px";d.style.top=a.top+b.otop+"px";d.firstChild.innerHTML=b.text;document.getElementById("tooltip").style.display="block"}}
function user_login(b,a,d,c){var e=40<a.length?a.substr(0,37)+"&hellip;":a;$("#auth_user").html(e);$("#account_holder_name").text("Hi "+a+"!");$("#account_holder_acclogin > span").html('<a href="mailto:'+d+'">'+d+"</a>");wmgui.sid=b;$("div.logged_out").hide();$("div.logged_in").show();window.localStorage.setItem("wm",JSON.stringify({sid:b,name:a,acclogin:d,admin:c}));c?$("li.admin").show():$("li.admin").hide();try{document.getElementById("visavis_iframe").contentWindow.location.reload()}catch(f){console.error("No iframe access")}communicate_windows("local_user_login");
wmgui.notify("You are logged in")}function local_user_login(){var b=JSON.parse(window.localStorage.getItem("wm")||"{}");b.sid!=wmgui.sid&&b.sid&&b.name&&b.acclogin&&user_login(b.sid,b.name,b.acclogin,b.admin)}
function user_logout(b){if(wmgui.sid){wmgui.sid=null;$("li.admin").hide();$("div.logged_in").hide();$("div.logged_out").show();window.localStorage.removeItem("wm");try{document.getElementById("visavis_iframe").contentWindow.location.reload()}catch(a){console.error("No iframe access")}communicate_windows("user_logout");b||wmgui.notify("You are logged out")}}
function force_relogin(b){$.ajax({type:"POST",url:wmgui.logout_endpoint,data:{sid:wmgui.sid}}).done((function(a){})).fail((function(a,b,c){}));user_logout(!0);window.location.replace("#modal/login");b&&wmgui.notify(b)}function communicate_windows(b){window.localStorage.setItem("wm_reload",b);window.localStorage.removeItem("wm_reload")}
function update_dc(){var b=[],a={},d;for(d in wmgui.search)-1<["search_type","phid","numeric"].indexOf(d)||(a[d]=wmgui.search[d],b.push(wmgui.search[d]));b=b.join(" ");var c=0,e=JSON.stringify(a),f='<option value="X" selected>Last search...</option>';$.each(JSON.parse(window.localStorage.getItem("wm_search_log_v4")||"[]"),(function(b,a){if(5<c)return!1;b=[];var d=JSON.stringify(a);if(e==d)return!0;for(var g in a)b.push(a[g]);b=b.join(" ");f+='<option value="'+escape(d)+'">'+b+"</option>";c++}));f+=
'<option value="Y">No comparison</option>';$("#select_cmp_trigger").empty().append(f)}function show_aetmap(b){(b=wmgui.aets[b])?$("#aetmap").css("height",b[1]+"px").css("background","url("+wmgui.aetmap_addr+") 0 -"+b[0]+"px no-repeat").show():$("#aetmap").hide()}
function render_all_polyhedra(){if($("#all_polyhedra_content").is(":empty")){var b="",a=Object.keys(wmgui.aets);a.sort((function(b,a){var c=b.split("-vertex")[0].split(" ");c=parseInt(c[c.length-1]);var d=a.split("-vertex")[0].split(" ");d=parseInt(d[d.length-1]);return c>d?1:c<d?-1:b.length>a.length?1:b.length<a.length?-1:0}));$.each(a,(function(a,c){a=wmgui.aets[c];b+='<div class="gallery_item" rel="'+c+'"><div style="width:125px;height:'+a[1]+"px;margin:10px auto;background:url("+wmgui.aetmap_addr+
") 0 -"+a[0]+'px no-repeat;"></div><span>'+c+"</span></div>"}));$("#all_polyhedra_content").html(b)}}function assign_edition(){function b(a){a=parseInt(a);wmgui.editions[a]||(a=0);wmgui.edition=a;wmgui.loadCSS(wmgui.editions[a].css);wmgui.editions[a].actions&&wmgui.editions[a].actions()}$.each(wmgui.editions,(function(a,d){if(wmgui.gui_host==d.prod_url||wmgui.gui_host==d.dev_url)return b(a),!1}));wmgui.edition||b(0)};
var wmgui=window.wmgui||{};
function satisfy_requirements(){$("#notifybox, #preloader").hide();local_user_login();var n="";$.each(JSON.parse(window.localStorage.getItem("wm_search_log_v4")||"[]"),(function(a,d){wmgui.tooltip_var++;if(7<a)return!1;a=[];for(var q in d)a.push(d[q]);a=a.join(" ");var f=!1;$.each(wmgui.inquiries,(function(a,m){if(d[m])return f=!0,!1}));n=f?n+('<li><a href="#inquiry/'+$.param(d)+'">'+a+"</a></li>"):n+('<li><a href="#search/'+escape(a)+'">'+a+"</a></li>")}));$("#history ul").append(n);$.each(JSON.parse(window.localStorage.getItem("bid_history")||
"[]"),(function(a,d){wmgui.bid_history.push(parseInt(d))}));$.getJSON(wmgui.client_data_addr,(function(a){WMCORE=WMCORE(a.classes,a.props,a.props_ref);var d=0,q=a.props_ref.length;for(d;d<q;d++)a.props_ref[d]||(a.props_ref[d]=a.props[d]);a.classes.extend(a.classes_ite);$.each("props lattices sgs protos codens geos orgs".split(" "),(function(b,c){wmgui.create_autocomplete({custom_type:c,selector:"advs_fct_"+c,minChars:1,cache:1,source:function(k,b,c){var h=b,g=b,d=!1;"lattices"!==b&&(d=!0,"props"==b?h=
"props_ref":"codens"==b&&(g=h="jfull"));b=[];var e=0,r=[],l=0,f=a[g].length;k=k.toLowerCase();for(l;l<f&&!(a[g][l].toLowerCase().startswith(k)&&(b.push(a[h][l]),d&&r.push(a[h][l]),e++,12<e));l++);if(d&&6>b.length)for(l=0;l<f&&!(-1!=a[g][l].toLowerCase().indexOf(k)&&-1==r.indexOf(a[h][l])&&(b.push(a[h][l]),e++,12<e));l++);c(b)},renderItem:function(a,b){return'<div class="autocomplete-suggestion" data-val="'+a+'">'+a+"</div>"}})}));$.each(wmgui.multi_facets,(function(b,c){wmgui.multiselects[c]=$("#advs_fct_"+
c).selectize({plugins:["remove_button","preserve_on_blur"],valueField:"id",labelField:"label",searchField:"label",create:!1,highlight:!1,maxItems:5,closeAfterSelect:!0,diacritics:!1,options:[],onChange:function(a){"aetypes"==c&&(a=(wmgui.multiselects.aetypes.read().aetypes||"").split(", ").pop(),show_aetmap(a),$("#aet_limit").is(":checked")&&$("#aet_limit").trigger("click"))},onItemRemove:function(a){var b=this;setTimeout((function(){b.close()}),750)},load:function(b,d){this.clearOptions();if(!b.length)return d();
var k=[],h=0,g=[],e=0,f=a[c].length;b=b.toLowerCase();for(e;e<f&&!(a[c][e].toLowerCase().startswith(b)&&(k.push({facet:c,label:a[c][e],id:c+e}),g.push(a[c][e]),h++,12<h));e++);if(6>k.length)for(e=0;e<f&&!(-1!=a[c][e].toLowerCase().indexOf(b)&&-1==g.indexOf(a[c][e])&&(k.push({facet:c,label:a[c][e],id:c+e}),h++,12<h));e++);d(k)},score:function(){return function(){return 1}},render:{option:function(a,b){return'<div class="fct_'+a.facet+'">'+a.label+"</div>"},item:function(a,b){return'<div class="fct_'+
a.facet+'" data-facet="'+a.facet+'" data-term="'+a.label+'">'+a.label+"</div>"}}})[0].selectize;wmgui.multiselects[c].read=function(){return wmgui._selectize_read_facet(c)};wmgui.multiselects[c].write=function(a){wmgui._selectize_write(wmgui.multiselects[c],c,a)};wmgui.multiselects[c].display=function(a,b){wmgui._selectize_display(wmgui.multiselects[c],a,b)}}));wmgui.journal_converter.j2c=function(b){var c=a.jfull.indexOf(b);return-1==c?(wmgui.notify("Unknown journal: "+b),b):a.codens[c]};wmgui.journal_converter.c2j=
function(b){var c=a.codens.indexOf(b);return-1==c?(wmgui.notify("Unknown CODEN: "+b),b):a.jfull[c]};var f="",n="",m="",p=0;$.each(a.hy_scalars,(function(b,c){b=parseInt(b);b=a.props_ref[b]?a.props_ref[b]:a.props[b];p+=1;f+='<li><a class="dynprop" data-val="'+b+'" href="#inquiry/props='+b.replace(/ /g,"+")+'">'+b+'</a> (<span class="hy'+p+'">expand</span>)<ul style="display:none;">';$.each(c,(function(b,c){b=parseInt(b);b=a.props_ref[b]?a.props_ref[b]:a.props[b];f+='<li><a class="dynprop" data-val="'+
b+'" href="#inquiry/props='+b.replace(/ /g,"+")+'">'+b+'</a><ul style="display:none;">';$.each(c,(function(b,c){c=parseInt(c);b=a.props_ref[c]?a.props_ref[c]:a.props[c];var d=a.numerics[c];f+='<li><a class="dynprop" data-val="'+b+'" href="#inquiry/props='+b.replace(/ /g,"+")+'">'+b+"</a>";d&&(f+='<strong class="numeric" title="Numeric search" rel="'+b+'">'+(d[0]||"")+" &nbsp;["+d[1]+" &mdash; "+d[2]+"]&nbsp;&#x1F50D;</strong>",wmgui.numerics[b]=[c,d[0],d[1],d[2],d[3]]);f+="</li>"}));f+="</ul></li>"}));
f+="</ul></li>"}));$("#hy_scalars > ul").append(f);$.each(wmgui.hy_complex,(function(a,c){n+='<li><a class="dynprop" data-val="'+c+'" href="#search/'+c+'">'+c+"</a></li>"}));$("#hy_complex > ul").append(n);$.each(a.hy_textual,(function(b,c){b=parseInt(b);b=a.props_ref[b]?a.props_ref[b]:a.props[b];p+=1;m+='<li><a class="dynprop" data-val="'+b+'" href="#inquiry/props='+b.replace(/ /g,"+")+'">'+b+'</a> (<span class="hy'+p+'">expand</span>)<ul style="display:none;">';$.each(c,(function(b,c){b=parseInt(b);
b=a.props_ref[b]?a.props_ref[b]:a.props[b];m+='<li><a class="dynprop" data-val="'+b+'" href="#inquiry/props='+b.replace(/ /g,"+")+'">'+b+'</a><ul style="display:none;">';$.each(c,(function(b,c){c=parseInt(c);c=a.props_ref[c]?a.props_ref[c]:a.props[c];m+='<li><a class="dynprop" data-val="'+c+'" href="#inquiry/props='+c.replace(/ /g,"+")+'">'+c+"</a></li>"}));m+="</ul></li>"}));m+="</ul></li>"}));$("#hy_textual > ul").append(m);wmgui.create_autocomplete({selector:"hy_suggest",minChars:1,cache:1,source:function(b,
c,d){b=b.toLowerCase();var e=[],f=0,h=[],g=0,k=a[c].length;for(g;g<k&&!(a[c][g].startswith(b)&&(e.push(a.props_ref[g]),h.push(a.props_ref[g]),f++,18<f));g++);if(12>e.length)for(g=0;g<k&&!(-1!=a[c][g].indexOf(b)&&-1==h.indexOf(a.props_ref[g])&&(e.push(a.props_ref[g]),f++,18<f));g++);d(e)},renderItem:function(a,c){return'<div class="autocomplete-suggestion" style="'+(wmgui.numerics[a]?"color:#c00":"")+'" data-val="'+a+'">'+a+"</div>"},onSelect:function(a,c,d){a=wmgui.numerics[c];$("#numericbox").is(":visible")&&
a?create_floating_slider(c,a[0],a[1],a[2],a[3],a[4]):window.location.hash=wmgui.aug_search_cmd("props",c);$("#hy_suggest").val("")}});rotate_interesting();setInterval(rotate_interesting,2E3);window.location.hash?url_redraw_react():window.location.replace("#start")}));wmgui.multiselects.main=$("#search_field").selectize({plugins:["remove_button","preserve_on_blur"],valueField:"id",labelField:"label",searchField:"label",create:!1,highlight:!1,maxItems:10,closeAfterSelect:!0,diacritics:!1,options:[],
onInitialize:function(){$("#search_field-selectized").focus()},onItemRemove:function(a){var d=this;wmgui.multiselects.main.read().numeric||(destroy_numericbox(),delete wmgui.search.numeric);setTimeout((function(){d.close()}),750)},load:function(a,d){this.clearOptions();if(!a.length)return d();$.ajax({url:wmgui.auto_endpoint+"?q="+encodeURIComponent(a),type:"GET",error:d,success:function(a){a.length&&d(a)}})},score:function(){return function(){return 1}},render:{option:function(a,d){return'<div class="fct_'+
a.facet+'">'+a.label+"</div>"},item:function(a,d){return'<div class="fct_'+a.facet+'" data-facet="'+a.facet+'" data-term="'+a.label+'">'+a.label+"</div>"}}})[0].selectize;wmgui.multiselects.main.read=function(){return wmgui._selectize_read_main()};wmgui.multiselects.main.write=function(a){wmgui._selectize_write(wmgui.multiselects.main,"main",a)};wmgui.multiselects.main.display=function(a,d){wmgui._selectize_display(wmgui.multiselects.main,a,d)}};
assign_edition();register_html();satisfy_requirements();register_events();

